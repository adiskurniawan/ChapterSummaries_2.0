<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='utf-8'><meta name='viewport' content='width=device-width,initial-scale=1'>
<title>Tables Viewer v2.1</title>
<style>:root{--main-header-height:56px;}</style>
<link rel="stylesheet" href="assets/style.css?v=1759433634">
<link rel="stylesheet" href="assets/overrides.css?v=1759433634">
</head><body>
<div id="tables-viewer" role="region" aria-label="Tables viewer">
<div id="stickyMainHeader">
<div id="tv-header"><div><h1>Tables Viewer v2.1</h1></div><div style="display:flex;gap:8px;align-items:center;">
<input id="searchBox" type="search" placeholder="Search" aria-label="Search tables" style="min-width:420px; width:44ch;"/>
<button id="modeBtn" type="button" onclick="toggleMode()" aria-label="Toggle theme">Theme</button>
<button id="toggleAllBtn" type="button" aria-label="Toggle all" onclick="toggleAllTables()">Collapse All Tables</button>
<button id="copyAllPlainBtn" type="button" onclick="copyAllTablesPlain()" aria-label="Copy all tables as plain text">Copy All Tables (Plain Text)</button>
<button id="copyAllMdBtn" type="button" onclick="copyAllTablesMarkdown()" aria-label="Copy all tables as markdown">Copy All Tables (Markdown)</button>
<button id="resetAllBtn" type="button" onclick="resetAllTables()" aria-label="Reset all tables">Reset All Tables</button>
</div></div>
<noscript><div style='color:#b91c1c'>JavaScript is disabled. Tables will be shown statically. For large tables enable JS for virtualization.</div></noscript>
<div id="tocBar" role="navigation" aria-label="Table of contents"><ul><li class="toc-item"><a class="toc-link" href="#table-1">Table 1</a></li>
<li class="toc-item"><a class="toc-link" href="#table-2">Table 2</a></li>
<li class="toc-item"><a class="toc-link" href="#table-3">Table 3</a></li>
<li class="toc-item"><a class="toc-link" href="#table-4">Table 4</a></li>
<li class="toc-item"><a class="toc-link" href="#table-5">Table 5</a></li>
<li class="toc-item"><a class="toc-link" href="#table-6">Table 6</a></li></ul></div></div>
<div class="tv-fragment" id="frag-1">
<div class="table-wrapper" data-table-id="table-1"><h3 id="table-1">Table 1</h3><div class="table-container"><div class="table-header-wrapper" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:5px;"><div class="copy-buttons"><button type="button" class="copy-plain-btn" data-action="copy-plain" onclick="copyTablePlain(this)">Copy Plain Table</button><button type="button" class="copy-markdown-btn" data-action="copy-markdown" onclick="copyTableMarkdown(this)">Copy Markdown Table</button><button type="button" class="export-csv-btn" data-action="export-csv" onclick="exportTableCSV(this)">Export CSV</button><button type="button" class="export-json-btn" data-action="export-json" onclick="exportTableJSON(this)">Export JSON</button><button type="button" class="export-xlsx-btn" data-action="export-xlsx" onclick="exportTableXLSX(this)">Export XLSX</button><button type="button" class="export-pdf-btn" data-action="export-pdf" onclick="exportTablePDF(this)">Export PDF</button><button type="button" class="export-markdown-btn export-markdown-initial" data-action="export-markdown" onclick="exportTableMarkdown(this)" style="display:none" data-initial-hidden="1">Export Markdown</button></div><div style="display:flex; align-items:center;"><button type="button" class="toggle-table-btn" data-action="toggle-collapse" onclick="toggleTable(this)">Collapse Table</button></div></div><table class="tv-table" role="table"><thead><tr><th style="width:28.57%;" role="button" aria-label="Sort by **Topic**"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"><strong>Topic</strong></div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th><th style="width:71.43%;" role="button" aria-label="Sort by **Details**"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"><strong>Details</strong></div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th></tr></thead><tbody><tr><td data-label="Topic"><strong>Purpose</strong>                     </td><td data-label="Details">Tiny file-io helpers: read a file, write a file, ensure a directory exists. Designed for simple scripts and local tooling.</td></tr><tr><td data-label="Topic"><strong>Provided functions</strong>          </td><td data-label="Details">`read_file(path: str) -> str` — reads whole file with UTF-8.  <br>`write_file(path: str, content: str)` — ensures parent dir then writes content (UTF-8).  <br>`ensure_dir(path: str)` — `os.makedirs(path, exist_ok=True)`.</td></tr><tr><td data-label="Topic"><strong>Behavioral notes</strong>            </td><td data-label="Details">- `write_file` uses `os.makedirs(os.path.dirname(path) or ".", exist_ok=True)` so paths with no directory write to current directory.  <br>- No error handling is present; exceptions propagate to the caller.  <br>- No atomic-write guarantee. A crash during write may leave a partial file.</td></tr><tr><td data-label="Topic"><strong>Integration with core modules</strong></td><td data-label="Details">`core_io.py` attempted to import `_atomic_write`, `_atomic_stream_write`, and `_ensure_dir` from `io_utils`.  <br>- This module does not export those names so those imports will fail and core_io will fall back to its built-in defaults.  <br>- If you want `core_io` to use optimized implementations, implement and export `_atomic_write`, `_atomic_stream_write`, and `_ensure_dir` to match the expected names/signatures.</td></tr><tr><td data-label="Topic"><strong>Atomicity & safety</strong>          </td><td data-label="Details">Current `write_file` is not atomic.  <br>Risk: partial/truncated files if process is interrupted.  <br>Recommendation: provide `_atomic_write(path, writer_or_text)` that writes to a temp file in the same directory, fsyncs, then `os.replace` into place.  <br>Also implement `_atomic_stream_write(path, writer_fn)` that accepts a writer callback to stream big outputs.</td></tr><tr><td data-label="Topic"><strong>Cross-platform considerations</strong></td><td data-label="Details">`os.replace` should be used for atomic rename; not present here.  <br>Use `tempfile.NamedTemporaryFile(delete=False, dir=parent)` + `os.replace(tmp, target)` to avoid cross-device issues.  <br>Call `os.fsync()` on file descriptor before close to reduce risk of data loss on power failures.</td></tr><tr><td data-label="Topic"><strong>Error handling</strong>              </td><td data-label="Details">Currently none.  <br>Consider catching and wrapping IO exceptions for clearer diagnostics, or document that callers must handle exceptions.  <br>For long-running pipelines prefer returning structured error messages rather than letting exceptions bubble untyped.</td></tr><tr><td data-label="Topic"><strong>API & naming</strong>                </td><td data-label="Details">- To integrate with existing code, export `_ensure_dir` (alias to `ensure_dir`) and implement `_atomic_write` and `_atomic_stream_write` with expected signatures.  <br>- Prefer stable function names and document expected writer callback signature for `_atomic_stream_write`.</td></tr><tr><td data-label="Topic"><strong>Performance</strong>                 </td><td data-label="Details">Fine for small files.  <br>For large writes, streaming writer with buffered chunks and atomic swap is recommended.</td></tr><tr><td data-label="Topic"><strong>Tests to add</strong>                </td><td data-label="Details">- Read/write roundtrip, including non-existent parent dir.  <br>- Simulated interruption (write to tmp then check rename) for atomic helper.  <br>- Permission error handling and directory creation races.</td></tr><tr><td data-label="Topic"><strong>Immediate, low-risk improvements</strong> </td><td data-label="Details">- Implement `_atomic_write(path, text)` and `_atomic_stream_write(path, writer_fn)`.  <br>- Export `_ensure_dir` name to satisfy `core_io` import.  <br>- Add minimal docstrings and explicit exception handling/logging.</td></tr><tr><td data-label="Topic"><strong>Summary judgement</strong>           </td><td data-label="Details">Correct and minimal for simple use.  <br>Not sufficient as the project's `io_utils` expected by `core_io` (no atomic write or exported underscore-names).  <br>Implement the atomic helpers and adjust exports to fully integrate with the renderer.</td></tr></tbody></table></div><div class='row-count'></div></div>
</div><div class="tv-fragment" id="frag-2">
<div class="table-wrapper" data-table-id="table-2"><h3 id="table-2">Table 2</h3><div class="table-container"><div class="table-header-wrapper" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:5px;"><div class="copy-buttons"><button type="button" class="copy-plain-btn" data-action="copy-plain" onclick="copyTablePlain(this)">Copy Plain Table</button><button type="button" class="copy-markdown-btn" data-action="copy-markdown" onclick="copyTableMarkdown(this)">Copy Markdown Table</button><button type="button" class="export-csv-btn" data-action="export-csv" onclick="exportTableCSV(this)">Export CSV</button><button type="button" class="export-json-btn" data-action="export-json" onclick="exportTableJSON(this)">Export JSON</button><button type="button" class="export-xlsx-btn" data-action="export-xlsx" onclick="exportTableXLSX(this)">Export XLSX</button><button type="button" class="export-pdf-btn" data-action="export-pdf" onclick="exportTablePDF(this)">Export PDF</button><button type="button" class="export-markdown-btn export-markdown-initial" data-action="export-markdown" onclick="exportTableMarkdown(this)" style="display:none" data-initial-hidden="1">Export Markdown</button></div><div style="display:flex; align-items:center;"><button type="button" class="toggle-table-btn" data-action="toggle-collapse" onclick="toggleTable(this)">Collapse Table</button></div></div><table class="tv-table" role="table"><thead><tr><th style="width:28.57%;" role="button" aria-label="Sort by **Topic**"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"><strong>Topic</strong></div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th><th style="width:71.43%;" role="button" aria-label="Sort by **Details**"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"><strong>Details</strong></div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th></tr></thead><tbody><tr><td data-label="Topic"><strong>Purpose</strong>                               </td><td data-label="Details"><strong>Sanitize HTML fragments before publishing.</strong> Provides a sanitizer that prefers `bleach` when present and falls back to a custom HTML-parser based cleaner. Ensures only allowed tags/attributes/protocols survive.</td></tr><tr><td data-label="Topic"><strong>Allowed surface</strong>                       </td><td data-label="Details"><strong>Tags/attributes/protocols.</strong> `ALLOWED_TAGS` includes common text/structural tags and simple tables/images. `ALLOWED_ATTRIBUTES` allows `class`, `title`, `aria-hidden`, `role`, `data-*` globally and `href`, `rel`, `target` for anchors and `src`, `alt`, `width`, `height` for images. `ALLOWED_PROTOCOLS` allows `http`, `https`, `mailto`, `data`. `IMG_DATA_MIME` restricts `data:` images to common image MIME types in base64 form.</td></tr><tr><td data-label="Topic"><strong>URL safety</strong>                            </td><td data-label="Details"><strong>Conservative URL checks.</strong> `_is_safe_url` parses the URL and accepts empty-relative URLs, http(s), mailto. For `data:` it validates image MIME+base64 via regex. Other schemes are rejected. This prevents `javascript:` and other unsafe schemes in href/src in most normal cases.</td></tr><tr><td data-label="Topic"><strong>Bleach path</strong>                           </td><td data-label="Details"><strong>Preferred path uses `bleach`.</strong> `_bleach_clean` calls `bleach.clean` with configured `tags`, `attributes`, `protocols`, and `strip=True`. It then runs `bleach.linkify` and an additional regex-based attribute sanitization pass to remove `on*` and `style` and to re-validate `href`/`src` with `_is_safe_url`. This layering increases safety and allows `bleach` to do heavy lifting.</td></tr><tr><td data-label="Topic"><strong>Fallback path</strong>                         </td><td data-label="Details"><strong>HTMLParser-based cleaner.</strong> `_FallbackCleaner` inherits `HTMLParser`, accepts allowed tags and attrs, rejects `on<em>` and `style` attributes, validates `href`/`src` with `_is_safe_url`, supports `data-</em>` wildcard via `a.endswith('*')` matching, and reconstructs cleaned HTML. Used when `bleach` is unavailable.</td></tr><tr><td data-label="Topic"><strong>Attribute handling</strong>                    </td><td data-label="Details"><strong>Restrictive but not fully escaped.</strong> In the bleach path a regex further sanitizes attributes; in fallback the code reconstructs attributes with `name="value"` without explicit escaping. Values are filtered (`on*`, `style`, unsafe `href`/`src` removed) but not always HTML-escaped before reinsertion.</td></tr><tr><td data-label="Topic"><strong>Script & event handler defense</strong>        </td><td data-label="Details"><strong>Multiple layers.</strong> After cleaning the final string replaces `<script`/`</script>` and runs `re.sub` to remove inline `on*=` attributes. Redundant checks help but rely on string patterns; may not catch obfuscated forms.</td></tr><tr><td data-label="Topic"><strong>Strengths</strong>                             </td><td data-label="Details"><strong>Robust, defense-in-depth.</strong> Preferred use of `bleach`, explicit allowed lists, data-image whitelist, linkify step, plus fallback HTMLParser gives reasonable safety in minimal environments. Good separation of concerns.</td></tr><tr><td data-label="Topic"><strong>Weaknesses / Risks</strong>                    </td><td data-label="Details"><strong>Edge cases and escaping gaps.</strong>  <br>- Regex-based attribute reassembly may reinsert raw attribute values without escaping, which could allow malformed attributes if input is adversarial.  <br>- The `bleach` API/behavior varies by version; the code assumes `bleach.linkify` callback signature and `clean(..., protocols=...)` support.  <br>- `ALLOWED_PROTOCOLS` includes `data` so non-image data URIs could slip through if `IMG_DATA_MIME` logic is bypassed upstream.  <br>- Final `re.sub` that strips `on\w+=` may miss unquoted attributes or unusual spacing/encoding.</td></tr><tr><td data-label="Topic"><strong>Performance</strong>                           </td><td data-label="Details"><strong>Reasonable for cell-level HTML.</strong> `bleach` path is fast and optimized. Fallback parser is lightweight and O(size of input). Regex rounds add cost but are acceptable for typical table-cell lengths.</td></tr><tr><td data-label="Topic"><strong>Compatibility concerns</strong>                </td><td data-label="Details"><strong>Bleach versioning and API changes.</strong> If `bleach` is absent or an incompatible version is used, behavior falls back but differing outputs may occur. Tests should assert both paths.</td></tr><tr><td data-label="Topic"><strong>Test recommendations</strong>                  </td><td data-label="Details"><strong>Extensive unit tests.</strong> Cover: `javascript:`/malicious hrefs, `data:` URIs valid and invalid, `onmouseover`/`onerror` attributes, nested tags and attributes, `data-*` attributes acceptance, malformed tags, attribute quoting edge cases, bleach vs fallback parity, and linkify output correctness.</td></tr><tr><td data-label="Topic"><strong>Immediate improvements</strong>                </td><td data-label="Details"><strong>Tighten attribute escaping and link validation.</strong>  <br>- Escape attribute values when reconstructing to prevent quote injection.  <br>- Use `urllib.parse` and stricter checks for URLs and `data:` parsing.  <br>- Make the `bleach` usage defensive (check for features before calling).  <br>- Replace the regex attribute rewriter with a structured parse-and-render step to avoid regex pitfalls.</td></tr><tr><td data-label="Topic"><strong>Medium-term enhancements</strong>              </td><td data-label="Details"><strong>Centralize sanitizer policy and make pluggable.</strong>  <br>- Expose a small config for allowed tags/attrs/protocols.  <br>- Optionally run `bleach` with a controlled set of callbacks that enforce attribute escaping.  <br>- Provide a sanitizer mode that returns diagnostics (which tags/attrs were removed).</td></tr><tr><td data-label="Topic"><strong>Operational notes</strong>                     </td><td data-label="Details"><strong>Prefer `bleach` in production.</strong> Fallback is acceptable for offline or limited environments, but production should pin a known `bleach` version and run tests to ensure expected behavior.</td></tr><tr><td data-label="Topic"><strong>Summary judgement</strong>                     </td><td data-label="Details"><strong>Well-designed, defense-in-depth sanitizer.</strong> It favors safe defaults, uses `bleach` when available, and has a capable fallback. Hardening attribute escaping and tightening `data:` handling will remove the remaining risk vectors.</td></tr></tbody></table></div><div class='row-count'></div></div>
</div><div class="tv-fragment" id="frag-3">
<div class="table-wrapper" data-table-id="table-3"><h3 id="table-3">Table 3</h3><div class="table-container"><div class="table-header-wrapper" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:5px;"><div class="copy-buttons"><button type="button" class="copy-plain-btn" data-action="copy-plain" onclick="copyTablePlain(this)">Copy Plain Table</button><button type="button" class="copy-markdown-btn" data-action="copy-markdown" onclick="copyTableMarkdown(this)">Copy Markdown Table</button><button type="button" class="export-csv-btn" data-action="export-csv" onclick="exportTableCSV(this)">Export CSV</button><button type="button" class="export-json-btn" data-action="export-json" onclick="exportTableJSON(this)">Export JSON</button><button type="button" class="export-xlsx-btn" data-action="export-xlsx" onclick="exportTableXLSX(this)">Export XLSX</button><button type="button" class="export-pdf-btn" data-action="export-pdf" onclick="exportTablePDF(this)">Export PDF</button><button type="button" class="export-markdown-btn export-markdown-initial" data-action="export-markdown" onclick="exportTableMarkdown(this)" style="display:none" data-initial-hidden="1">Export Markdown</button></div><div style="display:flex; align-items:center;"><button type="button" class="toggle-table-btn" data-action="toggle-collapse" onclick="toggleTable(this)">Collapse Table</button></div></div><table class="tv-table" role="table"><thead><tr><th style="width:28.57%;" role="button" aria-label="Sort by **Summary**"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"><strong>Summary</strong></div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th><th style="width:71.43%;" role="button" aria-label="Sort by Notes"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;">Notes</div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th></tr></thead><tbody><tr><td data-label="Summary"><strong>Introduction to Stable Diffusion</strong>        </td><td data-label="Notes">Stable Diffusion is an open-source text-to-image generation model based on latent diffusion. Produces high-quality images from text prompts and allows fine-grained control over styles, composition, and content. Often run locally for privacy and faster iteration; used for research, art, and prototyping.</td></tr><tr><td data-label="Summary"><strong>Prompt Engineering for Stable Diffusion</strong> </td><td data-label="Notes">Effective prompts include: <br>- Content description (objects, characters, scene elements). <br>- Style cues (e.g., “digital painting,” “watercolor,” “photorealistic”). <br>- Lighting/mood/environment (e.g., “sunset,” “cinematic lighting,” “foggy forest”). <br>Example: `"A futuristic cityscape at night, cyberpunk aesthetic, neon lights, ultra-detailed, photorealistic"`</td></tr><tr><td data-label="Summary"><strong>Control of Image Generation Parameters</strong>  </td><td data-label="Notes">Adjustable parameters: <br>- Steps: number of diffusion iterations (more → more detail). <br>- CFG (classifier-free guidance) scale: balances prompt adherence vs creativity. <br>- Seed: reproducibility. <br>Example: `steps=50, CFG=7.5, seed=12345` for a high-fidelity, reproducible image.</td></tr><tr><td data-label="Summary"><strong>Latent Space Manipulation</strong>               </td><td data-label="Notes">Techniques: <br>- Interpolation: blend two latent vectors to create hybrids. <br>- Noise injection: control randomness for variations. <br>- Vector arithmetic: e.g., `latentdragon <br>- latentcat + latentwolf` to create novel composites.</td></tr><tr><td data-label="Summary"><strong>Image-to-Image Generation (img2img)</strong>     </td><td data-label="Notes">Img2img modifies an existing image guided by a prompt: <br>- Upload base image → define prompt → adjust strength (noise control). <br>- Strength: 0 → minor edits; 1 → full regeneration. <br>Example: Transform a rough sketch into a fully rendered digital painting with `strength=0.7`.</td></tr><tr><td data-label="Summary"><strong>Inpainting Techniques</strong>                   </td><td data-label="Notes">Inpainting edits specific regions while keeping the rest intact: <br>- Mask areas to edit → provide prompt for desired change. <br>- Useful for repairs, adding objects, or changing backgrounds. <br>Example: Mask sky → prompt `"sunset with dramatic clouds"` → regenerate sky without affecting foreground.</td></tr><tr><td data-label="Summary"><strong>Outpainting for Extended Scenes</strong>         </td><td data-label="Notes">Outpainting expands canvas beyond original borders: <br>- Extends scene consistently based on context. <br>- Useful for panoramas or immersive environments. <br>Example: Expand a castle painting left/right → prompt `"surrounding landscape, misty mountains"` → panoramic view.</td></tr><tr><td data-label="Summary"><strong>Fine-Tuning and Custom Models</strong>           </td><td data-label="Notes">Options to adapt model to specific styles/subjects: <br>- LoRA (Low-Rank Adaptation): add styles/characters without full retrain. <br>- DreamBooth: personalize model for specific subjects. <br>- Custom checkpoints: control style, characters, or domain. <br>Example: Fine-tune on fantasy creatures to generate unique, consistent monsters.</td></tr><tr><td data-label="Summary"><strong>Prompt Weighting and Advanced Syntax</strong>    </td><td data-label="Notes">Weighting syntax for nuanced control: <br>- Parentheses to increase weight: `(castle)` or `((castle))`. <br>- Square brackets to reduce weight: `[fog]`. <br>- Multi-prompt concatenation for complex scenes. <br>Example: `"((dragon)) flying over castle, [fog], cinematic lighting, photorealistic"` emphasizes dragon and castle, downplays fog.</td></tr><tr><td data-label="Summary"><strong>Iterative Refinement Practices</strong>          </td><td data-label="Notes">Workflow: <br>1. Start with a broad prompt. <br>2. Generate multiple outputs → pick promising ones. <br>3. Apply img2img / inpainting / outpainting → tweak prompt/params. <br>4. Upscale and finalize. <br>Example: Base prompt → variations → inpaint sky → upscale → final render.</td></tr><tr><td data-label="Summary"><strong>Upscaling and Super-Resolution</strong>          </td><td data-label="Notes">Techniques to improve final quality: <br>- Use ESRGAN or Real-ESRGAN for detail-preserving upscales. <br>- Combine with inpainting to refine edges/textures. <br>Example: Generate 512×512 → upscale to 2048×2048 → apply inpainting for sharpness.</td></tr><tr><td data-label="Summary"><strong>Safety and Filtering Controls</strong>           </td><td data-label="Notes">Some builds include NSFW/harmful-content filters: <br>- Ensures responsible generation. <br>- Filters can be adjusted/disabled locally with caution. <br>- Important for research or curated artistic workflows.</td></tr><tr><td data-label="Summary"><strong>Applications of Stable Diffusion</strong>        </td><td data-label="Notes">Use cases: <br>- Concept art, illustration, visual storytelling. <br>- Game asset generation and prototyping. <br>- Scientific visualization and educational imagery. <br>- Personalized marketing or social media content. <br>Example: Artist generates a fantasy world map → refines characters, landscapes, and lighting for game assets.</td></tr><tr><td data-label="Summary"><strong>Key Takeaways / Summary</strong>                 </td><td data-label="Notes">Stable Diffusion is flexible and powerful for text→image generation. Best practices: <br>- Structured prompt engineering (style + content clarity). <br>- Control generation params (`steps`, `CFG`, `seed`). <br>- Use latent manipulation, img2img, inpainting, outpainting. <br>- Fine-tune with LoRA/DreamBooth for specific styles. <br>- Iterate, upscale, and apply responsible filtering for high-quality, reproducible outputs.</td></tr></tbody></table></div><div class='row-count'></div></div>
</div><div class="tv-fragment" id="frag-4">
<div class="table-wrapper" data-table-id="table-4"><h3 id="table-4">Table 4</h3><div class="table-container"><div class="table-header-wrapper" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:5px;"><div class="copy-buttons"><button type="button" class="copy-plain-btn" data-action="copy-plain" onclick="copyTablePlain(this)">Copy Plain Table</button><button type="button" class="copy-markdown-btn" data-action="copy-markdown" onclick="copyTableMarkdown(this)">Copy Markdown Table</button><button type="button" class="export-csv-btn" data-action="export-csv" onclick="exportTableCSV(this)">Export CSV</button><button type="button" class="export-json-btn" data-action="export-json" onclick="exportTableJSON(this)">Export JSON</button><button type="button" class="export-xlsx-btn" data-action="export-xlsx" onclick="exportTableXLSX(this)">Export XLSX</button><button type="button" class="export-pdf-btn" data-action="export-pdf" onclick="exportTablePDF(this)">Export PDF</button><button type="button" class="export-markdown-btn export-markdown-initial" data-action="export-markdown" onclick="exportTableMarkdown(this)" style="display:none" data-initial-hidden="1">Export Markdown</button></div><div style="display:flex; align-items:center;"><button type="button" class="toggle-table-btn" data-action="toggle-collapse" onclick="toggleTable(this)">Collapse Table</button></div></div><table class="tv-table" role="table"><thead><tr><th style="width:28.57%;" role="button" aria-label="Sort by **Topic**"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"><strong>Topic</strong></div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th><th style="width:71.43%;" role="button" aria-label="Sort by **Details**"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"><strong>Details</strong></div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th></tr></thead><tbody><tr><td data-label="Topic"><strong>Purpose</strong>                     </td><td data-label="Details">Small typed definitions and a single `RenderConfig` dataclass that centralizes runtime options used across the renderer.</td></tr><tr><td data-label="Topic"><strong>Type aliases</strong>                </td><td data-label="Details">`RenderResult = Dict[str, Any]` and `TableLike = Any`. Lightweight and pragmatic.</td></tr><tr><td data-label="Topic"><strong>RenderConfig</strong>                </td><td data-label="Details">Dataclass with sensible defaults: logging, asset options, parallelism, timeouts, cancellation hook, progress callback, gzip flag. Designed as a single place to pass config.</td></tr><tr><td data-label="Topic"><strong>Fields (high level)</strong>         </td><td data-label="Details">`log_level`, `assets_dir`, `embed_assets`, `bundle_assets`, `cache_size`, `table_render_timeout_ms`, `split_threshold`, `max_workers`, `table_row_limit`, `cancel_event`, `progress_callback`, `gzip_out`. Each default is explicit and conservative.</td></tr><tr><td data-label="Topic"><strong>resolved_assets_dir(self, out_dir)</strong> </td><td data-label="Details">Returns `Path(self.assets_dir)` if set, else `out_dir / "assets"`. Simple resolver. Does not expand `~` or validate path ownership.</td></tr><tr><td data-label="Topic"><strong>Concurrency/cancel semantics</strong> </td><td data-label="Details">`cancel_event: Optional[Event]` allows cooperative cancellation across threads. Callers must check and respect it; no enforcement here.</td></tr><tr><td data-label="Topic"><strong>Typing & compatibility</strong>      </td><td data-label="Details">Uses `from <strong>future</strong> import annotations` and union `Path | str`. Python 3.10+ style. Backwards compatibility is limited to 3.10+.</td></tr><tr><td data-label="Topic"><strong>Validation</strong>                  </td><td data-label="Details">No built-in validation. Numeric fields may accept invalid values (negative, None). Consumers must validate or a validation method should be added.</td></tr><tr><td data-label="Topic"><strong>Security / path safety</strong>      </td><td data-label="Details">`resolved_assets_dir` does not sanitize or restrict `assets_dir`. Caller must ensure path is safe and within intended workspace.</td></tr><tr><td data-label="Topic"><strong>Serialization / pickling</strong>    </td><td data-label="Details">Contains `Event` and `Callable` fields which are not trivially serializable. If configs are stored or passed between processes prefer a serializable projection.</td></tr><tr><td data-label="Topic"><strong>Suggested small improvements</strong></td><td data-label="Details">- Add `<strong>post_init</strong>` to clamp/validate numeric fields.  <br>- Normalize `assets_dir` via `Path(...).expanduser().resolve()` optionally guarded by a `safe` flag.  <br>- Document expected `progress_callback` signature and cancel semantics.</td></tr><tr><td data-label="Topic"><strong>Testing suggestions</strong>         </td><td data-label="Details">Unit tests for `resolved_assets_dir` with str/Path/None. Tests verifying validation behavior if `<strong>post_init</strong>` added. Tests for passing `cancel_event` into worker loops.</td></tr><tr><td data-label="Topic"><strong>Summary judgement</strong>           </td><td data-label="Details">Clean, focused config type. Works as a lightweight runtime config object. Add small validations and path normalization for stronger resilience.</td></tr></tbody></table></div><div class='row-count'></div></div>
</div><div class="tv-fragment" id="frag-5">
<div class="table-wrapper" data-table-id="table-5"><h3 id="table-5">Table 5</h3><div class="table-container"><div class="table-header-wrapper" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:5px;"><div class="copy-buttons"><button type="button" class="copy-plain-btn" data-action="copy-plain" onclick="copyTablePlain(this)">Copy Plain Table</button><button type="button" class="copy-markdown-btn" data-action="copy-markdown" onclick="copyTableMarkdown(this)">Copy Markdown Table</button><button type="button" class="export-csv-btn" data-action="export-csv" onclick="exportTableCSV(this)">Export CSV</button><button type="button" class="export-json-btn" data-action="export-json" onclick="exportTableJSON(this)">Export JSON</button><button type="button" class="export-xlsx-btn" data-action="export-xlsx" onclick="exportTableXLSX(this)">Export XLSX</button><button type="button" class="export-pdf-btn" data-action="export-pdf" onclick="exportTablePDF(this)">Export PDF</button><button type="button" class="export-markdown-btn export-markdown-initial" data-action="export-markdown" onclick="exportTableMarkdown(this)" style="display:none" data-initial-hidden="1">Export Markdown</button></div><div style="display:flex; align-items:center;"><button type="button" class="toggle-table-btn" data-action="toggle-collapse" onclick="toggleTable(this)">Collapse Table</button></div></div><table class="tv-table" role="table"><thead><tr><th style="width:28.57%;" role="button" aria-label="Sort by **Topic**"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"><strong>Topic</strong></div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th><th style="width:71.43%;" role="button" aria-label="Sort by **Details**"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"><strong>Details</strong></div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th></tr></thead><tbody><tr><td data-label="Topic"><strong>Purpose</strong>                 </td><td data-label="Details">Provide the public package surface for `render`.</td></tr><tr><td data-label="Topic"><strong>Behavior</strong>                </td><td data-label="Details">Re-exports `render_html`, `render_table`, and `render_page` from `core_compat`.</td></tr><tr><td data-label="Topic"><strong>API surface</strong>             </td><td data-label="Details">`<strong>all</strong> = ["render_html", "render_table", "render_page"]` so `from render import *` yields only those names.</td></tr><tr><td data-label="Topic"><strong>Design intent</strong>           </td><td data-label="Details">Keep a stable, minimal import entrypoint so callers import `render` without depending on internal modules.</td></tr><tr><td data-label="Topic"><strong>Simplicity</strong>              </td><td data-label="Details">One-line implementation. Zero runtime logic. Low maintenance burden.</td></tr><tr><td data-label="Topic"><strong>Stability</strong>               </td><td data-label="Details">Very stable. Changes only needed if core names change.</td></tr><tr><td data-label="Topic"><strong>Security / Side-effects</strong> </td><td data-label="Details">None. No I/O or computation. Safe to import.</td></tr><tr><td data-label="Topic"><strong>Compatibility</strong>           </td><td data-label="Details">Works across import contexts because it defers to `core_compat` which already handles multiple import strategies.</td></tr><tr><td data-label="Topic"><strong>Recommendation</strong>          </td><td data-label="Details">Keep as-is. Add a short module docstring if you want discoverability in IDEs.</td></tr><tr><td data-label="Topic"><strong>Summary judgement</strong>       </td><td data-label="Details">Correct minimal compatibility shim. Maintains a clean public API and should remain unchanged unless you intentionally expand the public surface.</td></tr></tbody></table></div><div class='row-count'></div></div>
</div><div class="tv-fragment" id="frag-6">
<div class="table-wrapper" data-table-id="table-6"><h3 id="table-6">Table 6</h3><div class="table-container"><div class="table-header-wrapper" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:5px;"><div class="copy-buttons"><button type="button" class="copy-plain-btn" data-action="copy-plain" onclick="copyTablePlain(this)">Copy Plain Table</button><button type="button" class="copy-markdown-btn" data-action="copy-markdown" onclick="copyTableMarkdown(this)">Copy Markdown Table</button><button type="button" class="export-csv-btn" data-action="export-csv" onclick="exportTableCSV(this)">Export CSV</button><button type="button" class="export-json-btn" data-action="export-json" onclick="exportTableJSON(this)">Export JSON</button><button type="button" class="export-xlsx-btn" data-action="export-xlsx" onclick="exportTableXLSX(this)">Export XLSX</button><button type="button" class="export-pdf-btn" data-action="export-pdf" onclick="exportTablePDF(this)">Export PDF</button><button type="button" class="export-markdown-btn export-markdown-initial" data-action="export-markdown" onclick="exportTableMarkdown(this)" style="display:none" data-initial-hidden="1">Export Markdown</button></div><div style="display:flex; align-items:center;"><button type="button" class="toggle-table-btn" data-action="toggle-collapse" onclick="toggleTable(this)">Collapse Table</button></div></div><table class="tv-table" role="table"><thead><tr><th style="width:28.57%;" role="button" aria-label="Sort by **Topic**"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"><strong>Topic</strong></div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th><th style="width:71.43%;" role="button" aria-label="Sort by **Details**"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"><strong>Details</strong></div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th></tr></thead><tbody><tr><td data-label="Topic"><strong>Purpose</strong>                       </td><td data-label="Details">UI stylesheet for Tables Viewer v2.1. Provides theme variables, layout, table styling, sticky headers/first column, responsive rules, list normalization inside `<td>`, accessibility focus styles, and dark-mode overrides.</td></tr><tr><td data-label="Topic"><strong>Variables & theming</strong>           </td><td data-label="Details">Uses CSS custom properties (`--bg`, `--text`, `--panel`, etc.). Dark mode toggles via `[data-theme="dark"]`. Variables centralize color and spacing. Good for runtime theming.</td></tr><tr><td data-label="Topic"><strong>Layout & typography</strong>           </td><td data-label="Details">Global font stack uses Inter + sensible fallbacks. `html,body` base font-size 15px and `line-height:1.45`. `#tables-viewer` and `#mainContent` kept `overflow: visible` to preserve sticky behavior.</td></tr><tr><td data-label="Topic"><strong>Table mechanics</strong>               </td><td data-label="Details">`table { table-layout: fixed; word-wrap: break-word; min-width:420px }` ensures rows wrap and enables horizontal scrolling when needed. `.table-container` enables touch-friendly horizontal scroll (`-webkit-overflow-scrolling:touch`).</td></tr><tr><td data-label="Topic"><strong>Sticky elements</strong>               </td><td data-label="Details">`#stickyMainHeader` is sticky at `top:0`. `thead th` sticky at `top:48px`. First column header and data cells are sticky at `left:0` with layered `z-index` (thead header z-index higher than data). This preserves both vertical and horizontal sticky behavior.</td></tr><tr><td data-label="Topic"><strong>First-column rules</strong>            </td><td data-label="Details">`td:first-child` uses `position:sticky; left:0` and `min-width:140px`, background set to `--panel`, and a subtle shadow. Good UX for key-left labels.</td></tr><tr><td data-label="Topic"><strong>Header controls & buttons</strong>     </td><td data-label="Details">Compact header controls with accessible touch targets (`min-height:40px`). Search input flex behavior tuned for responsive breakpoints. Buttons share base styling controlled by variables.</td></tr><tr><td data-label="Topic"><strong>Lists inside cells</strong>            </td><td data-label="Details">Resets list styles inside `td` and implements custom markers via `::before` pseudo-elements: en-dash for top-level lists and bullet for nested lists. Ordered lists use CSS counters. This enforces consistent markers across browsers.</td></tr><tr><td data-label="Topic"><strong>Code formatting</strong>               </td><td data-label="Details">`td code` styled with monospace, subtle background and padding to improve readability. Dark-theme inheritance handled for list markers.</td></tr><tr><td data-label="Topic"><strong>Accessibility</strong>                 </td><td data-label="Details">Focus outlines are visible (`outline: 3px solid rgba(37,99,235,0.18)`), good keyboard affordance. Contrast depends on variable values; needs verification for WCAG ratios.</td></tr><tr><td data-label="Topic"><strong>Responsive behavior</strong>           </td><td data-label="Details">Media queries at 900px, 600px, and 420px tighten spacing, collapse header layout and hide less-essential buttons. Search expands to full width on small screens.</td></tr><tr><td data-label="Topic"><strong>Performance considerations</strong>    </td><td data-label="Details">CSS is modest and efficient. Potential repaint hotspots: `tr:hover td` background change and `box-shadow` on sticky first column when many rows exist. `position: sticky` is widely supported but check older browsers.</td></tr><tr><td data-label="Topic"><strong>Cross-browser gotchas</strong>         </td><td data-label="Details">- `position: sticky` requires ancestor overflow not to hide it; the stylesheet sets `overflow: visible` on key ancestors, which is correct. <br>- `-webkit-overflow-scrolling: touch` helps iOS. <br>- Test in Safari, mobile Chrome, and legacy Edge for sticky + z-index interplay.</td></tr><tr><td data-label="Topic"><strong>Potential issues / risks</strong>      </td><td data-label="Details">- Hard-coded `top:48px` for `thead th` may mismatch the actual sticky header height if header size changes. Prefer using a CSS variable (e.g., `--tv-header-min-height`) for `top`. <br>- Color variables may not meet WCAG contrast in all combinations. Validate with contrast checker. <br>- RTL and language-direction not addressed; pseudo-element markers may need `direction` / `:dir(rtl)` rules. <br>- No print styles; large tables may not print well.</td></tr><tr><td data-label="Topic"><strong>Security / safety</strong>             </td><td data-label="Details">CSS-only file. No direct security risk. Be mindful if user-controlled content injects inline styles or `class` values; sanitization must remain server-side.</td></tr><tr><td data-label="Topic"><strong>Maintainability & style notes</strong> </td><td data-label="Details">Well-structured and commented. Variables and component rules make targeted overrides easy (e.g., `overrides.css`). Consider centralizing header-height usage and precompiling commonly reused values.</td></tr><tr><td data-label="Topic"><strong>Test matrix suggestions</strong>       </td><td data-label="Details">- Sticky header + first-column behavior across desktop and mobile Safari/Chrome/Firefox. <br>- Large tables (1000+ rows, many columns) for scroll performance and repaint profiling. <br>- Nested lists rendering inside `td` and marker alignment. <br>- Dark theme color contrast and focus ring visibility. <br>- RTL pages and printing.</td></tr><tr><td data-label="Topic"><strong>Small improvements (low risk)</strong>  </td><td data-label="Details">- Replace `top:48px` with `top: var(--tv-header-min-height,48px)` and ensure sync with JS header height. <br>- Add `print` media rules to hide non-essential chrome and make tables printable. <br>- Add `:dir(rtl)` adjustments for list markers. <br>- Consider disabling `box-shadow` for very large tables to reduce paint cost.</td></tr><tr><td data-label="Topic"><strong>Summary judgement</strong>             </td><td data-label="Details">High-quality, pragmatic stylesheet. Thoughtful details: consistent list markers, responsive header, accessible focus, and dark-mode support. Minor hardening: unify header-height via CSS variable, test WCAG contrast, add RTL and print rules.</td></tr></tbody></table></div><div class='row-count'></div></div>
</div><script src="assets/xlsx.full.min.js?v=1759433634" defer></script>
<script src="assets/inlineblock_guard.js?v=1759433634" defer></script>
<script src="assets/script.js?v=1759433634" defer></script>
<script src="assets/worker.js?v=1759433634" defer></script>
<script>
(function(){
  const template = "{table}_{date}";
  const userVal = "";
  const hrefPrefix = "assets";
  function formatName(tableName) {
    const date = (new Date()).toISOString().slice(0,10);
    return template.replace('{table}', tableName).replace('{date}', date).replace('{user}', userVal);
  }
  const btn = document.getElementById('exportBtn');
  if(btn) {
    btn.addEventListener('click', async function() {
      try {
        const html = document.documentElement.outerHTML;
        if(html.length > 2000000) { alert('Export refused: html too large'); return; }
        if(window.Worker) {
          const workerUrl = (function(){ try{ return hrefPrefix + '/worker.js'; }catch(e){ return null; } })();
          if(workerUrl) {
            try {
              const worker = new Worker(workerUrl);
              worker.postMessage({html: html, format: 'pdf'});
              worker.onmessage = function(e) { console.log('worker:', e.data); alert('Worker replied: '+(e.data.msg||e.data.status)); };
            } catch(err) { console.warn('Worker create failed', err); alert('Worker not available'); }
          } else { alert('Worker not available'); }
        } else { alert('Export worker not supported in this environment.'); }
      } catch(err) { console.warn('Export failed', err); alert('Export worker not available. See console for details.'); }
    });
  }
})();
</script>

<script>
  (function(){
    function startGuard() {
      try {
        if (window.inlineBlockGuard) {
          window.inlineBlockGuard({ root: document.body, maxRetries: 3, retryDelay: 100, observeDynamic: true, telemetry: function(r){ try{ console.info('inlineBlockGuard report', r); }catch(e){} }});
        } else if (window.inlineBlockObserver) {
          try { window.inlineBlockObserver(document.body); } catch(e) {}
        }
      } catch(e) {}
    }
    if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', startGuard);
    else startGuard();
  })();
</script>

</div>
</body>
</html>