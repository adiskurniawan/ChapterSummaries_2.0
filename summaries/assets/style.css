/* style.css — Final revised

Applied changes: smaller collapse/expand toggle (global) and compact mobile

per-table control rules (<=600px). No other layout, colors, or desktop rules

were changed. Checked carefully.

*/




/* ========== Variables ========== */

:root{

color-scheme: light dark;

--bg:#ffffff;

--text:#111827;

--panel:#f8fafc;

--border:#e5e7eb;

--row-hover:#d0ebff;

--highlight:#fff3a2;

--current-row:#ffeaa2;

--button-bg:#f3f4f6;

--button-text:#111827;

--muted:rgba(17,24,39,0.45);

--toc-link:#2563eb;

--toc-link-hover-bg:#e0f2fe;

--toc-link-hover-color:#1e40af;

--tv-header-min-height:48px;




--code-bg: #f6f8fa;

--code-bg-alt: #f3f4f6;

--code-text-dark: #e6e6e6;

--code-radius: 6px;




--focus-ring: rgba(37,99,235,0.18);

--focus-bg: rgba(37,99,235,0.04);

--table-min-width: 420px;




--measure:65ch;

--font-sans: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;

--font-mono: ui-monospace, SFMono-Regular, Menlo, Consolas, "Roboto Mono", "Courier New", monospace;

--emoji-fonts: "Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji","Twemoji Mozilla","EmojiSymbols";

--accent: #2563eb;




--trans-duration: 150ms;

--easing: cubic-bezier(.2,.9,.2,1);

}




/* High contrast / dark theme (kept) */

@media (prefers-contrast: more) {

:root{

--border: #9aa7b2;

--button-bg: #ffffff;

--button-text: #000;

--toc-link: #003ea6;

--focus-ring: rgba(0,62,166,0.28);

--muted: rgba(0,0,0,0.6);

}

}

@media (prefers-color-scheme: dark) {

:root {

--bg:#1e1e2f;

--text:#e0e0e0;

--panel:#2a2a3e;

--border:#3c3c4f;

--row-hover:#38384c;

--highlight:#fffa8c;

--current-row:#ffd86c;

--button-bg:#44445a;

--button-text:#e0e0e0;

--muted:rgba(224,224,224,0.35);

--toc-link:#93c5fd;

--toc-link-hover-bg:#1e3a8a;

--toc-link-hover-color:#ffffff;

--code-bg: #2d2d2d;

--code-text-dark: #e6e6e6;

}

}

[data-theme="dark"]{

--bg:#1e1e2f;

--text:#e0e0e0;

--panel:#2a2a3e;

--border:#3c3c4f;

--row-hover:#38384c;

--highlight:#fffa8c;

--current-row:#ffd86c;

--button-bg:#44445a;

--button-text:#e0e0e0;

--muted:rgba(224,224,224,0.35);

--toc-link:#93c5fd;

--toc-link-hover-bg:#1e3a8a;

--toc-link-hover-color:#ffffff;

--code-bg: #2d2d2d;

}




/* ========== Base / Reset ========== */

*, *::before, *::after { box-sizing: border-box; }

html, body {

margin:0;

background:var(--bg);

color:var(--text);

font-family:var(--font-sans);

font-size:clamp(15px, 0.9rem + 0.6vw, 16px);

font-weight:400;

line-height:1.5;

-webkit-font-smoothing:antialiased;

-moz-osx-font-smoothing:grayscale;

-webkit-text-size-adjust:100%;

min-height:100vh;

transition: background-color var(--trans-duration) var(--easing), color var(--trans-duration) var(--easing);

}

a { color: inherit; text-decoration: none; transition: color var(--trans-duration) var(--easing), background var(--trans-duration) var(--easing); }

img, video, svg { max-width:100%; height:auto; display:block; }

code, pre, kbd { font-family:var(--font-mono); }




/* ========== Buttons ========== */

button{

background:var(--button-bg);

color:var(--button-text);

border:1px solid var(--border);

padding:6px 12px;

border-radius:6px;

cursor:pointer;

font-size:14px;

display:inline-flex;

align-items:center;

justify-content:center;

transition: transform var(--trans-duration) var(--easing), box-shadow var(--trans-duration) var(--easing), background-color var(--trans-duration) var(--easing), border-color var(--trans-duration) var(--easing);

}

button:hover { transform: translateY(-1px); box-shadow: 0 6px 18px rgba(0,0,0,0.04); }

button:active { transform: scale(.99); box-shadow: 0 3px 8px rgba(0,0,0,0.06); }

button:focus-visible { outline: 3px solid var(--focus-ring); outline-offset: 2px; background: var(--focus-bg); border-radius: 6px; }




/* ========== Table base ========== */

.table-container{ width:100%; overflow-x:auto; -webkit-overflow-scrolling:touch; border-radius:8px; }

table{ width:100%; border-collapse:collapse; table-layout:fixed; word-wrap:break-word; margin-bottom:18px; background:transparent; font-size:15px; min-width:var(--table-min-width,420px); }

thead th, th {

padding:12px 14px; text-align:left; vertical-align:middle;

border:1px solid var(--border); background:var(--panel);

font-weight:700; font-size:1.03rem;

position:sticky; top:var(--tv-header-min-height,48px); z-index:3;

cursor:default;

}

tbody td, td { padding:12px 14px; border:1px solid var(--border); vertical-align:top; font-weight:400; word-break:break-word; white-space:normal; }

tr:nth-child(even){ background:var(--bg) }

tr:hover td{ background:var(--row-hover) }

.highlight{ background:var(--highlight)!important; transition:background .45s ease }

.current-row td{ background:var(--current-row)!important }




/* sticky first column */

thead th:first-child{ position:sticky; left:0; z-index:4; background:var(--panel); top:var(--tv-header-min-height,48px); }

td:first-child{ background:var(--panel); position:sticky; left:0; z-index:2; min-width:140px; box-shadow:2px 0 5px -2px rgba(0,0,0,0.08); }

table td, table th { border-color: rgba(0,0,0,0.06); }




/* ========== Sort affordances ========== */

.sort-btn{ display:flex; align-items:center; gap:6px; background:transparent; border:0; padding:6px 8px; cursor:pointer; border-radius:8px; font-size:12px; color:var(--muted); }

.sort-btn:focus-visible { outline:3px solid var(--focus-ring); outline-offset:2px; background:var(--focus-bg); border-radius:8px; }




/* ========== Header sticky area ========== */

#stickyMainHeader{ position:sticky; top:0; background:var(--bg); z-index:1001; padding:10px 14px; border-bottom:1px solid var(--border); display:flex; flex-direction:column; gap:6px; align-items:stretch; box-shadow:0 1px 0 rgba(0,0,0,0.03); }

#tv-header{ display:flex; gap:6px; align-items:center; justify-content:space-between; flex-wrap:wrap; width:100%; min-height:var(--tv-header-min-height); }

#tv-header > div:first-child{ flex:0 0 auto; display:flex; align-items:center; gap:8px; }

#tv-header > div:last-child{ display:flex; gap:6px; align-items:center; justify-content:flex-end; flex:1 1 auto; flex-wrap:wrap; overflow:visible; }




/* header controls (kept stable) */

#tv-header button, #tv-header .btn, #stickyMainHeader button { flex:0 0 auto; padding:4px 8px; font-size:13px; border-radius:5px; line-height:1.1; min-height:40px; min-width:36px; white-space:nowrap; gap:6px; }




/* header inputs */

#tv-header input[type="search"], #tv-header input[type="text"], #stickyMainHeader input[type="search"], #stickyMainHeader input[type="text"] {

flex:1 1 220px !important; min-width:110px !important; max-width:100% !important; padding:6px 8px; font-size:13px; border-radius:6px; height:34px; border:1px solid var(--border); background:var(--panel);

}




/* ========== Table controls grouping ========== /

.table-controls { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }

.table-controls a, .table-controls button, .table-controls summary, .table-controls .toggle-table-btn, .table-controls .table-toggle-inline {

display:inline-flex; align-items:center; gap:.4rem; padding:6px 12px; font-size:14px; line-height:1;

border:1px solid var(--border); border-radius:6px; background:var(--button-bg); color:var(--button-text); cursor:pointer; min-height:36px; min-width:36px; box-sizing:border-box;

}

/ make  behave like a button */

.table-controls summary { list-style:none; cursor:pointer; padding:6px 12px; }

.table-controls summary::-webkit-details-marker { display:none; }

.table-controls summary::marker { display:none; }




/* icon-only */

.table-controls a.icon-only, .table-controls button.icon-only, .table-controls .table-toggle-inline.icon-only, .table-controls .toggle-table-btn.icon-only {

padding:6px; width:36px; height:36px; font-size:0; justify-content:center;

}




/* export button */

.table-controls .export-xlsx, .export-xlsx, .table-controls button.export-xlsx {

margin-left:8px; font-size:0.85em; padding:4px 8px; border:1px solid var(--border); background:var(--button-bg); color:var(--button-text); border-radius:6px;

}




/* ========== COLLAPSE/EXPAND TOGGLE: GLOBAL SIZE ADJUSTMENT ==========

Only this rule changed from base: make the per-table toggle smaller by default.

This is intentionally minimal. /

.toggle-table-btn{

margin-left:10px;

font-size:11px;        / reduced font-size /

padding:3px 6px;       / reduced padding /

min-width:30px;        / tighter min width /

min-height:30px;       / tighter min height */

border-radius:6px;

background:var(--button-bg);

border:1px solid var(--border);

display:inline-flex;

align-items:center;

justify-content:center;

}




/* rotation when collapsed */

.table-wrapper.table-collapsed .toggle-table-btn { transform: rotate(180deg); transition: transform var(--trans-duration) var(--easing); }

.table-wrapper .toggle-table-btn { transition: transform var(--trans-duration) var(--easing); }




/* collapsed table hides tbody rows (kept) */

.table-wrapper.table-collapsed .table-container table tbody{ display:none }




/* ========== Caption / column types / code styles ========== */

.table-caption { margin-top:2mm; margin-left:3mm; font-weight:600; font-size:0.95em; color:var(--text); margin-bottom:6px; }

td[data-col-type="numeric"], th[data-col-type="numeric"], td.col-numeric, th.col-numeric { text-align:right; font-variant-numeric:tabular-nums; }

td[data-col-type="code"], th[data-col-type="code"], td.col-code, th.col-code { font-family:var(--font-mono); white-space:nowrap; font-size:.95em; }

td[data-col-type="date"], th[data-col-type="date"], td.col-date, th.col-date { text-align:center; }




code { background:var(--code-bg); padding:2px 6px; border-radius:var(--code-radius); font-family:var(--font-mono); font-size:0.92em; line-height:1; }

pre code { display:block; padding:10px 14px; border-radius:calc(var(--code-radius)); overflow-x:auto; font-size:0.92em; line-height:1.45; white-space:pre; }

td code { background:var(--code-bg-alt); padding:2px 6px; border-radius:6px; font-size:.9em; }




/* ========== Accessibility enhancements ========== */

:focus-visible, a:focus-visible, button:focus-visible, input:focus-visible, textarea:focus-visible { outline:3px solid var(--focus-ring); outline-offset:2px; background:var(--focus-bg); border-radius:6px; }




/* ========== Responsive: tablet/desktop tweaks ========== */

@media (max-width:900px){

#tv-header input[type="search"]{ width:180px !important; min-width:120px !important; }

#tocBar{ gap:8px; padding:4px }

#mainContent{ padding:12px }

}




/* ========== Small screens (mobile) — KEEP DESKTOP UNCHANGED ==========

Main mobile changes:








compact per-table controls including all toggle variants (summary, details>summary, .toggle-table-btn, .table-toggle-inline)








keep controls horizontal and scrollable rather than wrapping awkwardly

*/

@media (max-width:600px){








table{ font-size:15px }

td, th{ padding:10px 12px }

thead th{ position:sticky; top:var(--tv-header-min-height,48px); z-index:4 }

.table-container{ border-radius:6px }

#tv-header{ flex-direction:column; align-items:stretch; }

#tv-header > div:last-child{ justify-content:flex-start; }




/* make header inputs flexible but small */

#tv-header input[type="search"], #tv-header input[type="text"], #stickyMainHeader input[type="search"], #stickyMainHeader input[type="text"] {

flex-basis:100% !important; width:100% !important; order:1; margin-bottom:6px; height:32px; font-size:12px; padding:4px 7px;

}

#tv-header button, #tv-header .btn, #stickyMainHeader button { padding:3px 7px; font-size:12px; min-height:36px; }




/* Compact sizing for all per-table control variants including toggles and summary elements */

.table-controls a,

.table-controls button,

.table-controls summary,

.table-controls .table-toggle-inline,

.table-controls .toggle-table-btn,

details > summary {

font-size:12px !important;

padding:4px 6px !important;

min-width:0 !important;

width:auto !important;

white-space:normal !important;

line-height:1.1 !important;

max-width:8.5rem !important;

box-sizing:border-box !important;

border-radius:6px !important;

}




/* Make per-table controls a single scrollable row instead of wrapping */

.table-controls {

display:flex !important;

flex-wrap:nowrap !important;

overflow-x:auto !important;

-webkit-overflow-scrolling:touch !important;

gap:6px !important;

align-items:center !important;

padding-bottom:2px !important;

}

.table-controls a, .table-controls button, .table-controls summary, .table-controls .table-toggle-inline { flex:0 0 auto; white-space:nowrap; }




/* icons align with wrapped text */

.table-controls svg, .table-controls .icon { display:inline-block; vertical-align:middle; }




/* small helper: heading-bar alignment */

.table-heading-bar { align-items:center !important; }




} /* end mobile rules */




/* ========== Very narrow screens: keep two header buttons visible ========== */

@media (max-width:420px){

#tv-header > div:last-child{ overflow-x:auto; -webkit-overflow-scrolling:touch; }

#tv-header > div:last-child button:not(#modeBtn):not(#toggleAllBtn) { display:none !important; }

}




/* ========== Print rules ========== */

@media print {

:root { color-scheme: light; }

body { background:#fff; color:#000; }

#stickyMainHeader, thead th { position: static !important; top:auto !important; }

td:first-child, thead th:first-child { position: static !important; left:auto !important; box-shadow:none !important; }

.table-container { overflow: visible !important; }

.copy-button-output, .copy-buttons, #tocBar, #tv-header { display:none !important; }

table { page-break-inside: avoid; break-inside: avoid; }

.table-caption { display:block !important; margin-left:0 !important; margin-top:0.4em !important; margin-bottom:0.25em !important; text-align:left !important; font-weight:700 !important; color:#000 !important; }

th, td { border:1px solid #999 !important; background:#fff !important; color:#000 !important; }

pre, code { white-space: pre-wrap !important; word-break: break-word !important; }

}




/* ========== Small utility rules left intentionally untouched ========== */

.visually-hidden, .sr-only { position:absolute !important; width:1px !important; height:1px !important; padding:0 !important; margin:-1px !important; overflow:hidden !important; clip:rect(0 0 0 0) !important; white-space:nowrap !important; border:0 !important; }




/* final guard */

a:focus, button:focus, input:focus, select:focus, textarea:focus { outline:3px solid var(--focus-ring); outline-offset:2px; }