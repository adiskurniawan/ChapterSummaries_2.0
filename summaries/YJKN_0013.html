<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='utf-8'><meta name='viewport' content='width=device-width,initial-scale=1'>
<title>Tables Viewer v2.1</title>
<style>:root{--main-header-height:56px;} .table-wrapper{opacity:0;min-height:24px;transition:opacity .12s linear}</style>
<link rel="stylesheet" href="assets/style.css?v=1769960840">
<link rel="stylesheet" href="assets/overrides.css?v=1771304683">
</head><body>
<div id="tables-viewer" role="region" aria-label="Tables viewer">
<div id="stickyMainHeader">
<div id="tv-header">
<div><h1>Tables Viewer v2.1</h1></div>
<div style="display:flex;gap:8px;align-items:center;">
<input id="searchBox" class="tv-search" type="search" placeholder="Search" aria-label="Search tables" />
<button id="modeBtn" type="button" onclick="toggleMode()" aria-label="Toggle theme">Theme</button>
<button id="toggleAllBtn" type="button" aria-label="Toggle all" onclick="toggleAllTables()">Collapse All Tables</button>
<button id="copyAllPlainBtn" class="copy-btn" type="button" onclick="copyAllTablesPlain()" aria-label="Copy all tables as plain text">Copy All Tables (Plain Text)</button>
<button id="copyAllTablesBtn" class="copy-all-btn" type="button" onclick="copyAllTablesMarkdown()" aria-label="Copy All Tables (Markdown)">Copy All Tables (Markdown)</button>
<button id="copyAllMdBtn" style="display:none" aria-hidden="true"></button>
<button id="resetAllBtn" type="button" onclick="resetAllTables()" aria-label="Reset All Tables">Reset All Tables</button>
</div></div>
<script>
(function(){
  function ensureDelegation(){
    try {
      var vis = document.getElementById('copyAllTablesBtn');
      var alias = document.getElementById('copyAllMdBtn');
      if(!vis || !alias) return;
      alias.addEventListener = function(type, listener, options){
        vis.addEventListener(type, listener, options);
      };
      alias.removeEventListener = function(type, listener, options){
        vis.removeEventListener(type, listener, options);
      };
      Object.defineProperty(alias, 'onclick', {
        set: function(fn){ vis.onclick = fn; },
        get: function(){ return vis.onclick; },
        configurable: true
      });
      alias.focus = function(){ vis.focus(); };
      alias.blur = function(){ vis.blur(); };
    } catch(e) {
      try{ console && console.warn && console.warn('alias delegation failed', e); }catch(_){} 
    }
  }
  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', ensureDelegation);
  } else {
    ensureDelegation();
  }
})();
</script>
<noscript><div style='color:#b91c1c'>JavaScript is disabled. Tables will be shown statically. For large tables enable JS for virtualization.</div></noscript>
<div id="tocBar" role="navigation" aria-label="Table of contents"><ul><li class="toc-item"><a class="toc-link" href="#Table1">Table 1</a></li>
<li class="toc-item"><a class="toc-link" href="#Table2">Table 2</a></li>
<li class="toc-item"><a class="toc-link" href="#Table3">Table 3</a></li>
<li class="toc-item"><a class="toc-link" href="#Table4">Table 4</a></li>
<li class="toc-item"><a class="toc-link" href="#Table5">Table 5</a></li>
<li class="toc-item"><a class="toc-link" href="#Table6">Table 6</a></li>
<li class="toc-item"><a class="toc-link" href="#Table7">Table 7</a></li>
<li class="toc-item"><a class="toc-link" href="#Table8">Table 8</a></li></ul></div></div>
<div class="table-caption" id="Table1" data-table="YJKN_0013_01" style="margin-top:2mm;margin-left:3mm;"><strong>Table 1</strong></div>
<div class="table-wrapper" data-table-id="table-1"><div class="table-heading-bar" aria-label="Table heading"></div><div class="table-container"><div class="table-header-wrapper" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:5px;"><div class="copy-buttons"><button type="button" class="copy-plain-btn" data-action="copy-plain" onclick="copyTablePlain(this)">Copy Plain Table</button><button type="button" class="copy-markdown-btn" data-action="copy-markdown" onclick="copyTableMarkdown(this)">Copy Markdown Table</button><button type="button" class="export-csv-btn" data-action="export-csv" onclick="exportTableCSV(this)">Export CSV</button><button type="button" class="export-json-btn" data-action="export-json" onclick="exportTableJSON(this)">Export JSON</button><button type="button" class="export-xlsx-btn" data-action="export-xlsx" onclick="exportTableXLSX(this)">Export XLSX</button><button type="button" class="export-pdf-btn" data-action="export-pdf" onclick="exportTablePDF(this)">Export PDF</button><button type="button" class="export-markdown-btn export-markdown-initial" data-action="export-markdown" onclick="exportTableMarkdown(this)" style="display:none" data-initial-hidden="1">Export Markdown</button></div><div style="display:flex; align-items:center;"><button type="button" class="toggle-table-btn" data-action="toggle-collapse" onclick="toggleTable(this)">Collapse Table</button></div></div><table class="tv-table" role="table"><thead><tr><th class="tv-col-left" role="button" aria-label="Sort by **Penjelasan Kalkulator PPh 21 Masa Pajak Terakhir**"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"><strong>Penjelasan Kalkulator PPh 21 Masa Pajak Terakhir</strong></div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th></tr></thead><tbody><tr><td data-label="Penjelasan Kalkulator PPh 21 Masa Pajak Terakhir"> <strong>Link: </strong><a href="https://kalkulator.ortax.org/yearly" target="_blank">Kalkulator PPh 21 Masa Pajak Terakhir</a> </td></tr><tr><td data-label="Penjelasan Kalkulator PPh 21 Masa Pajak Terakhir"> <strong>1) Input utama (apa yang diminta user / payroll)</strong><br>- Status pegawai (pegawai tetap / bukan pegawai).<br>- Status NPWP (ada / tidak) — berpengaruh pada pengenaan tarif lebih tinggi jika tidak ada.<br>- Status kawin & jumlah tanggungan (untuk PTKP).<br>- Masa penghasilan (bulan kerja dalam tahun berjalan).<br>- Komponen penghasilan: <code>gaji/pensiun</code>, <code>tunjangan pPh (tax allowance / gross-up)</code>, <code>tunjangan lain/uang lembur</code>, <code>honorarium</code>, <code>premi asuransi yg dibayar pemberi kerja</code>, <code>natura/kenikmatan</code>, <code>tantiem/bonus/THR</code>. </td></tr><tr><td data-label="Penjelasan Kalkulator PPh 21 Masa Pajak Terakhir"> <strong>2) Penjumlahan bruto</strong><br>- Kalkulator menjumlahkan semua komponen di atas → menghasilkan <strong>Penghasilan Bruto Masa</strong> (per masa / bulan atau kumulatif sesuai input). </td></tr><tr><td data-label="Penjelasan Kalkulator PPh 21 Masa Pajak Terakhir"> <strong>3) Pengurangan yang diizinkan (Deductions)</strong><br>- <code>Biaya jabatan</code> = <code>5% × Penghasilan Bruto</code> tetapi dibatasi maksimum <code>Rp500.000/bulan</code> (atau <code>Rp6.000.000/tahun</code>).<br>- <code>Iuran pensiun / iuran THT/JHT</code> (sesuai kontribusi aktual).<br>- <code>Zakat</code> yang dibayarkan melalui pemberi kerja (jika ada).<br>- Hasil pengurangan ini = <strong>Jumlah Pengurang</strong> → <code>Penghasilan Neto</code> = <code>Penghasilan Bruto − Jumlah Pengurang</code>. </td></tr><tr><td data-label="Penjelasan Kalkulator PPh 21 Masa Pajak Terakhir"> <strong>4) Menggabungkan penghasilan masa sebelumnya (jika ada)</strong><br>- Jika pegawai sudah menerima penghasilan di beberapa masa dalam tahun berjalan, kalkulator mengakumulasi <strong>Penghasilan Neto Masa Sebelumnya</strong> dan menggabungkan dengan masa ini untuk mendapatkan posisi kumulatif. </td></tr><tr><td data-label="Penjelasan Kalkulator PPh 21 Masa Pajak Terakhir"> <strong>5) Konversi ke basis setahun (annualisasi) — ketika “disetahunkan” dipakai</strong><br>- Untuk kasus disetahunkan: <code>Penghasilan Neto Setahun = Penghasilan Neto Bulanan × 12</code> (atau jika menggunakan kumulatif: <code>Penghasilan Neto Kumulatif / jumlah bulan kerja × 12</code>).<br>- Tujuan: mendapatkan basis tahunan untuk menerapkan tarif progresif Pasal 17 dan PTKP tahunan. </td></tr><tr><td data-label="Penjelasan Kalkulator PPh 21 Masa Pajak Terakhir"> <strong>6) Hitung PTKP (Penghasilan Tidak Kena Pajak)</strong><br>- Ambil PTKP sesuai status (mis. TK/0 = <code>Rp54.000.000</code> per tahun; tambahan <code>Rp4.500.000</code> untuk tiap tanggungan sampai max 3; tambahan untuk status kawin/istri digabung sesuai ketentuan). </td></tr><tr><td data-label="Penjelasan Kalkulator PPh 21 Masa Pajak Terakhir"> <strong>7) Tentukan PKP (Penghasilan Kena Pajak) setahun</strong><br>- <code>PKP Setahun = Penghasilan Neto Setahun − PTKP</code> (jika negatif → PKP = 0). </td></tr><tr><td data-label="Penjelasan Kalkulator PPh 21 Masa Pajak Terakhir"> <strong>8) Hitung PPh terutang setahun (tarif Pasal 17, progresif)</strong><br>- Terapkan lapisan tarif progresif ke PKP setahun: contoh lapisan umum saat ini: <code>sampai Rp60 jt → 5%</code>, <code>&gt;Rp60 jt s.d. Rp250 jt → 15%</code>, <code>&gt;Rp250 jt s.d. Rp500 jt → 25%</code>, <code>&gt;Rp500 jt s.d. Rp5 miliar → 30%</code>, <code>&gt;Rp5 miliar → 35%</code>.<br>- Hasilnya = <strong>PPh Pasal 21 Terutang Setahun</strong>. </td></tr><tr><td data-label="Penjelasan Kalkulator PPh 21 Masa Pajak Terakhir"> <strong>9) Proporsionalkan dan rekonsiliasi ke masa pajak terakhir</strong><br>- <code>PPh disetahunkan untuk masa</code> = <code>PPh Terutang Setahun × (masa kerja dalam bulan / 12)</code>.<br>- Kemudian kurangi <code>PPh yang sudah dipotong</code> pada masa sebelumnya → hasilnya adalah <code>PPh Terutang bulan ini</code> (dapat menghasilkan kekurangan bayar atau kelebihan bayar/refund).<br>- Jika pilihan <em>gross-up</em> atau <em>tunjangan pajak</em> diaktifkan, kalkulator menyesuaikan agar beban pajak ditanggung pemberi kerja (menghitung gross-up algebraically sehingga penerima menerima netto yang diinginkan). </td></tr><tr><td data-label="Penjelasan Kalkulator PPh 21 Masa Pajak Terakhir"> <strong>10) Faktor tambahan yang mempengaruhi hasil akhir</strong><br>- <strong>NPWP tidak ada / NIK belum teraktivasi</strong> → pemotongan dapat dilakukan dengan tarif 20% lebih tinggi (yakni pemotongan = <code>120%</code> dari jumlah PPh yang seharusnya).<br>- Pembulatan, plafon dan ketentuan PMK/Perdirjen (mis. perlakuan untuk bukan pegawai, tarif TER, dan perhitungan DPP untuk bukan pegawai) ikut memengaruhi langkah-langkah di atas. </td></tr><tr><td data-label="Penjelasan Kalkulator PPh 21 Masa Pajak Terakhir"> <strong>11) Output yang ditampilkan oleh kalkulator</strong><br>- Rincian: <code>Penghasilan Bruto</code>, <code>Jumlah Pengurang</code>, <code>Penghasilan Neto (masa &amp; setahun)</code>, <code>PTKP</code>, <code>PKP</code>, <code>PPh Pasal 21 atas PKP</code>, <code>PPh Pasal 21 dipotong masa sebelumnya</code>, <code>PPh Terutang bulan ini</code>, <code>PPh yg sudah disetor</code> dan indikasi kelebihan/kurang bayar. </td></tr><tr><td data-label="Penjelasan Kalkulator PPh 21 Masa Pajak Terakhir"> <strong>12) Catatan implementasi & verifikasi</strong><br>- Pastikan input sesuai bukti payroll (komponen bruto, kontribusi pensiun, zakat, status NPWP/NIK, masa kerja).<br>- Untuk kasus nyata gunakan angka riil; kalkulator hanya menerapkan aturan logika (annualisasi → tarif progresif → prorata → rekonsiliasi). </td></tr></tbody></table></div><div class="row-count">Rows: 13</div></div><div class="table-caption" id="Table2" data-table="YJKN_0013_02" style="margin-top:2mm;margin-left:3mm;"><strong>Table 2</strong></div>
<div class="table-wrapper" data-table-id="table-2"><div class="table-heading-bar" aria-label="Table heading"></div><div class="table-container"><div class="table-header-wrapper" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:5px;"><div class="copy-buttons"><button type="button" class="copy-plain-btn" data-action="copy-plain" onclick="copyTablePlain(this)">Copy Plain Table</button><button type="button" class="copy-markdown-btn" data-action="copy-markdown" onclick="copyTableMarkdown(this)">Copy Markdown Table</button><button type="button" class="export-csv-btn" data-action="export-csv" onclick="exportTableCSV(this)">Export CSV</button><button type="button" class="export-json-btn" data-action="export-json" onclick="exportTableJSON(this)">Export JSON</button><button type="button" class="export-xlsx-btn" data-action="export-xlsx" onclick="exportTableXLSX(this)">Export XLSX</button><button type="button" class="export-pdf-btn" data-action="export-pdf" onclick="exportTablePDF(this)">Export PDF</button><button type="button" class="export-markdown-btn export-markdown-initial" data-action="export-markdown" onclick="exportTableMarkdown(this)" style="display:none" data-initial-hidden="1">Export Markdown</button></div><div style="display:flex; align-items:center;"><button type="button" class="toggle-table-btn" data-action="toggle-collapse" onclick="toggleTable(this)">Collapse Table</button></div></div><table class="tv-table" role="table"><thead><tr><th class="tv-col-left" role="button" aria-label="Sort by Perbedaan PPh 21 setahun dan disetahunkan"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;">Perbedaan PPh 21 setahun dan disetahunkan</div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th></tr></thead><tbody><tr><td data-label="Perbedaan PPh 21 setahun dan disetahunkan"> <strong>Ringkasan singkat</strong><br>- <strong>PPh 21 setahun</strong>: perhitungan pajak berdasarkan penghasilan nyata yang diterima pada masa kerja dari pemberi kerja untuk periode yang bersangkutan — umumnya dipakai untuk pegawai yang menjadi subjek pajak sejak awal tahun hingga akhir tahun (kewajiban subjektif tidak berubah sepanjang tahun).<br>- <strong>PPh 21 disetahunkan (annualized)</strong>: penghasilan neto bulanan dikalikan 12 untuk mendapatkan basis tahunan, dikenakan tarif progresif PPh (Pasal 17) untuk memperoleh PPh tahunan, lalu diproporsionalkan ke jumlah bulan pegawai bekerja pada tahun berjalan (mis. PPh tahunan × masa kerja/12) dan dikurangi pajak yang sudah dipotong. Metode ini dipakai bila penghasilan diterima kurang dari 1 tahun kalender, atau status subjektif (SPDN) berubah di tengah tahun. </td></tr><tr><td data-label="Perbedaan PPh 21 setahun dan disetahunkan"> <strong>Perbedaan praktis (point-by-point)</strong><br>- Rincian tiap subjudul dipisah pada baris berikutnya. </td></tr><tr><td data-label="Perbedaan PPh 21 setahun dan disetahunkan"> <strong>Kapan dipakai</strong><br>- <strong>Setahun</strong>: pegawai sudah menjadi subjek pajak sepanjang tahun (tidak mulai/berhenti di tengah tahun).<br>- <strong>Disetahunkan</strong>: pegawai mulai/berhenti atau berstatus SPDN di tengah tahun, atau penghasilan hanya untuk sebagian tahun sehingga perlu annualisasi. </td></tr><tr><td data-label="Perbedaan PPh 21 setahun dan disetahunkan"> <strong>Cara perhitungan</strong><br>- <strong>Setahun</strong>: potongan dilakukan berdasarkan perhitungan bulanan (basis bulanan sesuai ketentuan).<br>- <strong>Disetahunkan</strong>: hitung penghasilan neto setahun (penghasilan neto sebulan × 12), tentukan PPh berdasarkan tarif progresif tahunan, lalu bagi/persentasekan ke bulan yang relevan dan kurangi pajak yang sudah dipotong.<br>- Formula umum: <code>PPh disetahunkan = (PPh atas penghasilan neto tahunan) × (masa kerja dalam bulan/12) - PPh yang sudah dipotong</code>. </td></tr><tr><td data-label="Perbedaan PPh 21 setahun dan disetahunkan"> <strong>Dampak pada besarnya pajak</strong><br>- <strong>Setahun</strong>: potongan bulanan merefleksikan penghasilan tiap bulan; umumnya tidak ada penyesuaian besar pada masa terakhir kecuali rekonsiliasi SPT.<br>- <strong>Disetahunkan</strong>: penerapan tarif progresif terhadap basis tahunan dapat menimbulkan penyesuaian (kekurangan/kelebihan potong) pada masa pajak terakhir. </td></tr><tr><td data-label="Perbedaan PPh 21 setahun dan disetahunkan"> <strong>Pelaporan / bukti potong</strong><br>- Pemilihan opsi pada bukti potong (mis. A1 di e-bupot) harus sesuai kondisi pegawai: opsi “Kurang dari Setahun yang Penghasilannya Disetahunkan” vs opsi lainnya; pemberi kerja wajib memilih sesuai aturan DJP. </td></tr><tr><td data-label="Perbedaan PPh 21 setahun dan disetahunkan"> <strong>Catatan praktis singkat</strong><br>- Untuk pegawai yang mulai/berhenti di tengah tahun atau yang statusnya berubah, penerapan disetahunkan lazim untuk mencegah pemotongan tidak proporsional.<br>- Pastikan rekonsiliasi akhir (masa pajak terakhir) memperhitungkan PPh yang sudah dipotong. </td></tr><tr><td data-label="Perbedaan PPh 21 setahun dan disetahunkan"> <strong>Apa itu SPDN</strong><br>- <strong>SPDN</strong> = <strong>Subjek Pajak Dalam Negeri</strong>. </td></tr><tr><td data-label="Perbedaan PPh 21 setahun dan disetahunkan"> <strong>Definisi</strong><br>- SPDN adalah orang pribadi atau badan yang berdomisili atau bertempat tinggal di Indonesia, atau berada di Indonesia dalam jangka waktu tertentu sehingga dikenai pajak atas seluruh penghasilannya (worldwide income). </td></tr><tr><td data-label="Perbedaan PPh 21 setahun dan disetahunkan"> <strong>Orang pribadi disebut SPDN jika:</strong><br>- Bertempat tinggal di Indonesia; atau<br>- Berada di Indonesia <strong>> 183 hari dalam jangka 12 bulan</strong>; atau<br>- Dalam suatu tahun pajak berada di Indonesia dan berniat untuk tinggal di Indonesia. </td></tr><tr><td data-label="Perbedaan PPh 21 setahun dan disetahunkan"> <strong>Konsekuensi utama</strong><br>- Dikenai PPh atas penghasilan dari dalam dan luar negeri.<br>- Menggunakan tarif progresif PPh orang pribadi (Pasal 17).<br>- Wajib melaporkan seluruh penghasilan dalam SPT Tahunan.<br>- Kebalikannya adalah SPLN (Subjek Pajak Luar Negeri), yang umumnya hanya dikenai pajak atas penghasilan yang bersumber dari Indonesia. </td></tr></tbody></table></div><div class="row-count">Rows: 11</div></div><div class="table-caption" id="Table3" data-table="YJKN_0013_03" style="margin-top:2mm;margin-left:3mm;"><strong>Table 3</strong></div>
<div class="table-wrapper" data-table-id="table-3"><div class="table-heading-bar" aria-label="Table heading"></div><div class="table-container"><div class="table-header-wrapper" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:5px;"><div class="copy-buttons"><button type="button" class="copy-plain-btn" data-action="copy-plain" onclick="copyTablePlain(this)">Copy Plain Table</button><button type="button" class="copy-markdown-btn" data-action="copy-markdown" onclick="copyTableMarkdown(this)">Copy Markdown Table</button><button type="button" class="export-csv-btn" data-action="export-csv" onclick="exportTableCSV(this)">Export CSV</button><button type="button" class="export-json-btn" data-action="export-json" onclick="exportTableJSON(this)">Export JSON</button><button type="button" class="export-xlsx-btn" data-action="export-xlsx" onclick="exportTableXLSX(this)">Export XLSX</button><button type="button" class="export-pdf-btn" data-action="export-pdf" onclick="exportTablePDF(this)">Export PDF</button><button type="button" class="export-markdown-btn export-markdown-initial" data-action="export-markdown" onclick="exportTableMarkdown(this)" style="display:none" data-initial-hidden="1">Export Markdown</button></div><div style="display:flex; align-items:center;"><button type="button" class="toggle-table-btn" data-action="toggle-collapse" onclick="toggleTable(this)">Collapse Table</button></div></div><table class="tv-table" role="table"><thead><tr><th class="tv-col-left" role="button" aria-label="Sort by **PPh 21 Karyawan Pindah Kerja**"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"><strong>PPh 21 Karyawan Pindah Kerja</strong></div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th></tr></thead><tbody><tr><td data-label="PPh 21 Karyawan Pindah Kerja"> <strong>Purpose & objective</strong><br>Menetapkan kebijakan operasional dan kontrol untuk perlakuan PPh Pasal 21 pada kasus pegawai yang berpindah antar cabang atau antar pemberi kerja dalam tahun berjalan. <br><br><strong>Tujuan:</strong> memastikan pemotongan, penerbitan bukti potong, penyetoran dan pelaporan SPT sesuai ketentuan perpajakan; menjaga akurasi perhitungan (annualisasi / penggabungan penghasilan); menyediakan dokumentasi audit yang lengkap; dan meminimalkan risiko denda, koreksi dan sengketa dengan otoritas pajak. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja"> <strong>Scope</strong><br>Mencakup seluruh aktivitas payroll dan pajak penghasilan karyawan (PPh Pasal 21) pada kondisi:<br>1. Pindah cabang dalam entitas yang sama.<br>2. Pindah kerja antar pemberi kerja berbeda pada tahun berjalan.<br>3. Mutasi tugas dengan perubahan kantor pemotong.<br>Tidak mencakup kasus luar negeri/ekspatriat dengan implikasi residensi internasional (lihat bagian khusus). </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja"> <strong>Key definitions & core recognition principle</strong><br>• Bukti potong (Formulir 1721/1721-A1/A2): dokumen formal pemotongan PPh sebagai bukti untuk pegawai dan referensi pemotongan di pemberi kerja berikutnya.<br>• Pemotong lama / pemotong baru: pemberi kerja yang memotong PPh sampai tanggal pindah (lama) dan pemberi kerja yang memotong setelahnya (baru).<br>• Annualisasi / penggabungan penghasilan: perhitungan PPh untuk seluruh penghasilan setahun berdasarkan tarif progresif, dikurangi PPh yang telah dipotong sebelumnya; prinsip ini dipakai untuk menghitung sisa pemotongan saat pindah. <br>Core principle: total PPh terutang atas penghasilan setahun harus ditentukan (annualisasi); pemberi kerja baru menyesuaikan pemotongan dengan mengkreditkan PPh yang sudah dipotong oleh pemberi kerja lama; pemberi kerja lama wajib menerbitkan bukti potong sampai masa terakhir pemotongan. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja"> <strong>Core principles / Key rules</strong><br>1. Pemberi kerja lama memotong sampai bulan pegawai keluar dan menerbitkan bukti potong masa/taunan sesuai aturan. <br>2. Pegawai wajib menyerahkan bukti potong dari pemberi kerja lama ke pemberi kerja baru dan menyimpan untuk SPT Tahunan. <br>3. Pemberi kerja baru menghitung PPh terutang tahunan (annualisasi) → kurangi PPh yang telah dipotong lama → hasilnya menjadi dasar pemotongan sisa (bulanan/desimal) di tempat baru. <br>4. Jika ada kelebihan pemotongan oleh pemberi kerja lama, mekanisme pengembalian/penyesuaian dicatat dan bukti potong disesuaikan. <br>5. Bila terdapat keraguan teknis atau perubahan signifikan (tunjangan berubah, penghasilan non-regular), konsultasikan ke otoritas pajak setempat. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja"> <strong>RACI</strong><br>RACI adalah kerangka penetapan peran dalam proses kerja atau proyek. Empat kategorinya:<br><br><strong>R – Responsible</strong><br>Pihak yang melakukan pekerjaan secara langsung.<br><br><strong>A – Accountable</strong><br>Pemilik akhir keputusan dan hasil; satu orang harus memegang peran ini.<br><br><strong>C – Consulted</strong><br>Pihak yang memberikan masukan sebelum keputusan dibuat (dua-arah).<br><br><strong>I – Informed</strong><br>Pihak yang perlu diberi informasi setelah keputusan/aksi dilakukan (satu-arah). </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja"> <strong>Governance & responsibilities (RACI)</strong><br>• Payroll / Tax Officer (R): minta dan verifikasi bukti potong dari pemberi kerja lama; hitung annualisasi; lakukan pemotongan sisa/penyesuaian; terbitkan bukti potong masa terbaru.<br>• HR (A): menyediakan tanggal efektif pindah, kontrak/lepas, perubahan gaji/tunjangan dan bukti administrasi lainnya.<br>• Finance (C): verifikasi perhitungan PPh dan pastikan entri GL/pemotongan tercatat serta penyetoran pajak dilakukan tepat waktu.<br>• Employee (I/R): serahkan bukti potong lama; pastikan data pribadi dan tanggal efektif pindah benar.<br><br>Referensi sumber praktik (penjelasan & tautan):<br>▪ DDTCNews — Kasus pindah cabang (sama pemberi kerja, cabang lama → cabang baru): cabang lama wajib mengembalikan kelebihan pemotongan dan menyerahkan bukti potong masa terakhir; pegawai wajib melaporkan seluruh penghasilan dalam SPT Tahunan; contoh perhitungan dan alur pengembalian/penyesuaian dijelaskan pada artikel. <a href="https://news.ddtc.co.id/berita/nasional/1803794/pegawai-pindah-cabang-hitungan-pph-21-nya-disamakan-dengan-resign" target="_blank">Baca: DDTCNews — Pegawai pindah cabang: hitungan PPh 21</a>.<br><br>▪ Direktorat Jenderal Pajak — Petunjuk praktis tentang pembuatan/bantuan pengisian bukti potong untuk pegawai yang masuk/pindah di tahun berjalan; direkomendasikan bendahara/penyetor berkonsultasi ke KPP bila ada kebingungan. <a href="https://www.pajak.go.id/id/berita/bingung-bukti-potong-pegawai-pindah-bendahara-konsultasi-di-pajak-tana-tidung" target="_blank">Baca: Direktorat Jenderal Pajak — Bingung bukti potong: pegawai pindah</a>.<br><br>▪ Klikpajak — Prinsip umum perhitungan ketika pegawai pindah kerja/pindah tugas:<br>1. Perusahaan lama tetap memotong sampai bulan pegawai keluar dan menerbitkan bukti potong.<br>2. Perusahaan baru menghitung PPh 21 terutang setahun, mengurangkan PPh yang sudah dipotong oleh perusahaan lama, menerbitkan bukti potong 1721-A1, dan melakukan rekalkulasi (annualisasi/progresif) pada akhir tahun (Desember).<br>3. Pegawai wajib menyerahkan bukti potong dari perusahaan lama ke perusahaan baru dan melaporkan gabungan penghasilan di SPT Tahunan. <a href="https://klikpajak.id/blog/menghitung-pph-pasal-21-karyawan-yang-pindah-kerja-dan-pindah-tugas/" target="_blank">Baca: Klikpajak — Menghitung PPh Pasal 21 untuk karyawan pindah</a>.<br><br>▪ Gadjian — Rumus praktis: PPh21 yang harus dipotong oleh tempat kerja baru = (PPh terutang untuk 1 tahun penuh berdasarkan tarif progresif) − (PPh yang telah dipotong di tempat kerja lama sampai tanggal pindah). Contoh angka dan pengisian formulir bukti potong disertakan. <a href="https://www.gadjian.com/blog/2022/08/13/pph-21-karyawan-pindah-kerja-dan-tugas/" target="_blank">Baca: Gadjian — PPh 21: karyawan pindah kerja dan tugas</a>.<br><br>Praktik singkat (ceklist untuk payroll / bendahara):<br>1. Minta bukti potong masa terakhir dari cabang/perusahaan lama.<br>2. Hitung PPh terutang setahun (tarif progresif/PPh Pasal 17) lalu kurangi PPh yang sudah dipotong → hasilnya potongan sisa yang harus dilakukan di tempat baru (atau nilai selisih yang dikembalikan jika berlebih).<br>3. Terbitkan bukti potong yang benar (mis. 1721-A1) dan laporkan SPT Masa/penyetoran sesuai ketentuan.<br>4. Simpan dokumentasi bukti potong untuk keperluan SPT Tahunan pegawai.<br><br>Catatan penting: sumber-sumber ini menafsirkan ketentuan berdasarkan peraturan (mis. PMK/Perdirjen terkait) dan praktik administrasi KPP; untuk kasus kompleks atau bila ada keraguan teknis (mis. perubahan penghasilan, tunjangan yang berubah, atau aliran antar entitas) konfirmasikan ke KPP setempat atau konsultasikan konsultan pajak. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja"> <strong>Required inputs & supporting documentation</strong><br>• Bukti potong dari pemberi kerja lama (bukti potong masa/1721-A1/A2).<br>• Kontrak kerja, tanggal pindah/berhenti, surat pengalihan/mutasi.<br>• Rincian penghasilan bruto per masa (gaji, tunjangan tetap, tunjangan tidak tetap, THR/bonus bila dibayarkan).<br>• Potongan yang relevan (iuran pensiun, biaya jabatan, iuran BPJS jika dipotong, penghasilan tidak kena pajak).<br>• Bukti penyetoran PPh masa yang sudah dilakukan oleh pemberi kerja lama (jika perlu verifikasi). </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja"> <strong>Calculation steps (operasional)</strong><br>1. Kumpulkan data: total penghasilan tahun berjalan sampai tanggal pindah (dari pemberi kerja lama) dan estimasi penghasilan sisa tahun berjalan di pemberi kerja baru.<br>2. Annualisasi: hitung penghasilan tahunan pro forma (penghasilan terima sampai pindah + proyeksi penghasilan setelah pindah untuk sisa bulan).<br>3. Hitung PPh terutang tahunan menggunakan tarif progresif PPh Pasal 17 (sesuai aturan berlaku).<br>4. Kreditkan PPh yang sudah dipotong: kurangi PPh yang sudah dipotong oleh pemberi kerja lama → selisih = PPh yang masih harus dipotong/potongan lebih (jika negatif berarti kelebihan potong).<br>5. Alokasi pemotongan sisa: bagi selisih ke sisa bulan berjalan atau lakukan mekanisme pemotongan bulanannya sesuai kebijakan internal (perhitungan prorata).<br>6. Rekonsiliasi & bukti: buat jurnal, terbitkan bukti potong masa dan simpan bukti potong lama sebagai lampiran. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja"> <strong>Sample payroll journal guidance</strong><br>1. Pencatatan pemotongan PPh (pada pengakuan): Dr Payroll expense — Cr Accrued PPh Pasal 21 (lalu ketika dibayar: Dr Accrued PPh — Cr Bank).<br>2. Jika pemberi kerja lama mengembalikan kelebihan pemotongan ke pegawai: Dr Accrued PPh (atau Dr Expense jika employer responsibility) — Cr Cash/Bank; catat notifikasi dan bukti revisi bukti potong bila diperlukan.<br>3. Narration: sertakan catatan “PPh21 adjustment — annualisasi pindah — EmployeeID — Periods involved.” </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja"> <strong>Operational checklist untuk payroll / bendahara</strong><br>☐ Terima bukti potong dari pemberi kerja lama sebelum cut-off.<br>☐ Verifikasi konsistensi penghasilan yang dilaporkan di bukti potong lama dengan catatan HR.<br>☐ Lakukan annualisasi dan hitung kredit PPh lama.<br>☐ Terapkan pemotongan sisa / lakukan pengembalian jika terjadi kelebihan.<br>☐ Terbitkan bukti potong masa/akhir yang benar (cantumkan periode pemotongan).<br>☐ Simpan dokumentasi lengkap untuk SPT Tahunan pegawai dan audit. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja"> <strong>Special cases & escalation</strong><br>• Pindah cabang dalam entitas yang sama: cabang lama tetap menerbitkan bukti potong; proses pengembalian/penyesuaian diatur internal antar-cabang; komunikasi ke kantor pajak bila perlu. (lihat praktik di DDTCNews).<br>• Pindah antar pemberi kerja (entitas berbeda): pegawai memberi bukti potong lama ke pemberi kerja baru; pemberi kerja baru menghitung annualisasi. <br>• Kelebihan potong oleh pemberi kerja lama: atur mekanisme pengembalian atau koreksi bukti potong sesuai kebijakan internal; bila ada ketidakjelasan, konsultasikan ke Direktorat Jenderal Pajak atau KPP setempat. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja"> <strong>Data retention & audit evidence</strong><br>Simpan bukti potong lama, bukti potong yang diterbitkan, perhitungan annualisasi, jurnal, bukti penyetoran pajak, dan komunikasi dengan pegawai/pemberi kerja lain. Simpan sesuai retensi fiskal lokal dan kebijakan organisasi. Siapkan audit pack yang menunjukkan alur penghitungan, persetujuan dan bukti bukti potong. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja"> <strong>Controls & mitigations</strong><br>• Tetapkan cut-off pengumpulan bukti potong untuk meminimalkan keterlambatan pemotongan.<br>• Validasi data penghasilan antar bagian HR dan payroll sebelum annualisasi.<br>• Terapkan maker-checker untuk perhitungan PPh dan penerbitan bukti potong.<br>• Catat semua koreksi di log penyesuaian dengan otorisasi sesuai threshold. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja"> <strong>Employee communications & obligations</strong><br>Beritahu pegawai kewajiban menyerahkan bukti potong lama, menjelaskan mekanisme perhitungan sisa/annualisasi, dan dampak pada pemotongan bulanan. Instruksikan pegawai menyimpan bukti potong untuk keperluan SPT Tahunan. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja"> <strong>KPIs & monitoring</strong><br>• % kasus pindah dengan bukti potong diterima sebelum cut-off.<br>• Waktu rata-rata penyelesaian penyesuaian PPh (hari).<br>• Jumlah/ nilai koreksi PPh karena kekeliruan bukti potong. Monitor tren dan laporkan penyimpangan material. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja"> <strong>Templates & repository</strong><br>Sediakan template: checklist pindah pegawai, form permintaan bukti potong, sheet perhitungan annualisasi (input: penghasilan lama, periode, proyeksi baru), dan contoh narasi jurnal. Arsipkan dalam repository payroll terproteksi. (Praktik dan contoh perhitungan tersedia pada ringkasan oleh Klikpajak dan contoh numerik di Gadjian.) </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja"> <strong>Quick reference — workflow singkat</strong><br>1. Pegawai resign/transfer → HR menginformasikan tanggal efektif.<br>2. Payroll minta bukti potong lama → terima sebelum cut-off.<br>3. Lakukan annualisasi → hitung PPh tahunan → kurangi PPh lama.<br>4. Terapkan pemotongan sisa / proses pengembalian bila kelebihan.<br>5. Terbitkan bukti potong masa dan simpan dokumentasi untuk SPT Tahunan. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja"> <strong>Compliance note & escalation to tax authority</strong><br>Jika ditemukan ketidakpastian teknis, potongan yang salah material, atau sengketa dengan pegawai terkait PPh yang sudah/harus dipotong, segera konsultasikan ke kantor KPP setempat atau ke Direktorat Jenderal Pajak. Dokumentasikan hasil konsultasi dan tindak lanjut untuk bukti kepatuhan. </td></tr></tbody></table></div><div class="row-count">Rows: 18</div></div><div class="table-caption" id="Table4" data-table="YJKN_0013_04" style="margin-top:2mm;margin-left:3mm;"><strong>Table 4</strong></div>
<div class="table-wrapper" data-table-id="table-4"><div class="table-heading-bar" aria-label="Table heading"></div><div class="table-container"><div class="table-header-wrapper" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:5px;"><div class="copy-buttons"><button type="button" class="copy-plain-btn" data-action="copy-plain" onclick="copyTablePlain(this)">Copy Plain Table</button><button type="button" class="copy-markdown-btn" data-action="copy-markdown" onclick="copyTableMarkdown(this)">Copy Markdown Table</button><button type="button" class="export-csv-btn" data-action="export-csv" onclick="exportTableCSV(this)">Export CSV</button><button type="button" class="export-json-btn" data-action="export-json" onclick="exportTableJSON(this)">Export JSON</button><button type="button" class="export-xlsx-btn" data-action="export-xlsx" onclick="exportTableXLSX(this)">Export XLSX</button><button type="button" class="export-pdf-btn" data-action="export-pdf" onclick="exportTablePDF(this)">Export PDF</button><button type="button" class="export-markdown-btn export-markdown-initial" data-action="export-markdown" onclick="exportTableMarkdown(this)" style="display:none" data-initial-hidden="1">Export Markdown</button></div><div style="display:flex; align-items:center;"><button type="button" class="toggle-table-btn" data-action="toggle-collapse" onclick="toggleTable(this)">Collapse Table</button></div></div><table class="tv-table" role="table"><thead><tr><th class="tv-col-left" role="button" aria-label="Sort by **PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap**"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"><strong>PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap</strong></div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th></tr></thead><tbody><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Ringkasan Eksekutif</strong><br>Objektif utama: memastikan pemotongan, kredit, dan rekonsiliasi PPh 21 untuk karyawan yang berpindah employer tercatat akurat, terdokumentasi, dan dapat diaudit. Ringkasan tindakan untuk manajemen: <br>1. Pendekatan rekonsiliasi: pemotongan bulanan bersifat estimatif. Rekonsiliasi kumulatif tahunan (Desember job) atau rekonsiliasi saat pegawai keluar adalah mekanisme final untuk menerapkan tarif progresif Pasal 17 terhadap PKP tahun berjalan. Proses rekonsiliasi harus dijadwalkan — mis. runbook Desember (job otomatis) + event-driven saat pegawai exit. <br>2. Bukti kredit wajib: Formulir bukti potong (1721-A1/A2) dari pemberi kerja sebelumnya adalah bukti utama kredit pajak. Absence of 1721-A1 harus memicu workflow follow-up dan escalation; jangan mengakui kredit tanpa dokumen tertulis yang sah. <br>3. HCM requirements: sistem payroll wajib mendukung multi-employer entries per karyawan, menyimpan file 1721 dengan metadata (uploader, tanggal diterima, checksum, verification_status), dan menghasilkan laporan rekonsiliasi Desember otomatis serta PDF breakdown untuk pegawai dan auditor. <br>4. Governance: setiap aktivitas harus memiliki owner (Payroll Officer, HRBP, Finance Controller), SLA (contoh: issuace 1721 ≤ 7 business days), dan retention policy (minimum 5 tahun untuk dokumen pajak). Tambahkan RACI chart ke SOP. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Ketentuan PPh Pasal 21 — Penjelasan Operasional & Prinsip Perhitungan</strong><br>Ringkasan aturan operasional beserta implikasinya: <br>1. Prinsip progresif: tarif Pasal 17 dikenakan terhadap PKP tahunan; oleh sebab itu pemotongan bulanan merupakan cicilan. Semua asumsi yang digunakan oleh sistem untuk TER harus terdokumentasi (mis. PTKP yang dipakai, asumsi bonus, foreign income dan kurs konversi bila ada). <br>2. Definisi TER: definisikan TER yang wajar per salary band (mis. 3%–8% tergantung level). TER itu hanya parameter untuk withholding; hasil akhir dihitung melalui rekonsiliasi kumulatif dan dapat menghasilkan kekurangan atau kelebihan bayar. <br>3. Rekonsiliasi: employer terakhir/exit employer harus menggabungkan seluruh penghasilan dari employer sebelumnya (berdasarkan 1721) dan employer saat ini, hitung PKP tahunan, terapkan tarif progresif, kreditkan pajak yang telah dipotong, lalu proses selisih (lebih bayar → refund, kurang bayar → withheld). <br>4. Audit & dokumentasi: simpan semua artefak (calculation workbook, 1721 PDF, SSP/bukti setor, proof of transfer refund, memo sign-off) dalam paket audit per karyawan. Buat indeks paket audit: {employee_id}<em>audit</em>{year}.zip yang berisi file dan manifest JSON (field list) untuk auditor. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Dasar Hukum & Rujukan</strong> <br> ▪ <a href="https://jdih.kemenkeu.go.id/api/download/fulltext/2016/101~PMK.010~2016Per.pdf" target="_blank">PMK 101/PMK.010/2016 — Penyesuaian Besarnya PTKP (PDF)</a><br>▪ <a href="https://jdih.kemenkeu.go.id/dok/pmk-10-tahun-2025" target="_blank">PMK 10 Tahun 2025 — Pajak Penghasilan Pasal 21 atas Penghasilan Tertentu yang Ditanggung Pemerintah (JDIH)</a><br>▪ <a href="https://jdih.kemenkeu.go.id/api/download/e60a82e0-b218-40f5-9d18-b924aa1e11ce/2023pmkeuangan168.pdf" target="_blank">PMK 168 Tahun 2023 — Petunjuk Pelaksanaan Pemotongan PPh Pasal 21 (PDF)</a><br>▪ <a href="https://jdih.kemenkeu.go.id/dok/per-11pj2025" target="_blank">PER-11/PJ/2025 — Ketentuan Pelaporan Pajak (JDIH)</a> </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Alur Operasional End-to-End (Checklist Proses untuk Payroll / HR / Finance)</strong><br>Checklist ringkas per langkah (input, output, owner, SLA) — copy-paste ready: <br>1. Pre-exit (HR): input resignation notice ke HRIS; deliverable: final settlement schedule, owner: HRBP, SLA: acknowledge within 3 business days. <br>2. Exit payroll (Employer lama): capture final payslip components up to last working day, hitung prorata PTKP & biaya jabatan, hitung cumulative PKP & PPh, terbitkan 1721-A1/A2, proses refund/tagihan kekurangan. Deliverables: 1721 file (PDF + metadata), proof of transfer (if refund), memo perhitungan signed by Payroll Manager; owner: Payroll; SLA: issue 1721 within 7 business days from last day. <br>3. Onboarding (Employer baru): minta 1721-A1 pada hari pertama; verifikasi NPWP & PTKP; unggah credit fields ke HCM; set TER untuk monthly withholding; deliverables: uploaded 1721, TER setting note; owner: HR/Payroll; SLA: verification & input within 3 business days. <br>4. Rekonsiliasi akhir (Employer terakhir / exit): agregasi seluruh incomes, hitung annual PKP, terapkan Pasal 17 rates, kredit prior withholdings, proses selisih, terbitkan final bukti potong. Owner: Payroll + Finance; SLA: process adjustment within next payroll cycle (Desember job or immediate exit cycle). </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Perusahaan Lama — Prosedur Perhitungan, Dokumentasi & Contoh Lengkap</strong><br>Langkah operasional lengkap dan file yang harus dihasilkan: <br>1. Data collection: export payslips, payroll register, payment logs (bonuses, THR, pesangon), pension contributions, benefits valuation for in-kind items; format: PDF/CSV/JSON. <br>2. Compute reductions: biaya_jabatan = MIN(5% × total_gross_period, prorata_plafon); pension_deduction = actual eligible pension contributions; PTKP prorata = (annual_PTKP / 12) × months_employed. <br>3. Cumulative tax calc: buat schedule cumulative month by month; hitung cumulative gross, cumulative deductions, cumulative PKP, cumulative tax via progressive tiers, cumulative withholding; selisih = cumulative_tax_due − cumulative_withheld. <br>4. Dokumentasi: 1721-A1/A2 (softcopy + signed hardcopy), SSP/transfer proof jika ada pembayaran tambahan, memo perhitungan yang ditandatangani. <br><br>Contoh numerik (sheet-pasteable):<br>Employee A — periode Jan–Jun di Company X: monthly_gross = 15.000.000; months = 6; pension_monthly = 100.000. <br>- total_gross_X = =15.000.000 <em> 6 → 90.000.000. <br>- total_pension = =100.000 </em> 6 → 600.000. <br>- biaya_jabatan = =MIN(0.05*90.000.000, prorata_plafon) → 4.500.000 (jika plafon tahunan belum tercapai). <br>- net_period = =total_gross_X − total_pension − biaya_jabatan → 84.900.000. <br>Catatan: langkah selanjutnya: gabungkan dengan employer baru untuk PKP tahunan. Simpan workbook: companyX_employeeA_reconciliation_2025.xlsx. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Perusahaan Baru — Integrasi 1721-A1 ke HCM, Field Mapping, TER & Workflow Bulanan</strong><br>Spesifikasi teknis minimal HCM/Payroll: <br>Data model per prev employer entry (relational): entry fields harus minimal: entry_id, employee_id, prev_employer_name, prev_employer_npwp, prev_period_start, prev_period_end, credit_prev_gross, credit_prev_tax, file_1721_path, upload_date, uploaded_by, verified_by, verification_status, checksum, parse_errors. <br>Field mapping & API considerations (deskripsional): pada event upload, sistem harus mengekstrak (atau memungkinkan input manual untuk) credit_prev_gross dan credit_prev_tax; jika ekstraksi gagal, tandai record untuk verifikasi manual. Endpoint upload harus mengembalikan entry identifier dan checksum untuk idempotensi. <br>TER module: configurable per fiscal year dan per employee group, allow override dengan audit reason (override_by, override_date, override_reason) yang terekam. <br>Monthly workflow: setiap payroll run compute monthly withholding menggunakan current TER atau proforma effective rate; simpan monthly withholding per source untuk rekonsiliasi. <br>Desember job: run batch job yang mengagregasi prev entries + current year incomes per employee → calculate annual PKP → compute annual PPh → compare dengan sum of monthly withholdings → generate adjustment instructions dan PDF breakdown per employee; simpan di folder dokumen pegawai dengan konvensi nama standar. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Contoh Perhitungan Terperinci — Multi-Employer Case (full numeric walkthrough)</strong><br>Asumsi: pegawai lajang TK/0; PTKP per tahun = 54.000.000; biaya jabatan plafon tahunan = 6.000.000 (example; sesuaikan dengan PMK terbaru). <br>Input: <br>• Company X (Jan–Jun): monthly_gross = 15.000.000; pension_monthly = 100.000. <br>• Company Y (Jul–Dec): monthly_gross = 17.000.000; pension_monthly = 150.000; bonus Nov = 10.000.000. <br>Langkah komputasi lengkap: <br>1. total_gross_X = 15.000.000 × 6 = 90.000.000. <br>2. total_gross_Y = (17.000.000 × 6) + 10.000.000 bonus = 112.000.000. <br>3. total_pension = (100.000 × 6) + (150.000 × 6) = 1.500.000. <br>4. biaya_jabatan_X = 0.05 × 90.000.000 = 4.500.000; biaya_jabatan_Y = 0.05 × 112.000.000 = 5.600.000; total_biaya = 10.100.000 (cek plafon tahunan: jika plafon < total_biaya maka lakukan prorata alokasi per period: prorata = (plafon_tahunan / total_biaya) × biaya_per_period). <br>5. net_taxable_income = (90.000.000 + 112.000.000) − 1.500.000 − 10.100.000 = 190.400.000. <br>6. PKP = net_taxable_income − PTKP = 190.400.000 − 54.000.000 = 136.400.000. <br>7. Apply progressive rates (layered): <br>• Layer 1: up to 60.000.000 @5% → 3.000.000. <br>• Remaining = 76.400.000 @15% → 11.460.000. <br>• PPh annual = 3.000.000 + 11.460.000 = 14.460.000. <br>8. Compare dengan total withholding recorded selama tahun untuk menentukan shortage/overpayment. Buat table monthly: <code>month | employer | withholding | cumulative_withheld</code>. Simpan di sheet 'monthly_withholding'. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Ilustrasi Dua Skenario Pemotongan — Contoh KURANG/LEBIH BAYAR & Catatan Operasional</strong><br>Skenario A — konservatif (angka): <br>• TER employer X = 5% → potongan per bulan: 15.000.000 × 5% = 750.000 → 6 months = 4.500.000. <br>• TER employer Y = 6% → potongan per bulan: 17.000.000 × 6% = 1.020.000 → 6 months = 6.120.000. <br>• Bonus withholding (payroll Y) = 10.000.000 × 10% = 1.000.000. <br>• Total withheld = 4.500.000 + 6.120.000 + 1.000.000 = 11.620.000. <br>• PPh annual calculated = 14.460.000 → shortage = 2.840.000. <br>Operational note: shortage harus dikomunikasikan ke pegawai dengan breakdown dan approval flow sebelum adjustment payroll Desember; jika pegawai keberatan, escalate ke HR + Finance untuk mediasi. <br><br>Skenario B — sensitivity analysis (conservative vs aggressive TER): <br>• Buat sensitivity table yang memvariasikan TER X ∈ {4%,5%,6%} dan TER Y ∈ {5%,6%,7%} → hitung total withholding dan shortage. Gunakan tabel pivot untuk menunjukkan impact pada net pay pegawai vs cashflow perusahaan. Rekomendasi: pilih TER default per salary band yang meminimalkan shortage pada mayoritas kasus sambil menjaga fairness. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Varian Kasus & Perlakuan — Bonus, THR, Pesangon, Perubahan PTKP, Dual Employment</strong><br>Ketentuan operasional singkat per varian: <br>1. Bonus/THR dibayar sebelum resign: include in cumulative period (employer lama) — besar bonus dapat memindahkan pegawai ke layer marginal yang lebih tinggi; employer lama bertanggung jawab atas withholding pada payment date; jika kekurangan muncul, employer lama harus menyelesaikannya menurut SOP. <br>2. Bonus/THR dibayar setelah resign sebagai final settlement: treat as income of employer lama at payment date; 1721 harus merefleksikan periode dan tanggal pembayaran. Jika employer lama tidak ada (bangkrut/closed), pegawai mengklaim via SPT Tahunan; employer baru tidak dapat mengkredit tanpa 1721. <br>3. Pesangon: periksa PMK untuk ketentuan eksplisit terkait exemption atau perlakuan khusus; buat kalkulasi terpisah di workbook 'pesangon_calc' untuk menampung formula exemption dan taxable remainder; lampirkan legal citation. <br>4. Perubahan PTKP (menikah/anak): pegawai wajib menyerahkan dokumen pendukung (akta nikah, akte kelahiran anak) kepada HR; update PTKP going forward; jika dokumen diterima terlambat, lakukan re-reconciliation dan perbaikan via SPT Tahunan atau amendment payroll. <br>5. Dual employment (simultaneous jobs): kumpulkan 1721 dari keduanya; idealnya pegawai menunjuk main employer untuk PTKP; jika tidak, kedua employer tetap memotong dan rekonsiliasi dilakukan di employer terakhir atau melalui SPT oleh pegawai. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Spreadsheet Template — Struktur Kolom, Rumus Kunci, Validasi & Contoh Formula Pasteable</strong><br>Rekomendasi desain workbook: minimal tiga sheet — employer_input, consolidation, audit_trail. Sertakan sheet 'config' untuk PTKP, plafon biaya_jabatan, progressive_rate_table, TER defaults. <br><br>Sheet employer_input columns (paste-ready header):<br><code>employee_id | employee_name | npwp | ptkp_status | employer_name | period_start | period_end | monthly_gross | months_in_period | total_gross | pension_monthly | total_pension | prorata_plafon | cost_of_work | other_income | tax_withheld_total | file_1721_id | notes</code> <br><br>Pasteable formulas (Excel syntax):<br>- <code>total_gross = =CELL_monthly_gross * CELL_months_in_period</code> <br>- <code>total_pension = =CELL_pension_monthly * CELL_months_in_period</code> <br>- <code>prorata_plafon = =(plafon_tahunan/12) * CELL_months_in_period</code> <br>- <code>cost_of_work = =MIN(0.05 * CELL_total_gross, CELL_prorata_plafon)</code> <br>- <code>net_income_period = =CELL_total_gross - CELL_total_pension - CELL_cost_of_work</code> <br><br>Validation rules (Data Validation / Conditional Formatting):<br>- <code>SUM(months_in_period for employee across employers) &lt;= 12</code> → highlight if >12. <br>- NPWP regex validation: <code>=REGEXMATCH(cell,&quot;^[0-9]{15}$&quot;)</code> (or use custom formula depending on spreadsheet engine). <br>- Flag if <code>other_income &gt; threshold</code> → mark for manual review. <br><br>Sheet consolidation columns: <code>employee_id | total_gross_all | total_pension_all | total_cost_of_work_all | ptkp_annual | pkp | pph_owed | total_tax_withheld_all | balance | action_required</code> <br><br>Sheet audit_trail columns: <code>file_1721_id | uploader | upload_date | checksum | verification_status | verifier | verification_date | notes</code>. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Kewajiban Perusahaan, Governance & SLA Terperinci</strong><br>Contoh pernyataan kebijakan copy-ready untuk SOP: <br>• “Perusahaan akan menerbitkan Formulir 1721-A1/A2 bagi pegawai yang mengakhiri hubungan kerja maksimal 7 (tujuh) hari kerja sejak tanggal berakhirnya hubungan kerja. Bukti penerbitan dan pengiriman akan disimpan di folder HR/Payroll.” <br>• “Setiap pegawai baru wajib menyerahkan Formulir 1721-A1 dari pemberi kerja sebelumnya pada hari pertama atau sebelum payroll cycle pertama; jika tidak tersedia, payroll akan menandai record dan memulai proses follow up.” <br><br>Contoh SLA table (copy-ready):<br><code>Activity | Responsible | SLA</code> <br><code>Issuance 1721 by prev employer | Prev payroll | ≤ 7 business days</code> <br><code>Verification &amp; upload by new employer | HR/Payroll | ≤ 3 business days</code> <br><code>Refund processed by finance | Finance | ≤ 14 business days after reconciliation</code> <br><br>Escalation path (automated + manual): <br>• Day 3 after missing 1721: automated reminder to prev employer & employee (email + HRIS task). <br>• Day 7: escalate to HR manager of prev employer — send formal letter template (cc: Payroll Lead). <br>• Day 14: open case for payroll investigation; advise pegawai to claim via SPT if proof absent. Simpan semua komunikasi dalam case log. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Checklist Kepatuhan & Retensi Dokumentasi untuk Audit (printable)</strong><br>Checklist items (tickbox format):<br>1. 1721-A1/A2 file present (Y/N) + checksum + verifier initials. <br>2. Payslip monthly for all months in period (Y/N) + link to payroll register. <br>3. SSP or payment proof for any additional withholding or deposit (Y/N) + date. <br>4. Memo perhitungan kumulatif + approval signature (Y/N) + stored path. <br>5. Proof of refund transfer (if any) + employee acknowledgment (Y/N). <br><br>Retention policy (recommended):<br>• Keep tax-related documents (1721, SSP, calculation memos) for minimum 5 years; recommended 10 years for regulated sectors. Implement backup policy: weekly incremental + monthly full backup, store offsite and ensure restore test setiap 6 bulan. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Common Errors & Prevention — Checklist Praktis untuk Tim Payroll</strong><br>Daftar error umum, akar penyebab, dan mitigation steps: <br>Common mistakes: <br>• Missing 1721 input → root cause: HR tidak menegakkan upload pada onboarding; mitigation: buat mandatory upload field dan blocking rule untuk payroll processing. <br>• Incorrect classification (reimburse vs taxable) → root cause: inconsistent payment code; mitigation: standardized payment codes, require approver for non-standard payments. <br>• Wrong prorata calculation → root cause: incorrect formula atau months_in_period error; mitigation: unit tests with sample cases dan regression tests saat formula berubah. <br><br>Operational controls: <br>• Mandatory data validation scripts untuk NPWP format dan sum(months) <= 12. <br>• Automated reconciliation job weekly dengan exceptions report to payroll lead. <br>• Quarterly spot-check audit (sample 5%) with sign-off from Payroll Manager. <br>• Maintain test suite: unit tests for formula cells (1 month, 3 months, 12 months cases) and integration tests for upload → parse → consolidate flow. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Template Surat & Email Otomatis (1721-A1 Request) — Copy-Paste Ready</strong><br>Subject: Permintaan Formulir Bukti Potong PPh 21 (1721-A1)<br><br>Body (plain text merge fields):<br>Yth. Bagian Payroll [Nama Perusahaan Sebelumnya],<br><br>Saya yang bertanda tangan di bawah ini:<br>Nama : [Nama Pegawai]<br>NPWP : [NPWP]<br>Tanggal Berhenti : [DD/MM/YYYY]<br><br>Dengan ini meminta penerbitan Formulir 1721-A1 untuk periode kerja sampai tanggal berhenti. Mohon dikirim melalui email ke [email] atau dicetak dan diserahkan ke HR pada tanggal [tanggal].<br><br>Hormat saya,<br>[Nama Pegawai]<br><br>Automation notes: tambahkan template ini ke exit workflow di HRIS; trigger email ketika pegawai submit resignation form; log email send/receipt; jika tidak ada tanggapan dalam SLA, eskalasikan otomatis. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>UAT / Testing Plan — Skenario, Test Cases, Steps & Acceptance Criteria</strong><br>UAT test plan structure (copy-ready): <code>Test_ID | Title | Precondition | Steps | Expected Result | Actual Result | Status | Owner</code>. <br><br>Representative test cases: <br>TC001 — Mid-year resignation & new joiner (no bonus): <br>• Precondition: Employee has 6 months at Employer A, 6 months at Employer B; Employer A issues 1721. <br>• Steps: upload 1721 → verify parsing → TER applied → run December reconciliation → generate PDF breakdown. <br>• Expected: PPh annual matches manual calculation; balance computed and applied to December payroll; audit trail recorded. <br><br>TC002 — Mid-year resignation with final settlement (pesangon) + later bonus from employer B: <br>• Precondition: Pesangon paid by A in final settlement (taxable or partially exempt per PMK). <br>• Steps: include pesangon in cumulative calc for A; upload subsequent bonus from B; run reconciliation. <br>• Expected: correct application of PMK exemptions; net taxable portion included in PKP; balance correct. <br><br>Acceptance criteria (global): <br>• All tests pass in staging; any failed test must have bug ticket with priority and repro steps; regression suite re-run after fix; sign-off oleh Payroll Manager & QA. <br><br>Test automation: gunakan headless browser untuk upload flow, API test untuk parsing endpoint, dan engine spreadsheet (eg. Python openpyxl/pandas tests) untuk memverifikasi formula outputs match expected numbers. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Edge Cases & Handling — Multiple Moves, Non-Resident, Foreign Currency, Corrections</strong><br>Guidelines per kasus: <br>1. Multiple moves (>2 employers): simpan array prev_employer_entries; jika satu 1721 missing, buat FollowUpTask dengan due_date dan owner; jika tidak diterbitkan, advise employee to claim via SPT dan record escalation memo. <br>2. Non-resident employees: validate tax residency; apply PPh 26 jika applicable; consult external tax counsel bila treaty berlaku; simpan resident_status field dan supporting docs (work permit, arrival/departure stamps). <br>3. Foreign currency income: tentukan conversion rule (mis. :contentReference[oaicite:6]{index=6} middle rate pada payment date atau month end); simpan conversion_rate dan source di audit_trail; saat reconciling tunjukkan FX difference dan rationale. <br>4. Late submission of 1721 by employee: sistem harus support retroactive crediting; jalankan re-reconciliation job dan produce amendment memo; jika refund sudah dilakukan, hitung reclaim procedure atau offset pada payroll berikutnya dengan persetujuan pegawai. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Sengketa Pajak: Prosedur Internal & Eskalasi ke Otoritas</strong><br>Stepwise dispute resolution (timeline & artefak): <br>1. Initial verification (Payroll) — 5 business days: kumpulkan dokumen, replicate calculation, produce discrepancy memo dengan line-by-line reconciliation dan supporting docs; record case in dispute_log. <br>2. Mediation (HR + Finance) — 10 business days: convene meeting with employee, present calculation, propose correction; produce signed memo indicating resolution or impasse. <br>3. If unresolved: escalate to KPP or external tax consultant — prepare formal packet within 30 calendar days; CEO/Finance Director to approve submission; cooperate with authority requests and retain record of submissions/responses. <br>Notes: maintain formal written correspondence; log all verbal agreements in signed memo. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Implementation Roadmap 90 Hari — Tasks, Milestones, Owners & Deliverables</strong><br>0–30 hari (Governance & Quick Wins): <br>• HR Lead — update onboarding & exit checklist; deliverable: checklist v1; due D+14. <br>• Payroll Lead — spreadsheet template v1 + validation rules; deliverable: template_reconciliation_v1.xlsx; due D+14. <br>• IT — HCM field spec for prev_employer_entry; deliverable: API spec doc; due D+30. <br>31–60 hari (System & Testing): <br>• IT/Dev — implement fields & upload API; deliverable: staging with upload parsing; due D+45. <br>• QA — develop unit & integration tests; deliverable: test suite; due D+60. <br>61–90 hari (UAT & Rollout): <br>• Payroll & QA — run UAT with sample movers; deliverable: UAT report & remediation; due D+75. <br>• HR/Payroll — roll out policy & training; deliverable: training materials + 90-minute workshop; due D+90. <br>Success metrics at 90 days: <br>• ≥95% of new joiners upload 1721 on day 1; <br>• ≥90% of uploads auto-parsed successfully (if parser implemented); <br>• UAT pass rate ≥95%. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Lampiran & Deliverable untuk Repo Kebijakan — File List, Usage & Storage</strong><br>Files to include: <br>• template_reconciliation.xlsx — usage: shared drive; payroll uses employer_input and consolidation. <br>• contoh_pdf_reconciliation.pdf — usage: attach to employee communication. <br>• checklist_audit_pajak.docx — usage: auditor checklist. <br>• surat_permintaan_1721_template.docx & email_template.html — usage: add to HRIS templates. <br>• test_plan_uat.xlsx — usage: QA to track test cases and include sample data for edge cases. <br><br>Permission & storage: simpan di central policy repo; read-only untuk auditors; editable untuk Payroll; retention policy applied via DMS. Recommended file path structure: /policies/tax/pph21/moving/{year}/. Use ACL: payroll_team (edit), hr_leads (edit), auditors (read), finance_controllers (read). </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Penutup Operasional — Actionable Checklist Mingguan (Who-Does-What)</strong><br>Immediate weekly actions: <br>1. HR: update onboarding checklist → mandatory 1721 upload field; implement blocking rule in HRIS for payroll if missing. <br>2. Payroll: prepare template_reconciliation.xlsx and run dry run with 5 sample mid-year movers; document discrepancies and quick-fix list. <br>3. Finance: prepare refund procedures and cashflow template for refund payments (approval workflow, bank transfer template, GL postings). <br>Deliverables due within 7 days: updated checklist, sample reconciliation outputs, refund SOP draft. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Referensi & Lampiran Hukum (untuk kebijakan resmi dan konsultasi)</strong><br>Dokumen rujukan untuk dilampirkan pada kebijakan: <br>▪ <a href="https://pajak.go.id/sites/default/files/UU%20PPh%20No%2036%20Th%202008.pdf" target="_blank">UU No. 36 Tahun 2008 tentang Pajak Penghasilan (salinan PDF)</a> — ringkasan pasal relevan: definisi subjek, objek, PKP, tarif. <br>▪ <a href="https://pajak.go.id/sites/default/files/2021-12/Salinan%20UU%20Nomor%207%20Tahun%202021.pdf" target="_blank">UU No. 7 Tahun 2021 tentang Harmonisasi Peraturan Perpajakan (salinan PDF)</a> — harmonisasi perpajakan, perubahan relevan. <br>▪ <a href="https://jdih.kemenkeu.go.id/api/download/fulltext/2016/101~PMK.010~2016Per.pdf" target="_blank">PMK No. 101/PMK.010/2016 (PTKP)</a> — penyesuaian besarnya PTKP. <br>▪ <a href="https://jdih.kemenkeu.go.id/api/download/fulltext/2018/9~PMK.03~2018Per.pdf" target="_blank">PMK No. 9/PMK.03/2018</a> — tata cara pemotongan/penyetoran/pelaporan PPh 21/26. <br><br><strong>Praktikal resources & learning:</strong> situs resmi <a href="https://pajak.go.id/id/penghasilan-tidak-kena-pajak" target="_blank">DJP – PTKP & panduan</a>; unduh template XML / converter untuk e-bupot di <a href="https://pajak.go.id/en/node/112031" target="_blank">DJP – Template XML & converter</a>; ringkasan praktis dari vendor (mis. <a href="https://www.pwc.com/id/en/pocket-tax-book/english/pocket-tax-book-2025.pdf" target="_blank">PwC Indonesia – Pocket Tax Book</a>) dan platform lokal (mis. <a href="https://www.online-pajak.com/seputar-pph21/pph-pajak-penghasilan-pasal-21" target="_blank">OnlinePajak – panduan PPh 21</a>) untuk template pelaporan dan contoh kasus. <br><br>Catatan akhir: gunakan dokumen resmi sebagai sumber utama untuk perhitungan hukum; gunakan template dan contoh dalam dokumen ini untuk operasional dan integrasi sistem; verifikasi angka akhir terhadap peraturan fiskal yang berlaku pada tahun fiskal yang relevan. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Lampiran Teknis (Opsional untuk Dev/IT) — Petunjuk Implementasi (tanpa potongan kode)</strong><br>Developer guidance (deskriptif): <br>• Query extraction: jalankan kueri count per pegawai terhadap tabel prev_employer_entries dan filter pegawai dengan count = 0 untuk menemukan employees with missing 1721 entries; jadwalkan report ini sebagai job harian. <br>• JSON/API mapping: simpan mapping field pada upload 1721 minimal berisi employee_id, prev_employer_name, period_start, period_end, credit_prev_gross, credit_prev_tax, file_path, checksum, upload_date, uploaded_by. Pastikan API mengembalikan entry identifier dan checksum untuk idempotensi. <br>• Logging & observability: logs harus merekam parse_time_ms, parser_version, parse_errors, upload_user, dan checksum; buat alerts untuk failing parsing rate > threshold. <br>• Idempotency: sebelum menyimpan file baru, cek checksum apakah file sudah ada; jika sudah ada, update metadata bukan menambahkan duplikat. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Appendix: Audit Manifest & Naming Conventions (field list, tanpa contoh JSON)</strong><br>Audit manifest — struktur yang harus ada pada manifest (field list): employee_id, year, files (list with file name, path, checksum, file_type), prepared_by, prepared_date, notes. <br><br>Naming conventions (pattern description): gunakan pola <code>{employee_id}_{document_type}_{employer_short}_{YYYYMMDD}.{ext}</code>; contoh pola terisi: E12345_1721A1_CompanyX_20250630.pdf. Sertakan manifest.txt atau manifest.csv yang mendeskripsikan setiap file dalam paket audit. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Quick Reference Cheat-Sheet untuk Payroll Operators (1-page)</strong><br>Pasteable cheat-sheet untuk meja payroll: <br>1. Minta 1721 pada hari 1; tandai record jika belum diterima. <br>2. Set TER default sesuai salary band; dokumentasikan override. <br>3. Jalankan December reconciliation job; verifikasi selisih sebelum payroll cycle terakhir. <br>4. Simpan semua bukti (1721, SSP, proof transfer, memo). <br>5. Jika missing 1721 >14 days, eskalasikan ke HR manager prev employer. <br><br>Checklist dua menit untuk review file karyawan yang pindah: <code>NPWP valid | months_total &lt;=12 | 1721 uploaded | parser_status ok | cumulative_withheld recorded | reconcilation_done</code> — semua harus 'YES' sebelum final pay. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Contoh Template Komunikasi untuk Employee — Hasil Rekonsiliasi (Copy Ready)</strong><br>Subject: Hasil Rekonsiliasi PPh 21 — [Nama Pegawai] — Tahun [YYYY]<br><br>Body (merge fields):<br>Yth. [Nama Pegawai],<br><br>Berdasarkan rekonsiliasi PPh 21 untuk tahun [YYYY], berikut ringkasan hasil: <br>- Total Penghasilan Kena Pajak: [PKP] <br>- PPh Terutang: [PPhAnnual] <br>- Total Potongan Sepanjang Tahun: [TotalWithheld] <br>- Kekurangan / (Lebih Bayar): [Balance] <br><br>Jika Anda setuju dengan rincian di atas, tanda tangani form persetujuan (link) untuk pelaksanaan adjustment payroll. Jika ada pertanyaan, hubungi payroll@company.internal. <br><br>Hormat kami,<br>Payroll Team. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Disclaimer & Next Steps</strong><br>Dokumen ini disusun sebagai panduan operasional dan bukan pengganti nasihat hukum atau pajak. Untuk kasus di luar kebiasaan (mis. employee deceased, employer bankrupt), konsultasikan ke penasihat pajak eksternal dan catat keputusan dalam meeting minutes. <br><br>Next steps immediate: implement checklist onboarding, buat spreadsheet template, lakukan dry run 5 sample mid-year movers, dan sediakan UAT environment untuk integrasi upload 1721. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Kontak Internal & Escalation Matrix (copy-ready)</strong><br><code>Role | Name | Email | Phone | Escalation Order</code> <br><code>Payroll Lead | [name] | payroll@company.internal | +62... | 1</code> <br><code>HRBP | [name] | hrbp@company.internal | +62... | 2</code> <br><code>Finance Controller | [name] | finance@company.internal | +62... | 3</code> <br><br>Taruh matrix ini di SOP sehingga escalation otomatis mengarah ke kontak di atas sesuai SLA. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Versi & Changelog Singkat</strong><br>v1.0 — 17 Sep 2025: initial publish (:contentReference[oaicite:14]{index=14}). <br>v1.1 — 18 Sep 2025: minor edits, added API field list and developer guidance. <br>Future: tandai setiap pembaruan dengan format v{major}.{minor}_{YYYYMMDD} dan simpan changelog di Sheet 'version_control' di template_reconciliation.xlsx. </td></tr><tr><td data-label="PPh 21 Karyawan Pindah Kerja – Pembahasan Lengkap"> <strong>Catatan Akhir</strong><br>Gunakan template ini sebagai kerangka kerja. Sesuaikan angka (PTKP, plafon biaya jabatan, progressive rates) berdasarkan peraturan fiskal yang berlaku di tahun relevan, konfirmasi dengan tim pajak internal/eksternal, dan dokumentasikan setiap asumsi yang dipakai sehingga hasil dapat ditelusuri dan diaudit. </td></tr></tbody></table></div><div class="row-count">Rows: 29</div></div><div class="table-caption" id="Table5" data-table="YJKN_0013_05" style="margin-top:2mm;margin-left:3mm;"><strong>Table 5</strong></div>
<div class="table-wrapper" data-table-id="table-5"><div class="table-heading-bar" aria-label="Table heading"></div><div class="table-container"><div class="table-header-wrapper" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:5px;"><div class="copy-buttons"><button type="button" class="copy-plain-btn" data-action="copy-plain" onclick="copyTablePlain(this)">Copy Plain Table</button><button type="button" class="copy-markdown-btn" data-action="copy-markdown" onclick="copyTableMarkdown(this)">Copy Markdown Table</button><button type="button" class="export-csv-btn" data-action="export-csv" onclick="exportTableCSV(this)">Export CSV</button><button type="button" class="export-json-btn" data-action="export-json" onclick="exportTableJSON(this)">Export JSON</button><button type="button" class="export-xlsx-btn" data-action="export-xlsx" onclick="exportTableXLSX(this)">Export XLSX</button><button type="button" class="export-pdf-btn" data-action="export-pdf" onclick="exportTablePDF(this)">Export PDF</button><button type="button" class="export-markdown-btn export-markdown-initial" data-action="export-markdown" onclick="exportTableMarkdown(this)" style="display:none" data-initial-hidden="1">Export Markdown</button></div><div style="display:flex; align-items:center;"><button type="button" class="toggle-table-btn" data-action="toggle-collapse" onclick="toggleTable(this)">Collapse Table</button></div></div><table class="tv-table" role="table"><thead><tr><th class="tv-col-left" role="button" aria-label="Sort by **Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap**"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"><strong>Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap</strong></div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th></tr></thead><tbody><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Praktik penyimpanan & audit (automated workflow)</strong><br>Semua perubahan dokumen harus memicu workflow audit terotomasi yang auditable end-to-end: <br>1. <strong>Create change_log entry</strong> — setiap commit/update memicu capture form: <code>who</code> / <code>when</code> / <code>what</code> / <code>why</code> + links ke artefak yang berubah. <code>change_log</code> disimpan append-only dan dapat memasukkan signed-hash pointer optional terhadap snapshot untuk memastikan immutability. <br>2. <strong>Snapshot storage</strong> — publikasi versi baru harus menyimpan PDF snapshot ke standard path: <code>/policies/tax/pph21/versions/{vX}_{YYYYMMDD}.pdf</code>. Setiap snapshot disertai file <code>.sha256</code> yang berisi checksum; jika DMS mendukung, attach digital signing metadata (signer, signature_time). <br>3. <strong>Policy manifest update</strong> — append new row ke <code>policy_manifest.csv</code> atau insert ke table manifest: <code>file_name</code>, <code>version</code>, <code>source_url</code>, <code>verified_by</code>, <code>verified_date</code>, <code>checksum</code>, <code>change_log_id</code>. Manifest bersifat append-only untuk audit trail. <br>4. <strong>Integrity check job</strong> — scheduled job (daily/weekly) memverifikasi snapshot checksums vs recorded checksums. On mismatch: raise incident ticket, quarantine file, notify IT & payroll_lead, and create <code>integrity_incident_{id}</code> entry in incident tracker. Incident record harus menyertakan RCA dan remediation sign-offs. <br>5. <strong>Access control</strong> — manifest-driven ACL: auditors (read-only), payroll_lead & hr_lead (edit), formula changes require Finance Controller sign-off. Implement RBAC di DMS and log all file downloads/edits with user and timestamp. <br>6. <strong>Audit package bundling</strong> — at year-end or on-demand, auto-create audit package per employee or sample: <code>employee_{id}_audit_{year}.zip</code> containing manifest, snapshots, calculation workbook, signed memos. Index packages in repository with search metadata (employee_id, year, package_checksum) for retrieval. <br><br><strong>Retention & legal hold:</strong> manifest harus menyertakan <code>retention_category</code> dan <code>legal_hold</code> flag. Tax docs retain ≥ 5 years; recommended 10 years for regulated sectors. When <code>legal_hold=true</code> suspend deletion/archival and record <code>legal_hold_reason</code>, <code>placed_by</code>, <code>placed_date</code>. Legal hold entries cannot be cleared without legal owner sign-off and must be recorded in manifest. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Ringkasan singkat (one-paragraph)</strong><br>Dokumen operasional ini memastikan pemotongan PPh Pasal 21, konsolidasi penghasilan multi-employer, dan rekonsiliasi akhir tahun/exit dilakukan dengan akurasi, traceability, dan audit trail lengkap; mencakup ruang lingkup pekerja, deliverables (template_reconciliation.xlsx, runbook Desember reconciliation, checklist audit, paket UAT), asumsi utama (PTKP, plafon biaya jabatan, TER default per band, kurs konversi), governance, SLA, dan lampiran artefak siap pakai serta KPI operasi untuk monitoring (parser success rate, onboarding upload rate, UAT pass rate, average time-to-issue-1721). </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Daftar isi — overview (navigable)</strong><br>Daftar isi terstruktur untuk navigasi cepat; buat TOC interaktif yang merefer ke artifact path di repo: <br>1. Definitions & terminology (owner + contact) <br>2. Policy parameters (PTKP, plafon, TER defaults, currency rules) <br>3. End-to-end flows (pre-exit, exit, onboarding, monthly withholding, Desember job) <br>4. HCM field mapping & API spec (field list, validation rules) <br>5. Spreadsheet templates & formulas (paste-ready guidance) <br>6. Unit tests, UAT scenarios, acceptance criteria <br>7. Governance, RACI, SLA, escalation <br>8. Retention, backup & restore SOP <br>9. Legal attachments (UU/PMK/PerDirjen references) <br>10. Artefak siap pakai (templates, email, memos).<br><br>Implement TOC interaktif: generate a PDF TOC with internal hyperlinks to artifact URIs and store <code>toc_index.pdf</code> in root policy folder so auditors can jump directly to each artifact. Maintain mapping table <code>artifact_index.csv</code> with fields: <code>artifact_id</code>, <code>title</code>, <code>path</code>, <code>owner</code>, <code>version</code>, <code>checksum</code>. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Metode penggajian — when to use which model</strong><br>Operational rules for selecting pay method (decision logic + examples): <br>- <strong>Time-based (monthly/daily/hourly)</strong> — default untuk karyawan tetap, kontraktor jangka panjang dengan jam kerja prediktabel, dan pegawai dengan jadwal tetap; gunakan untuk kemudahan budgeting, accrual accounting, dan penerapan statutory deductions. Recommended config: standard monthly payroll cycle, cut-off rules, and precise prorata formulas. <br>- <strong>Piece-rate / commission</strong> — untuk sales dan peran produksi yang output-nya measurable; require monthly reconciliation of commissions earned vs draws, clawback rules (over-advance recoveries), dan explicit GL mapping per commission type. <br>- <strong>Hybrid (fixed + overtime)</strong> — untuk roles with predictable salary + eligible overtime; base fixed monthly + overtime calculation per approved timesheet. <br><br><strong>Operational parameters to document:</strong><br>• Pay-period definition and <code>pay_period_id</code> mapping. <br>• Prorata rules: store formulas in <code>config</code> sheet: <code>daily_prorata = monthly_rate / working_days_in_month × actual_work_days</code>; <code>hourly_rate = monthly_rate / (avg_working_days × standard_hours_per_day)</code>. <br>• Rounding policy: define rounding unit (e.g., ROUND to nearest 100 IDR for net pay; ROUNDUP for allowances if mandated). Document spreadsheet functions used and apply consistently. <br>• Cut-off rules: define payroll cut-off alignment; treatment for payroll runs spanning >1 period (explicit pro-rata and journal posting windows). </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Operational decision matrix (role → payment method)</strong><br>Compact matrix mapping role types to payment models and approvals: <br>- Sales → piece-rate + monthly draw; require monthly sales statement, reconciliation, commission GL mapping, finance approval for draws. <br>- Field workers → daily rate + per-diem; require daily timesheet + supervisor approval; per-diem caps applied and taxed per policy. <br>- Contractors → hourly with timesheet; store contractor agreement, withholding treatment depends on contractor tax status; require contractor onboarding checklist (tax form/NPWP equivalent where applicable).<br><br><strong>Textual flowchart (process steps):</strong> contract signed → HRIS entry → <code>payroll_eligibility</code> flag set → map to pay-method in config → schedule payroll run → create snapshot → store metadata → notify payroll ops. Stakeholders: HR, Payroll, Legal; update decision matrix within 5 business days of policy change. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Komponen gaji — ringkasan operasional</strong><br>Komponen utama dan perlakuan operasional (field set untuk setiap komponen): <code>component_code</code>, <code>description</code>, <code>taxable_flag</code>, <code>valuation_method</code>, <code>supporting_docs_required</code>, <code>approval_chain</code>, <code>gl_mapping</code>. <br>• <strong>Gaji pokok</strong> — taxable = Y; accrual rules: monthly accrual to payroll_expense_gross; supporting doc: contract. <br>• <strong>Tunjangan tetap</strong> (transport/jabatan/housing) — taxable unless exempted by regulation; map each to GL code and document eligibility. <br>• <strong>Tunjangan variabel</strong> (performance/commission) — taxable; payout date-driven; withholding policy described in <code>variable_pay_policy</code>. <br>• <strong>Bonus / THR</strong> — income at payment date; optional conservative flat withholding policy available (documented and consented if deviating from standard). <br>• <strong>Pesangon</strong> — apply PMK exemptions if present; separate exempt vs taxable portion and retain legal citation. <br>• <strong>Reimbursements</strong> — receipt-based, <code>taxable_flag = N</code> if proof present; require receipts and approver signature. <br>• <strong>Benefits in-kind</strong> — valuation method (market value or formula), supporting assignment letter required, GL mapping to payroll_expense_benefits. <br><br>Untuk setiap komponen sertakan: required supporting documents, approver chain, sample journal entries (accrual and actual posting), evidence retention path, dan template GL entry. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Template GL mapping (format & sample entries)</strong><br>CSV column names recommended: <code>component_code</code>, <code>description</code>, <code>taxable_flag</code>, <code>gl_debit</code>, <code>gl_credit</code>, <code>posting_timing</code>, <code>reversal_timing</code>, <code>comment</code>. <br>Example semantics: <br>- <code>GPK</code> (gaji pokok) → debit <code>payroll_expense_gross</code>, credit <code>payroll_payable</code>. <br>- <code>IN_KIND_CAR</code> → debit <code>payroll_expense_benefits</code>, credit <code>payroll_payable</code> (valuation memo attached). <br><br><strong>Integration guidance:</strong> produce a migration CSV for ERP ingestion and require Finance validation of mapping before go-live. Keep <code>gl_mapping_sample.csv</code> in policy repo; include mapping version and approval stamp. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Status kepegawaian & dampak perhitungan</strong><br>Define statuses and related payroll implications: <code>permanent</code>, <code>contract</code> (PKWT), <code>part-time</code>, <code>internship</code>, <code>outsourced/consultant</code>. For each status define: PTKP prorata policy, THR eligibility, pesangon entitlement, deductibles eligibility (pension). <br><br><strong>HRIS required fields:</strong> minimal: <code>status</code>, <code>status_effective_date</code>, <code>contract_end_date</code>, <code>payroll_eligibility_flags</code>, <code>ptkp_status</code>. Add automated validations: <code>SUM(months_worked_per_fiscal_year) ≤ 12</code> and trigger exceptions when violated. If status changes, trigger reconciliation re-run workflow with approvals and audit notes. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Change-case example (process)</strong><br>Example: employee moves from contract to permanent on 2025-07-01. Steps: <br>1. HR captures <code>status_effective_date = 2025-07-01</code> and uploads contract addendum to DMS. <br>2. HR updates <code>payroll_eligibility_flags</code> (benefits, PTKP eligibility). <br>3. Payroll recalculates PTKP prorata: separate months_before and months_after and mark record for December re-run. <br>4. Create audit note: reason, approver names (HRBP + Payroll Lead) stored in <code>version_control</code> sheet. <br>5. Require sign-off (HRBP + Payroll Lead + Finance) before change deployed to production payroll runs. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>PPh 21 — prinsip operasional & data to retain</strong><br>Key principles: annual PKP basis; monthly withholding as estimate using TER; all assumptions (PTKP, cost_of_work, bonus estimates, exchange rates) recorded per-employee; crediting via 1721-A1/A2. <br><br><strong>Per-employee artifacts to record:</strong><br>- TER selection & overrides with reason and impact estimate.<br>- NPWP presence status (boolean) and policy for higher withholding if NPWP missing.<br>- <code>file_1721_id</code> references to prior employers (with checksum and verification metadata).<br>- monthly withholding per source stored in <code>monthly_withholding</code> sheet with fields: <code>employee_id</code>, <code>month</code>, <code>employer</code>, <code>withholding_amount</code>, <code>cumulative_withheld</code>. <br><br><strong>Communication templates:</strong> prepare templates for informing employee about shortage/overpayment with detailed breakdown; log employee acknowledgement in HRIS. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>TER governance (config & overrides)</strong><br>Store TER in <code>config</code> sheet: <code>TER_band</code>, <code>default_TER</code>, <code>effective_date</code>, <code>version</code>. All overrides captured in <code>override_request</code> table with fields: <code>override_id</code>, <code>employee_id</code>, <code>old_TER</code>, <code>new_TER</code>, <code>requested_by</code>, <code>approved_by</code>, <code>reason</code>, <code>impact_estimate</code>, <code>approval_date</code>. Maintain <code>ter_audit</code> sheet for history. Conduct quarterly TER review by Payroll + Finance and log sign-off. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Biaya jabatan — operational rules & unit tests</strong><br>Calculation rule: <code>cost_of_work = MIN(0.05 * total_gross, prorata_plafon)</code>. <br><br><strong>Config parameters:</strong> <code>plafon_tahunan</code> (configurable), <code>prorata_formula</code> for partial-year: <code>(plafon_tahunan / 12) × months_in_period</code>. <br><br><strong>Multiple employers allocation policy:</strong> hitung <code>cost_of_work_total</code> untuk tahun penuh lalu alokasikan proporsional: <code>cost_of_work_employer = cost_of_work_total × (employer_total_gross / sum_total_gross)</code>. Document rounding rules and tie allocation records ke <code>file_1721_id</code> untuk audit traceability. <br><br><strong>Unit tests (required):</strong> sertakan kasus untuk 1 month, 3 months, 6 months, 12 months, dan edge cases (sum_total_gross = 0, negative inputs). Simpan expected results di <code>test_results</code> sheet; semua unit tests harus lulus sebelum formula dipush ke master. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Example allocation (descriptive guidance)</strong><br>Langkah terstruktur: <br>- Hitung <code>cost_of_work_total = MIN(0.05 × sum_total_gross, plafon_tahunan)</code>. <br>- Untuk tiap employer: <code>cost_of_work_employer = cost_of_work_total × (employer_total_gross / sum_total_gross)</code>. <br><br><strong>Spreadsheet guidance:</strong> gunakan named ranges untuk <code>plafon_tahunan</code> & <code>sum_total_gross</code>; helper column <code>employer_share = employer_total_gross / sum_total_gross</code>. Tangani <code>sum_total_gross = 0</code> dengan mengembalikan 0 dan flag exception. Link setiap alokasi row ke <code>file_1721_id</code>. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Contoh formula — gross & potongan (paste-ready guidance)</strong><br>Employer_input formulas (Excel syntax guidance):<br>- total_gross = monthly_gross <em> months_in_period<br>- total_pension = pension_monthly </em> months_in_period<br>- prorata_plafon = (plafon_tahunan/12) <em> months_in_period<br>- cost_of_work = MIN(0.05 </em> total_gross, prorata_plafon)<br><br><strong>Rounding & determinism:</strong> gunakan ROUND(value,0) untuk IDR dan pastikan semua formulas mereferensi snapshot tables <code>snapshot_{YYYYMMDD}</code> (read-only) untuk hasil deterministik. Document every named range and keep index of named ranges in <code>named_ranges_documentation</code> sheet. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Implementation notes (snapshots & run metadata)</strong><br>Setiap payroll run menghasilkan immutable snapshot file: <code>employee_{id}_snapshot_{YYYYMMDD}.csv</code> yang berisi raw inputs dan computed fields: <code>total_gross</code>, <code>cost_of_work</code>, <code>pension</code>, <code>pkp</code>, <code>pph_owed</code>, <code>total_withheld</code>, <code>balance</code>. Maintain <code>snapshot_index.csv</code> with path, checksum, run metadata (<code>operator</code>, <code>run_id</code>, <code>run_env</code>). Reconciliation calculations harus selalu merujuk ke snapshots (read-only). Simpan snapshots di versioned object storage dengan lifecycle policy (warm storage untuk 5 tahun dan cold archive setelah itu kecuali <code>legal_hold</code>). </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Contoh formula — net & PKP (with validations)</strong><br>Calculation flow with validation assertions described: <br>- net_period = total_gross - total_pension - cost_of_work<br>- annual_net = SUM(net_period across employers)<br>- PKP = MAX(0, annual_net - PTKP_annual)<br>- Assertion: if PKP < 0 flag <code>ERROR: PKP negative</code> and add exception ticket. <br><br><strong>Validation sheet:</strong> include tests: <code>months_sum_test</code>, <code>negative_value_test</code>, <code>pkp_non_negative</code>, <code>rounding_check</code>. Each test shows expected vs actual and owner for remediation. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Audit assertions (automated tests)</strong><br>Validation sheet lists automated tests executed post-reconciliation: <code>test_id</code>, <code>description</code>, <code>expected_result</code>, <code>actual_result</code>, <code>pass/fail</code>, <code>run_date</code>, <code>run_by</code>, <code>remediation_notes</code>. Failing tests auto-create an exception ticket assigned to payroll lead. Maintain historical run logs and require QA + Payroll Manager sign-off on remediation before clearing exceptions. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Tarif progresif — implementation & test vectors</strong><br>Bracket computation algorithm (plain steps): iterate through rate brackets from lowest to highest, compute taxable amount per bracket until PKP exhausted, sum bracket taxes to total tax. Provide <code>rate_table</code> helper sheet with <code>upper_limit</code>, <code>rate</code>, and <code>cumulative_tax_at_upper_limit</code>. Include test vectors such as PKP=0, PKP at bracket boundary, multi-bracket PKP and save expected manual results in <code>test_vectors</code> sheet for regression testing. Guidance for updating rates: change <code>rate_table</code>, run regression, record results in <code>test_results</code>, sign-off in <code>version_control</code>. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Spreadsheet pattern for brackets (helper guidance)</strong><br>Recommend using helper <code>rate_table</code> and lookup techniques rather than nested IFs. Maintain <code>cumulative_thresholds</code> to compute per-bracket taxation. Document update process for rate changes and require cross-check run by Finance. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Kredit pajak & rekonsiliasi — workflow</strong><br>Operational steps: <br>1. Request & collect 1721-A1/A2 from prior employers (scan/upload to DMS).<br>2. Verify file metadata & checksum; record <code>file_1721_id</code> in audit_trail.<br>3. Parse or manually input <code>credit_prev_gross</code> & <code>credit_prev_tax</code> into <code>employer_input</code> rows. <br>4. Aggregate <code>total_withheld</code> across employers per employee into <code>consolidation</code> sheet. <br>5. Compare with computed annual PPh; compute <code>balance = pph_annual - total_withheld</code>. <br>6. Generate <code>refund_instruction</code> or <code>additional_withhold</code> documents with SSP/transfer proofs and finance approval; record proof in manifest and attach to audit package. <br><br>SOP must include finance approval flow for refunds, employee communication templates, and manifest entries linking proof to calculation rows. Include sample sign-off matrix for who may approve refunds and thresholds requiring higher-level approval. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Operational outputs (standard forms)</strong><br>Per reconciliation produce standardized outputs with naming & structure: <br>1. <code>reconciliation_breakdown_{employee}_{year}.pdf</code> — calculation summary, monthly breakdown, prior employer credits, final balance, sign-off block. <br>2. <code>refund_instruction_{employee}_{date}.docx</code> — payment instruction + finance approvals + masked bank details metadata. <br>3. <code>adjustment_memo_{payroll_cycle}.pdf</code> — record of payroll adjustments with GL posting references. <br><br>Each document must embed signature metadata and reference manifest entries; store in employee folder with read-only auditor access and index in <code>manifest.csv</code>. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Skenario multi-employer — field mapping & SOP</strong><br>HCM prev-employer entry minimal fields required: <code>prev_employer_name</code>, <code>prev_employer_npwp</code>, <code>prev_period_start</code>, <code>prev_period_end</code>, <code>credit_prev_gross</code>, <code>credit_prev_tax</code>, <code>file_1721_id</code>, <code>upload_date</code>, <code>verified_by</code>, <code>verification_status</code>, <code>checksum</code>. <br><br>Workflow: request 1721 on day-1 → attempt auto-parse → if parsing fails create <code>manual_review</code> task and track SLA → map parsed fields into <code>employer_input</code> → batch reconciliation at December or exit → generate per-employee pdf breakdown → escalate follow-up if prev employer fails to issue 1721 within SLA. Log all actions in <code>followup_log.csv</code> with timestamps and attachments references. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Escalation template & cadence (follow-up workflow)</strong><br>Follow-up steps (append-only log):<br>- Day 3: automated reminder to prev employer & employee (email + HRIS task).<br>- Day 7: escalate to prev employer HR manager; cc payroll lead and HRBP. <br>- Day 14: send formal letter & open case log; attach escalation letter to manifest. <br>- Day 30: advise employee to claim via SPT and record escalation memo. <br><br>Every action logged to <code>followup_log.csv</code> with timestamps, owner, status, next_action and attachment refs. Manager review required at Day 7 and documented. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Bonus & THR — payment-date driven rules</strong><br>Rules: bonus/THR taxed at payment date. If paid before exit, include in cumulative employer lama; if after exit, reported oleh employer yang membayar pada tanggal pembayaran. Document optional flat withholding for bonuses (e.g., 10%) and procedure for documenting employee consent when deviating from standard withholding methods. Provide marginal impact tables to show effect on PKP and sample communication templates for employees. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Pesangon — calculation & documentation</strong><br>Pesangon dapat memiliki perlakuan khusus per PMK/regulation. SOP harus berisi legal citations, stepwise calculation memisahkan exempt vs taxable portions, numeric examples, dan <code>pesangon_calc</code> workbook terpisah. Require dual verification: Payroll Manager + Legal Counsel; store settlement docs and signed releases in audit package with <code>legal_hold</code> support if disputed. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Escalation & dispute handling (pesangon)</strong><br>When disputed: open <code>pesangon_dispute_case_{id}</code>, capture documents, calculation memos, correspondence; schedule mediation within 10 business days; set <code>legal_hold</code> flag on employee record until resolution; assign Legal as owner; store final resolution & signed settlement in audit package and mark <code>case_closed_date</code>. Track case metrics (time-to-resolve, outcome) for governance reporting. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Praktik Excel — recommended workbook architecture</strong><br>Minimum sheets: <code>employer_input</code>, <code>consolidation</code>, <code>audit_trail</code>, <code>config</code> (PTKP, plafon, rate_table), <code>version_control</code>, <code>hidden_lookup_sheets</code>. Use named ranges for fiscal params, protect formula cells, maintain master read-only and require copy-then-update workflow for collaborative edits. Maintain a <code>README</code> with restore instructions and a timestamped backup folder. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Version control (spreadsheet) & deployment</strong><br><code>version_control</code> sheet fields: <code>version_id</code>, <code>date</code>, <code>author</code>, <code>summary_changes</code>, <code>affected_cells</code>, <code>test_results_link</code>, <code>approved_by</code>. Formula changes must include unit test rows and pass status. Deployment flow: QA run → sign-off by Payroll Manager → Finance Controller approval → store read-only copy in policy repo with manifest entry. Record rollbacks and reasons in <code>version_control</code>. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Employer_input — columns & validation</strong><br>Mandatory columns: <code>employee_id</code>, <code>employee_name</code>, <code>npwp</code>, <code>ptkp_status</code>, <code>employer_name</code>, <code>period_start</code>, <code>period_end</code>, <code>monthly_gross</code>, <code>months_in_period</code>, <code>total_gross</code>, <code>pension_monthly</code>, <code>total_pension</code>, <code>prorata_plafon</code>, <code>cost_of_work</code>, <code>other_income</code>, <code>tax_withheld_total</code>, <code>file_1721_id</code>, <code>notes</code>.<br><br><strong>Validation rules:</strong> date ranges, numeric types, NPWP regex, unique <code>file_1721_id</code>, business rules (<code>months_in_period &gt;0 ≤12</code>). Persist file metadata for full reconstruction and keep validation rule set in <code>config_validation</code> to allow automated checks. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Data onboarding (templates)</strong><br>Provide <code>employer_input_template.xlsx</code> with validation lists for <code>ptkp_status</code>, employer lookup dropdowns, and inline help. Include <code>lookup_employers</code> sheet and validation scripts/macros to validate uploaded CSVs. Publish onboarding checklist for HR verifying fields before first payroll run (NPWP check, months_in_period sum, file_1721 presence). Maintain an onboarding playbook with screenshots and common error resolutions. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Consolidation — columns & flags</strong><br>Consolidation fields: <code>employee_id</code>, <code>total_gross_all</code>, <code>total_pension_all</code>, <code>total_cost_of_work_all</code>, <code>ptkp_annual</code>, <code>pkp</code>, <code>pph_owed</code>, <code>total_tax_withheld_all</code>, <code>balance</code>, <code>action_required</code>. Flags: <code>missing_1721</code>, <code>months_sum_error</code>, <code>npwp_missing</code>. Ensure pivot-ready layout for auditors and link back to <code>employer_input</code> rows for traceability. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Exception handling (consolidation)</strong><br>Exceptions sheet: <code>exception_id</code>, <code>employee_id</code>, <code>type</code>, <code>severity</code>, <code>assigned_to</code>, <code>created_date</code>, <code>resolution_target_date</code>, <code>resolution_date</code>, <code>comments</code>. SLAs: critical = 3 business days, high = 7bd, medium = 14bd. Automate ticket creation from validation failures and require resolution notes + approver signature before clearing. Keep exception SLA dashboards with aging buckets and weekly ops review. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Audit_trail — append-only requirements</strong><br><code>audit_trail</code> must be immutable: fields include <code>file_1721_id</code>, <code>uploader</code>, <code>upload_date</code>, <code>checksum</code>, <code>verification_status</code>, <code>verifier</code>, <code>verification_date</code>, <code>notes</code>, <code>parse_version</code>, <code>parse_errors</code>, <code>related_entry_id</code>. Store in versioned object storage with retention and read-only auditor access. Provide manifest export (CSV) with URIs & checksums for each audit package. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Integrity checks (audit_trail)</strong><br>Daily integrity job verifies checksums, flags missing/corrupted files, and produces <code>integrity_report_{date}.csv</code> with counts and remediation steps. Maintain incident log with RCA and management sign-off for remediation. Track integrity metrics over time and report to Governance monthly. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Rumus Excel (copy-ready guidance)</strong><br>Primary formulas reminder: <code>total_gross = monthly_gross * months_in_period</code>; <code>total_pension = pension_monthly * months_in_period</code>; <code>prorata_plafon = (plafon_tahunan/12) * months_in_period</code>; <code>cost_of_work = MIN(0.05*total_gross, prorata_plafon)</code>. Use named ranges <code>PTKP_annual</code>, <code>plafon_tahunan</code>. Include test cases for 1/3/6/12 months in <code>test_results</code> sheet. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Validasi data & exceptions dashboard</strong><br>Validation rules: <code>SUM(months_in_period across employers) ≤ 12</code>; NPWP regex check; flag <code>other_income</code> exceeding threshold; date sanity checks; unique <code>file_1721_id</code>. Build exceptions dashboard that emails weekly summaries to payroll lead and auto-creates critical tickets. Define SLA, remediation notes, and approver signature requirements for closure. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Governance & SLA (operational)</strong><br>Define roles & responsibilities with RACI mapping: <br>- Payroll Officer: data entry & payroll runs <br>- HRBP: onboarding & 1721 follow-up <br>- Finance Controller: refund approval <br>- IT: parser & storage <br><br>Example SLAs: issuance 1721 by prev employer ≤7 business days; verification & upload by new employer ≤3 business days; refund processed by finance ≤14 business days after reconciliation. Include escalation matrix and KPI cadence (weekly ops, monthly governance). </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Checklist audit (printable)</strong><br>Auditor checklist items: 1721 present (Y/N) + checksum; payslips monthly (Y/N) + links; SSP/payment proof (Y/N); calculation memo signed; proof of refund (if any). Include signature block and sample filled checklist. Provide DOCX & PDF templates plus CSV manifest for machine intake. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>UAT & test cases (template & examples)</strong><br>Test case template fields: <code>Test_ID</code>, <code>Title</code>, <code>Precondition</code>, <code>Steps</code>, <code>Expected Result</code>, <code>Actual Result</code>, <code>Status</code>, <code>Owner</code>. Representative TC examples: <br>- TC001: mid-year resignation & join (no bonus). <br>- TC002: resignation + pesangon + later bonus. <br>- TC003: multiple prev employers. <br>- TC004: missing NPWP. <br><br>Acceptance: automated outputs must match manual spreadsheet calc within tolerance. Failing tests create bug tickets with repro and priority. Store test artifacts in <code>test_plan_uat.xlsx</code>. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Testing — automation recommendations</strong><br>Recommended stack and approach: <br>- Unit tests for spreadsheet formulas using an automated spreadsheet test harness. <br>- Integration tests for upload→parse→consolidate pipeline. <br>- E2E tests in staging with representative employee samples. <br><br>Run nightly smoke tests for core formulas during release windows and require QA sign-off before production. Persist test artifacts and run reports in <code>test_results</code> with timestamps and owners. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Operational tips & exception handling</strong><br>Run December reconciliation as scheduled job with pre-checks (missing 1721, months sum, NPWP validity). Implement event-driven recons at exit. Maintain exception dashboard and standard employee communication templates. Define manual override SOP (fields allowed, approvals, retention of signed evidence). Maintain living FAQ and knowledge base for payroll team with common errors and troubleshooting steps. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>File handling, idempotency & storage lifecycle</strong><br>Idempotent upload: compute SHA256 on upload; if checksum exists, update metadata rather than duplicate file. Persist uploader, upload_date, checksum, parse_version. Maintain append-only audit log and run periodic deduplication & integrity verification. Integrate retention & legal hold with enterprise DMS; define archival vs deletion lifecycle and automate archival after retention period unless <code>legal_hold</code> flagged. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Call to action (prioritized short list)</strong><br>Immediate tasks (owners & due expectations): <br>- HR: add mandatory prev_employer upload field & blocking rule (owner: HR Lead). <br>- IT: implement prev_employer data model & upload endpoint with parser + manual review queue (owner: IT Lead). <br>- Payroll: prepare <code>template_reconciliation.xlsx</code> and dry-run with sample movers (owner: Payroll Lead). <br>- Finance: design refund workflow & GL mapping (owner: Finance Controller). <br>Assign owners, set due dates in project board, run weekly stand-ups, and track on 90-day roadmap. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Implementation roadmap (90 days)</strong><br>Phases: <br>0–30d: finalize governance, update checklists, deliver spreadsheet template v1, perform 5-sample dry run. <br>31–60d: IT implements fields & parser in staging, QA writes unit & integration tests. <br>61–90d: UAT with representative movers, remediate issues, train payroll/HR, roll out to production. <br>Success metrics: ≥95% upload day-1; parser success ≥90%; UAT pass ≥95%. Include go/no-go criteria, rollback plan, and stakeholder sign-offs. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Filename & manifest conventions</strong><br>Standardize naming: <code>{employee_id}_{document_type}_{employer_short}_{YYYYMMDD}.{ext}</code>. Maintain <code>manifest.csv</code> recording <code>file_name</code>, <code>checksum</code>, <code>uploader</code>, <code>upload_date</code>, <code>storage_path</code>. Organize repo by fiscal year and restrict edits; include <code>version_control</code> sheet for changelog entries and require approval sign-off for formula changes. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Quick cheat-sheet (operator one-page)</strong><br>Daily/weekly operational checks: <br>- Request 1721 on day-1; verify NPWP; set TER default per band; run December reconciliation & verify differences; save 1721 & proof transfer; escalate if 1721 missing >14 days. <br>- Daily checks: NPWP valid, months_total ≤12, 1721 uploaded, parser_status OK, cumulative_withheld recorded, reconciliation_done. Provide printable cheat-sheet and store QR link to runbook in HRIS. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Template komunikasi hasil rekonsiliasi (copy-ready guidance)</strong><br>Subject: Hasil Rekonsiliasi PPh 21 — [Nama Pegawai] — Tahun [YYYY]<br><br>Body: ringkasan PKP, PPh terutang, total potongan, kekurangan/(lebih bayar), langkah selanjutnya (tanda tangan persetujuan untuk adjustment payroll or claim via SPT), contact point payroll. Attach per-employee PDF breakdown and log sent email + employee acknowledgement in employee record. Provide merge-field templates in HRIS for automation. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Retention, backup & restore procedures</strong><br>Retention: tax documents retained minimal 5 years; recommended 10 for regulated sectors. Backups: weekly incremental + monthly full offsite with encryption at rest. Run restore tests every 6 months and document restore SOP and authorized approvers. Maintain backup logs and restore test evidence for auditors. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Kontak internal & eskalasi matrix</strong><br>Maintain role-based contact list (Payroll Lead, HRBP, Finance Controller) with name, email, phone, escalation order. Automate escalation in HRIS for SLA breaches with notifications and case creation. Update contacts quarterly and maintain on-call rota for critical cycles. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Disclaimer & legal note</strong><br>Dokumen ini adalah panduan operasional, bukan nasihat hukum/pajak. Untuk kasus khusus (bankruptcy, non-residency, tax treaty matters) konsultasikan penasihat pajak eksternal and document decisions. Verify final numbers against applicable fiscal regulations and record assumptions in <code>version_control</code>. Obtain official approvals for policy changes. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Lampiran yang disarankan (file list & usage notes)</strong><br>Include in policy repo with usage notes and owner: <br>- <code>template_reconciliation.xlsx</code> (sample data) — owner: Payroll; usage: per-employee consolidation. <br>- <code>contoh_pdf_reconciliation.pdf</code> — owner: Payroll; usage: employee-facing breakdown. <br>- <code>checklist_audit_pajak.docx</code> — owner: Audit/Payroll. <br>- <code>surat_permintaan_1721_template.docx</code> & <code>email_template.html</code> — owner: HR; usage: exit workflow. <br>- <code>test_plan_uat.xlsx</code> — owner: QA; usage: test cases & results. <br><br>Each file must have manifest entry (usage notes, owner, retention policy) and be stored with appropriate ACLs for audit retrieval. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Operational KPI summary (one-page)</strong><br>Suggested KPIs to track weekly/monthly/quarterly: <br>- Parser success rate (target ≥90%) <br>- Upload-onboarding rate (1721 uploaded day-1) (target ≥95%) <br>- UAT pass rate (target ≥95%) <br>- Average time-to-issue-1721 by prev employer (target ≤7 business days) <br>- Exceptions backlog (target ≤ 1% of population) <br><br>Assign KPI owners and reporting cadence (weekly ops summary, monthly governance review). </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Final notes (actions & governance)</strong><br>Policy maintenance: schedule periodic review cycle, maintain <code>version_control</code> records, and keep legal citations for assumptions that affect calculations (PTKP, plafon biaya jabatan, progressive rates). Ensure operators have access to runbooks; every policy change must include signed <code>change_log</code> entry for audit traceability. </td></tr><tr><td data-label="Contoh Cara Menghitung Gaji Karyawan Bulanan Lengkap"> <strong>Expanded examples & worked cases (additional detailed examples and sensitivity analyses)</strong><br>Below are extended worked examples intended for paste-into-spreadsheet copy, with step-by-step calculations, sensitivity checks, and alternate scenarios. Use these numbers for unit tests and to seed UAT datasets.<br><br><strong>Example 1 — Simple mid-year move (full numeric walkthrough)</strong><br>Assumptions: PTKP annual = 54,000,000; plafon biaya jabatan tahunan = 6,000,000. Employee moves from Company A (Jan–Jun) to Company B (Jul–Dec), no bonuses.<br>- Company A: monthly_gross = 12,000,000; months = 6; pension_monthly = 120,000.<br>- Company B: monthly_gross = 15,000,000; months = 6; pension_monthly = 150,000.<br>Step calculations (spreadsheet-ready):<br>1. total_gross_A = 12,000,000 × 6 = 72,000,000.<br>2. total_gross_B = 15,000,000 × 6 = 90,000,000.<br>3. sum_total_gross = 162,000,000.<br>4. total_pension = (120,000 × 6) + (150,000 × 6) = 1,620,000.<br>5. cost_of_work_total = MIN(0.05 × 162,000,000, 6,000,000) = MIN(8,100,000, 6,000,000) = 6,000,000.<br>6. allocation: share_A = 72,000,000 / 162,000,000 ≈ 0.444444; cost_of_work_A = 6,000,000 × 0.444444 ≈ 2,666,667 (round to nearest 1 IDR as per rounding policy). cost_of_work_B ≈ 3,333,333.<br>7. annual_net = 162,000,000 − 1,620,000 − 6,000,000 = 154,380,000.<br>8. PKP = MAX(0, 154,380,000 − 54,000,000) = 100,380,000.<br>9. Apply progressive rates (example brackets used for testing — adapt to fiscal year): <br>• First 60,000,000 @5% = 3,000,000. <br>• Remaining 40,380,000 @15% = 6,057,000. <br>• PPh annual = 9,057,000.<br>10. Suppose monthly withholdings (TER-based) were: Company A used TER 4% on gross → monthly withheld A = 12,000,000 × 4% = 480,000 → 6 months = 2,880,000. Company B used TER 6% → monthly withheld B = 15,000,000 × 6% = 900,000 → 6 months = 5,400,000. Total withheld = 8,280,000. Balance = 9,057,000 − 8,280,000 = 777,000 (shortage).<br>Operational notes: prepare reconciliation_breakdown_{employee}_2025.pdf with the numeric steps above, provide employee communication template, and queue adjustment for December payroll or exit cycle. Document rounding decisions and link each allocation row to file_1721_id and monthly payslips. <br><br><strong>Example 2 — Bonus causes bracket jump (detailed)</strong><br>Same employee as Example 1 but Company B pays bonus of 20,000,000 in November and Company A had paid a small retention bonus of 2,000,000 in May.<br>Adjustments:<br>- Add 22,000,000 total bonuses to sum_total_gross → new sum_total_gross = 184,000,000.<br>- Recompute cost_of_work_total = MIN(0.05 × 184,000,000, 6,000,000) = MIN(9,200,000, 6,000,000) = 6,000,000 (unchanged due to plafon).<br>- total_pension minimal change remain; annual_net increases by 22,000,000 → new annual_net = 176,380,000 → new PKP = 122,380,000.<br>- Bracket tax: first 60M @5% = 3M; remaining 62,380,000 @15% = 9,357,000 → PPh annual = 12,357,000.<br>- Withholdings: assume bonus withholding was taxed at 10% at source on each bonus payment -> additional 2,200,000 withheld. Total withheld (from TER monthly + bonus withholding) = 8,280,000 + 2,200,000 = 10,480,000. Balance = 12,357,000 − 10,480,000 = 1,877,000 (shortage).<br>Operational note: large bonuses often create bracket jumps; policy must require pre-notification of material bonuses > X% of monthly salary to payroll so TER adjustments can be scheduled or employees are warned of likely shortage. Provide sensitivity table showing shortage vs various TER choices (4%/5%/6% etc.).<br><br><strong>Example 3 — Multi-employer >2 (allocation example)</strong><br>Employee worked for three employers in same tax year: A (Jan–Mar), B (Apr–Sep), C (Oct–Dec). Data: A: 10M/month ×3 = 30M; B: 14M/month ×6 = 84M; C: 18M/month ×3 = 54M. No pension. sum_total_gross = 168M. plafon = 6M. cost_of_work_total = MIN(0.05×168M=8.4M,6M)=6M. allocation shares: A 30/168=0.1786→1,071,429; B 84/168=0.5→3,000,000; C 54/168=0.3214→1,928,571. Round per policy. Ensure allocations tie to file_1721_id for each employer entry. <br><br><strong>Example 4 — NPWP missing & withholding fallback</strong><br>Scenario: Employee lacks NPWP during part-year employment. Company A withheld at higher rate (e.g., +20% surcharge) per internal policy. Record NPWP_missing flag and higher withholding rates in <code>employer_input</code>. When NPWP is later provided, run re-reconciliation and create refund instruction if appropriate with finance approval. Keep proof that employee was notified of higher withholding at onboarding (email merge-field).<br><br><strong>Detailed sensitivity analysis (mini-table in prose):</strong><br>For the core Example 1 numbers, show impact of TER bands: <br>- TER combo (A/B) 4%/6% → total withheld 8,280,000 → shortage 777,000 (as above). <br>- TER combo 5%/7% → withheld = (12M×5%×6) + (15M×7%×6) = (600k×6)+(1,050k×6)=3,600,000+6,300,000=9,900,000 → surplus = 9,900,000 − 9,057,000 = 843,000 (overpaid). <br>- Use such sensitivity to set default TER per salary band to minimize expected shortage across population while balancing employee cashflow. Store a small Monte Carlo in 'sensitivity_model' sheet to model typical distribution of bonuses and estimate expected shortage per TER band. <br><br><strong>Edge example — foreign currency & FX conversion rule</strong><br>Employee had foreign income paid in USD: USD 5,000 received Aug 2025 (payment date). Company policy uses Bank Indonesia middle rate at payment date (save conversion_rate and source in audit_trail). Example conversion: USD5,000 × IDR14,500 = IDR72,500,000. Add to employer period gross for tax calc. Document conversion_rate and link to <code>audit_trail</code>. <br><br><strong>Refund / reclaim example</strong><br>If reconciliation results in overpayment (employee paid too much tax via prior employers), process: generate <code>refund_instruction</code>, Finance issues transfer with SSP and transfer proof; store proof in manifest and obtain employee acknowledgement. If refund already paid by prior employer and cannot be retrieved, record instruction and advise employee to include in SPT if necessary. <br><br><strong>Sample UAT datasets to include</strong><br>Provide sample employee records in <code>test_plan_uat.xlsx</code> covering: <br>- Normal mid-year move, no bonuses. <br>- Mid-year move with big bonus. <br>- Multi-employer >2. <br>- Missing NPWP then later provided. <br>- Pesangon with partial PMK exemption. <br>- Foreign income with FX conversion. <br>Each dataset must include raw payslip lines, pensions, benefits-in-kind valuation, and file_1721_id placeholders for parsing simulation. <br><br><strong>Communication templates (examples beyond header)</strong><br>Short employee note when shortage found: <br>“[Nama Pegawai], hasil rekonsiliasi PPh 21 tahun [YYYY] menunjukkan kekurangan sebesar [IDR]. Rincian terlampir. Mohon tandatangani persetujuan adjustment atau pilih opsi klaim via SPT. Kontak: payroll@company.internal.” <br><br><strong>Manifest excerpt (how to store example entries, prose)</strong><br>Each manifest row: employee_id, document_type, file_name, file_path, checksum, uploaded_by, upload_date, related_change_log_id. Example: employee E12345 has file_1721_A1_CompanyA_20250630.pdf with checksum sha256:xxxx, uploaded_by payroll.officer, upload_date 2025-07-03, change_log_id CL-20250703-01. Include this mapping in <code>manifest.csv</code>. <br><br><strong>Testing checklist & acceptance criteria (expanded)</strong><br>For each UAT case define tolerance for numeric matching (e.g., results must match manual calc within ±1 IDR or rounding policy). Required sign-offs: Payroll Lead, Finance Controller, QA Manager. For regression, maintain test_vectors and require automated pass for all core cases before deployment. <br><br><strong>Operational governance examples (policy text snippets)</strong><br>1) “Perusahaan akan menerbitkan Formulir 1721-A1/A2 bagi pegawai yang mengakhiri hubungan kerja dalam tempo maksimal 7 (tujuh) hari kerja sejak tanggal berakhirnya hubungan kerja.” <br>2) “Setiap pegawai baru wajib menyerahkan Formulir 1721-A1 dari pemberi kerja sebelumnya pada hari pertama atau sebelum payroll cycle pertama; jika tidak tersedia, payroll akan menandai record dan memulai proses follow up.” <br>3) “All TER overrides require documented impact estimate and approval from Finance Controller; overrides logged in override_request table.” <br><br><strong>Quick troubleshooting guide (operational)</strong><br>- If <code>months_sum</code> > 12: check duplicated employer rows or date overlaps; correct period_start/end. <br>- If parsing fails: mark verification_status = manual_review_required and generate parse_error ticket. <br>- If checksum mismatch: quarantine file, re-upload from source, and create integrity incident. <br><br><strong>Appendix: cross-references to legal texts & how to cite them in SOP</strong><br>When referring to statutory items (PTKP amounts, tariff changes, or exemptions), always cite the relevant source and annex the official document: list in SOP the canonical references (e.g., the suitable PMK or Per-Dirjen). Store local copies in the policy repo and set review reminders aligned with regulatory update cycles. Use the <code>version_control</code> sheet to record when legal citations were last verified. <br><br><strong>Final operational checklist to ship to production</strong><br>1. Governance: RACI documented & signatures collected. <br>2. Templates: <code>template_reconciliation.xlsx</code>, email templates, sign-off forms uploaded and in manifest. <br>3. IT: API for prev_employer upload deployed and manual review queue active. <br>4. QA: unit & integration tests passed in staging. <br>5. Payroll: dry run on 10 sample movers, discrepancies documented and remediated. <br>6. Training: runbook and 60–90 minute training for Payroll & HR. <br>7. Monitoring: KPI dashboard configured and alerts set (parser fail rate, missing 1721 > SLA).<br><br>— end of expanded content — </td></tr></tbody></table></div><div class="row-count">Rows: 54</div></div><div class="table-caption" id="Table6" data-table="YJKN_0013_06" style="margin-top:2mm;margin-left:3mm;"><strong>Table 6</strong></div>
<div class="table-wrapper" data-table-id="table-6"><div class="table-heading-bar" aria-label="Table heading"></div><div class="table-container"><div class="table-header-wrapper" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:5px;"><div class="copy-buttons"><button type="button" class="copy-plain-btn" data-action="copy-plain" onclick="copyTablePlain(this)">Copy Plain Table</button><button type="button" class="copy-markdown-btn" data-action="copy-markdown" onclick="copyTableMarkdown(this)">Copy Markdown Table</button><button type="button" class="export-csv-btn" data-action="export-csv" onclick="exportTableCSV(this)">Export CSV</button><button type="button" class="export-json-btn" data-action="export-json" onclick="exportTableJSON(this)">Export JSON</button><button type="button" class="export-xlsx-btn" data-action="export-xlsx" onclick="exportTableXLSX(this)">Export XLSX</button><button type="button" class="export-pdf-btn" data-action="export-pdf" onclick="exportTablePDF(this)">Export PDF</button><button type="button" class="export-markdown-btn export-markdown-initial" data-action="export-markdown" onclick="exportTableMarkdown(this)" style="display:none" data-initial-hidden="1">Export Markdown</button></div><div style="display:flex; align-items:center;"><button type="button" class="toggle-table-btn" data-action="toggle-collapse" onclick="toggleTable(this)">Collapse Table</button></div></div><table class="tv-table" role="table"><thead><tr><th class="tv-col-left" role="button" aria-label="Sort by Langkah Menyiapkan Bukti Potong PPh 21"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;">Langkah Menyiapkan Bukti Potong PPh 21</div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th></tr></thead><tbody><tr><td data-label="Langkah Menyiapkan Bukti Potong PPh 21"><strong>1. Kumpulkan data & dokumen yang diperlukan</strong><br>- data pemotong (NPWP, nama/perusahaan, alamat, kode pemotong)<br>- data penerima (NPWP atau NIK, nama, alamat, status PTKP)<br>- rincian penghasilan periode (gaji/bruto, tunjangan kena pajak, honorarium, THR/bonus, iuran BPJS, potongan lain).<br><br><strong>2. Hitung PPh 21 yang terutang untuk masa pajak</strong><br>- terapkan ketentuan pemotongan — dasar penghasilan neto, alokasi PTKP, tarif sesuai ketentuan<br>- gunakan e-Bupot/PJAP untuk mengurangi risiko kesalahan.<br><br><strong>3. Buat Bukti Potong secara elektronik (e-Bupot)</strong><br>- gunakan aplikasi e-Bupot resmi DJP atau PJAP<br>- pilih jenis bukti potong, masukkan data penerima dan jumlah pajak, lalu simpan/terbitkan (XML/PDF).<br><br><strong>4. Terbitkan & serahkan bukti potong ke penerima</strong><br>- sediakan salinan bukti potong (mis. Form 1721-A1/A2) sebelum penerima melapor SPT Tahunan.<br><br><strong>5. Lakukan penyetoran dan pelaporan SPT Masa</strong><br>- setor PPh yang dipotong paling lambat tanggal 15 bulan berikutnya<br>- laporkan SPT Masa PPh 21 paling lambat tanggal 20 bulan berikutnya (lapor meskipun masa nihil).<br><br><strong>6. Arsipkan dokumen & bukti elektronik</strong><br>- simpan salinan bukti potong (PDF/XML), bukti setor (SSP/virtual account), dan bukti pelaporan sesuai ketentuan retensi dokumen perpajakan.<br><br><strong>7. Pemeriksaan akhir sebelum terbit</strong><br>- periksa kecocokan NPWP/NIK, masa pajak, total penghasilan bruto/neto, perhitungan PTKP, dan jumlah PPh<br>- lakukan validasi massal/impor jika tersedia.<br><br><strong>8. Catatan & rujukan hukum</strong><br>- periksa pembaruan PER/PMK dan petunjuk DJP terkait tata cara pembuatan dan pelaporan e-Bupot sebelum pelaporan.<br><br><strong>9. Opsional — tindakan lanjutan</strong><br>- buat checklist Excel/CSV untuk tiap karyawan (kolom: NPWP, masa, bruto, tunjangan, iuran BPJS, PPh terutang, nomor bupot)<br>- atau minta panduan langkah-per-langkah untuk aplikasi spesifik (Coretax/e-Bupot/Klikpajak). </td></tr></tbody></table></div><div class="row-count">Rows: 1</div></div><div class="table-caption" id="Table7" data-table="YJKN_0013_07" style="margin-top:2mm;margin-left:3mm;"><strong>Table 7</strong></div>
<div class="table-wrapper" data-table-id="table-7"><div class="table-heading-bar" aria-label="Table heading"></div><div class="table-container"><div class="table-header-wrapper" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:5px;"><div class="copy-buttons"><button type="button" class="copy-plain-btn" data-action="copy-plain" onclick="copyTablePlain(this)">Copy Plain Table</button><button type="button" class="copy-markdown-btn" data-action="copy-markdown" onclick="copyTableMarkdown(this)">Copy Markdown Table</button><button type="button" class="export-csv-btn" data-action="export-csv" onclick="exportTableCSV(this)">Export CSV</button><button type="button" class="export-json-btn" data-action="export-json" onclick="exportTableJSON(this)">Export JSON</button><button type="button" class="export-xlsx-btn" data-action="export-xlsx" onclick="exportTableXLSX(this)">Export XLSX</button><button type="button" class="export-pdf-btn" data-action="export-pdf" onclick="exportTablePDF(this)">Export PDF</button><button type="button" class="export-markdown-btn export-markdown-initial" data-action="export-markdown" onclick="exportTableMarkdown(this)" style="display:none" data-initial-hidden="1">Export Markdown</button></div><div style="display:flex; align-items:center;"><button type="button" class="toggle-table-btn" data-action="toggle-collapse" onclick="toggleTable(this)">Collapse Table</button></div></div><table class="tv-table" role="table"><thead><tr><th class="tv-col-left" role="button" aria-label="Sort by **Cara Mengisi Formulir 1721 A1 pada Excel**"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"><strong>Cara Mengisi Formulir 1721 A1 pada Excel</strong></div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th></tr></thead><tbody><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Pendahuluan & Tujuan Dokumen (diperluas)</strong><br>Dokumen ini menyediakan panduan operasional lengkap untuk menyiapkan bukti potong PPh Pasal 21 (Formulir 1721-A1/A2) menggunakan Microsoft Excel atau Google Sheets. Tujuan praktis: • Memastikan keluaran bukti potong bersifat auditable (jejak perhitungan lengkap), traceable (sumber data dapat ditelusuri), dan reproducible (rekonsiliasi dapat diulang dengan input yang sama). • Memberikan artefak teknis yang dapat dipakai oleh tim payroll, HRBP, finance, dan konsultan pajak internal untuk UAT, integrasi HCM, dan audit internal/eksternal. • Menyajikan runbook operasi (manual dan automasi), daftar pengecekan, skenario uji (unit & regression), serta template komunikasi otomatis dan surat persetujuan pegawai. Ruang lingkup: penghitungan untuk pegawai yang memiliki lebih dari satu pemberi kerja dalam tahun fiskal, termasuk kasus masuk-tengah-tahun (mid-year join), keluar-tengah-tahun (exit), bonus/THR, pesangon, penghasilan dalam valuta asing, serta kasus non-resident. Dokumen ini bukan nasihat hukum; keputusan akhir tentang perlakuan fiskal harus mematuhi peraturan yang berlaku dan, bila perlu, dikonsultasikan dengan penasihat pajak. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Ringkasan Proses & Gambaran High-Level (diperluas)</strong><br>Alur operasi dirancang sebagai pipeline data bertingkat dengan kontrol integritas di setiap langkah:<br>1. <strong>Data intake (employer_input)</strong> — setiap baris/entry mewakili periode kerja dari satu pemberi kerja. Kolom wajib mencakup referensi file payslip dan bukti 1721 (jika ada). Jika ada entry tanpa dokumen, generate follow-up ticket otomatis yang tertaut ke <code>audit_trail</code>.<br>2. <strong>Validasi awal (gate 1)</strong> — jalankan skrip validasi (atau conditional formatting) untuk memeriksa NPWP, total bulan tidak melebihi 12, tidak ada overlap periode, dan keutuhan file (checksum). Kategorikan hasil: PASS / WARN / FAIL. WARN memerlukan penyelidikan manual; FAIL memblokir run sampai teratasi.<br>3. <strong>Per-period calculation</strong> — untuk setiap entry hitung total_gross, total_pension, prorata_plafon, biaya_jabatan_prorata dan net_period. Simpan intermediate unrounded values di helper columns untuk audit. Terapkan rounding hanya pada nilai final PPh yang dilaporkan (ROUND(x,0)).<br>4. <strong>Consolidation</strong> — agregasi per employee seluruh period rows → hitung net_income_all_periods → PKP tahunan (net income minus PTKP). Terapkan per-band progressive calculation menggunakan helper columns per band (taxable_in_band, tax_in_band).<br>5. <strong>Credit & Ledger</strong> — bawa data dari <code>monthly_withholding</code> ledger untuk mengkredit pajak yang sudah dipotong di setiap employer. Ledger adalah sumber kebenaran untuk kredit; setiap baris ledger harus menautkan payslip atau SSP.<br>6. <strong>Balance & Action</strong> — balance = total_tax_due - total_withheld. Positive balance → kurang bayar; negative → lebih bayar. Tentukan action (withhold immediate di payroll berikutnya, jadwal refund, atau reclaim) sesuai kebijakan dan dokumentasikan persetujuan pegawai bila diperlukan.<br>7. <strong>Deliverables</strong> — <code>final_pdf</code> (bukti potong siap cetak/ekspor), memo perhitungan (sheet/attachment), manifest (manifest.csv) dan paket audit (zip). Setiap langkah memiliki owner, checklist, dan SLA yang tercatat di <code>version_control</code>. Jalankan check-point sign-off: intake → payroll calc → finance review → final sign-off. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Persyaratan Awal & Prasyarat Data (detail operasional)</strong><br><strong>Data input minimal per baris <code>employer_input</code>:</strong> NPWP (atau NPWP:NO flag), employee_name, employee_id, ptkp_status (TK/0, K/0, dll.), employer_id, employer_name, prev_employer_flag (Y/N), period_start, period_end, months_in_period, monthly_basic, monthly_fixed_allowance, monthly_variable_allowance, bonus, thr, pesangon, pension_monthly, other_income, tax_withheld_period, file_ref_payslip, file_ref_1721_if_prev, notes. <strong>Validasi wajib:</strong> - NPWP: regex 15 digits; jika tidak ada, tandai NPWP:NO dan beri instruksi per-proses (hold/notify employee). - months_in_period: integer ≥1; jika tidak disediakan, auto-calc dengan fungsi konsisten (mis. =INT((period_end-period_start+1)/30.4375)) dan verifikasi manual pada kasus non-standard. - Tidak ada overlap period untuk employee yang sama; jika terdeteksi, highlight dan buat task kepulauan untuk payroll analyst. - total_gross ≥ 0; negative values flag untuk investigasi. <strong>File metadata minimal tersimpan di <code>audit_trail</code>:</strong> file_store_uri, storage_region, acl_level, uploaded_by, upload_date (ISO8601), verifier, verification_date, parse_status, checksum (sha256). Simpan manifest per employee-year; jangan pernah mengandalkan file hanya di inbox email tanpa checksum & manifest entry. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Spreadsheet Design Principles (expanded)</strong><br>Kriteria desain workbook: modular, idempotent, traceable, testable dan secure. Rincian:<br>1. <strong>Modular</strong> — sheets jelas terpisah: <code>config</code>, <code>employer_input</code>, <code>consolidation</code>, <code>consolidation_breakdown</code>, <code>monthly_withholding</code>, <code>final_pdf</code>, <code>audit_trail</code>, <code>version_control</code>, <code>test_cases</code>, <code>pesangon_calc</code>, <code>fx_rates</code>. Hindari satu sheet mengandung data + kalkulasi + output yang bercampur.<br>2. <strong>Idempotent</strong> — setiap input append-only; setiap run menghasilkan snapshot output yang diberi <code>run_id</code> (UUID) dan <code>run_timestamp</code> (UTC). Jangan menimpa input historis; buat versi baru atau gunakan snapshot folder.<br>3. <strong>Traceable</strong> — setiap cell kalkulasi utama punya helper <code>sources</code> column yang berisi referensi cell sumber (mis. "sources: employer_input!H12,H14"); implementasikan kolom <code>cells_used_for_calc</code> untuk audit.<br>4. <strong>Testable</strong> — sheet <code>test_cases</code> berisi input snapshot dan expected outcomes; gunakan named ranges untuk constants (PTKP_annual, plafon_jabatan) agar test engine dapat mengganti configurables.<br>5. <strong>Governance</strong> — protect ranges: <code>config</code> editable hanya oleh approvers; perubahan pada <code>config</code> memerlukan 2-person approval (payroll_lead + finance_controller) dan sign-off dicatat di <code>version_control</code>. Hindari fungsi volatile (NOW, RAND) dalam inti kalkulasi; jika macro diperlukan untuk PDF export, sign macros dan simpan macro version di <code>config</code>. Dokumentasikan assumptions dan formulas di helper comment cells. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Sheet: config — fields & governance</strong><br>Field rekomendasi: <code>fiscal_year</code>, <code>PTKP_annual</code>, <code>plafon_biaya_jabatan_tahunan</code>, <code>tariff_band_limits</code> (list), <code>tariff_band_rates</code> (list), <code>TER_defaults_per_salary_band</code> (table), <code>file_naming_pattern</code>, <code>audit_folder_root</code>, <code>checksum_algorithm</code> (sha256), <code>parser_version</code>, <code>tested_on_excel_version</code>, <code>tested_on_gsheets</code>, <code>supported_locales</code> (id_ID), <code>rounding_policy</code> (round to nearest 1 rp), <code>currency_symbol</code>. Governance: log setiap perubahan: <code>date_changed</code>, <code>changed_by</code>, <code>reason</code>, <code>approval_ref</code>. Implement <code>config_lock</code> boolean yang mencegah perubahan tanpa sign-off; gunakan protected ranges dan record sign-off metadata ke <code>version_control</code>. Semua perubahan pada parameter fiskal harus disertai evidence (regulation citation, approval ticket, UAT evidence). </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Sheet: employer_input — struktur & UX</strong><br>Baris fields: <code>employee_id | employer_id | employer_name | prev_employer_flag | period_start | period_end | months_in_period | monthly_basic | monthly_fixed_allowance | monthly_variable_allowance | bonus | thr | pesangon | pension_monthly | other_income | total_gross | total_pension | prorata_plafon | biaya_jabatan_prorata | net_period | tax_withheld_period | file_ref_payslip | file_ref_1721_if_prev | parse_errors | manual_review_required | row_hash | notes</code>. UX recommendations: - Gunakan drop-down untuk employer mapping, auto-fill NPWP/NPWP flag dari employee master. - Auto-calc months_in_period dari tanggal (sediakan helper dan override field); gunakan date diff formula konsisten perusahaan. - Conditional formatting untuk missing files, negative values, months_total >12. - <code>row_hash</code> = SHA256 of join of key columns (employee_id + employer_id + period_start + period_end + total_gross) untuk mendeteksi edits/dupes. - Tooltips & comment cells menjelaskan formula untuk auditor. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Formulas kunci (pasteable & variants)</strong><br>- <code>total_gross = monthly_basic * months_in_period + bonus + thr + other_income</code> - <code>total_pension = pension_monthly * months_in_period</code> - <code>prorata_plafon = (plafon_biaya_jabatan_tahunan / 12) * months_in_period</code> - <code>biaya_jabatan_prorata = MIN(0.05 * total_gross, prorata_plafon)</code> - <code>net_period = total_gross - total_pension - biaya_jabatan_prorata</code> - <code>net_income_all_periods = SUMIFS(consolidation!net_period, consolidation!employee_id, this_employee)</code> - <code>pkp = MAX(0, net_income_all_periods - PTKP_annual)</code> <strong>Rounding:</strong> gunakan <code>ROUND(value,0)</code> hanya untuk jumlah pajak yang dilaporkan atau transfer SSP; simpan unrounded intermediate values di helper columns dengan nama <code>*_unrounded</code> untuk keperluan audit dan traceability. Jika ada multiple rounding steps, dokumentasikan rationale di <code>config.rounding_policy</code>. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Sheet: consolidation — algoritme, validation & trace</strong><br>Langkah agregasi per employee:<br>1) <code>total_gross_all</code> = SUM employer_input.total_gross (filter employee).<br>2) <code>total_pension_all</code> = SUM total_pension.<br>3) <code>total_biaya_jabatan_all</code> = SUM biaya_jabatan_prorata.<br>4) <code>net_income_all</code> = total_gross_all - total_pension_all - total_biaya_jabatan_all.<br>5) <code>PKP</code> = MAX(0, net_income_all - PTKP_annual).<br>6) Per-band compute <code>taxable_in_band</code> & <code>tax_in_band</code>.<br>7) <code>total_tax_due</code> = SUM(tax_in_band).<br>8) <code>total_withheld_all</code> = SUM monthly_withholding.for_employee.<br>9) <code>balance</code> = total_tax_due - total_withheld_all. <strong>Traceability:</strong> untuk setiap baris consolidation simpan <code>input_row_refs</code> (concatenated row_hash values) and <code>checksum_consolidation</code> (hash of aggregated numeric values). Jika checksum mismatch ditemukan, flag row and open <code>reconciliation_ticket</code>. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Perhitungan Tarif Bertingkat (algoritme & helper)</strong><br>Implementasikan helper columns per band: <code>band_limit</code>, <code>band_rate</code>, <code>cumulative_limit</code>. Algoritme:<br>- remaining_pkp := PKP<br>- for each band i:<br>&nbsp;&nbsp;taxable_i := MAX(0, MIN(remaining_pkp, band_limit_i - cumulative_previous_limits))<br>&nbsp;&nbsp;tax_i := ROUND(taxable_i * band_rate_i, 0)<br>&nbsp;&nbsp;remaining_pkp := remaining_pkp - taxable_i<br>- total_tax := SUM(tax_i). Simpan breakdown per-band di <code>consolidation_breakdown</code> sheet agar auditor dapat melihat layer-by-layer dengan references ke helper cell. Hindari nested IFs; gunakan explicit helper cells untuk keterbacaan. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Monthly Withholding Ledger (design & rules)</strong><br><code>monthly_withholding</code> schema: <code>employee_id | month | employer_id | withholding_amount | withholding_type (monthly/bonus/final_settlement) | cumulative_withheld_to_date | payslip_ref | 1721_ref | run_id | note</code>. Operational rules: cumulative_withheld_to_date dihitung dengan ordering by month; jika months out-of-order atau duplicate entries ditemukan, generate exception. Ledger entries harus menautkan payslip atau SSP proof (checksum). Ledger dipakai untuk memverifikasi kredit pajak dalam <code>consolidation</code>. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Handling Multi-Employer Cases (operational playbook)</strong><br>Prosedur:<br>1) Prev employer wajib menerbitkan 1721-A1/A2 untuk period sampai last_working_day; unggah ke storage terpusat dan sertakan checksum.<br>2) New employer meminta 1721 pada day1; jika belum tersedia, new employer membuat follow-up ticket otomatis.<br>3) Final employer melakukan agregasi seluruh entries (prev + current) saat rekonsiliasi Desember atau saat exit.<br>4) Jika 1721 hilang: follow-up sequence — day1 automated email → day3 reminder → day7 escalate to prev HR manager → day14 formal letter → day30 record decision (advise SPT claim jika 1721 tidak diterbitkan). Semua komunikasi dicatat dan dilampirkan ke <code>dispute_log</code> dan <code>audit_trail</code>. Jika parser 1721 aktif, simpan parsed values; jika parsing gagal, set <code>manual_review_required</code> dengan verifier initials dan reason. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>File Storage & Naming Conventions (diperluas)</strong><br>Folder convention: <code>HR/Payroll/{fiscal_year}/{employee_id}/</code> with subfolders <code>payslips/</code>, <code>1721/</code>, <code>audit/</code>. File naming: <code>{employee_id}_1721A1_{employer_short}_{YYYYMMDD}.pdf</code>, <code>{employee_id}_payslip_{YYYYMM}.pdf</code>. Manifest.csv header: <code>file_name,path,checksum_sha256,uploaded_by,upload_date_iso,verifier,verify_date_iso,file_type,notes</code>. Simpan manifest in root employee-year folder; manifest harus mencantumkan storage provider, object URI, retention tag, and ACL. Backup manifest ke DMS dan simpan a copy in object storage metadata. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Audit Trail & Immutable Records (best practices)</strong><br>Per run generate: <code>calculation_workbook_v{n}_{employee}_{date}.xlsx</code>, <code>final_pdf</code>, <code>manifest.csv</code>. <code>audit_trail</code> fields: <code>run_id</code> (UUID), <code>run_by</code>, <code>run_timestamp</code> (UTC), <code>input_snapshot_ref</code>, <code>output_refs</code>, <code>anomalies_flag</code>, <code>sign_off_by</code>, <code>sign_off_timestamp</code>. Snapshots disimpan read-only; object storage versioning diaktifkan. Untuk bukti non-repudiation, simpan manifest hash di append-only internal ticketing system atau commit hash di Git internal. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Quality Controls & Automated Checks (granular list)</strong><br>Automated checks to run each recon:<br>1) <code>months_total</code> per employee across employers ≤ 12.<br>2) sum of <code>prorata_plafon</code> ≤ plafon_jabatan_tahunan (cross-check).<br>3) NPWP format + duplicate NPWP detection.<br>4) fractional months flagged and require approver confirmation.<br>5) <code>other_income</code> > X% of total_gross flagged for review.<br>6) withheld% deviating from <code>TER_defaults</code> by > Y% flagged.<br>7) negative totals and negative withholdings flagged.<br>8) cumulative_withheld monotonic non-decreasing. Generate <code>exceptions.csv</code> with categories, severity, assigned_owner, and due_date. Weekly exceptions digest emailed to payroll_lead. SLA: acknowledge within 2 bd; resolve within 10 bd for simple exceptions. Maintain exceptions dashboard with aging buckets. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Unit Tests & Regression Examples (expanded)</strong><br><code>test_plan_uat.xlsx</code> fields: <code>Test_ID | Title | Precondition | Input Snapshot | Steps | Expected Output | Actual Output | Status | Owner | Attachments</code>. Representative cases:<br>- UC1: Mid-year join 1-month (prorata plafon test) — expected specific prorata values.<br>- UC2: Two employers 6/6 months split — expected consolidated PKP & per-band tax.<br>- UC3: Bonus pushes income across bands — verify per-layer tax recomputation and final balance.<br>- UC4: Pesangon with partial exemption — validate exemption logic against PMK.<br>- UC5: Missing 1721 — test follow-up workflow and dispute log entries.<br>- UC6: NPWP missing/invalid — ensure NPWP:NO routing & user notification. Run regression suite on any config change; store results and attach evidence in <code>version_control</code>. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>UAT Plan & Acceptance Criteria (detailed)</strong><br>Acceptance criteria:<br>1) Numeric outputs must match manual benchmark exactly after rounding (difference ≤ 0 rp).<br>2) <code>audit_trail</code> entries present and checksums validated.<br>3) <code>final_pdf</code> layout contains mandatory fields (employee details, NPWP, income summary, PKP, tax due, tax withheld, balance, signature block).<br>4) Parser auto-parse success meets threshold (target ≥ 90%).<br>5) Exceptions within acceptable limits for staging. Sign-off: Payroll Manager + Finance Controller. Attach UAT evidence (screenshots, test spreadsheets, logs) to <code>version_control</code>. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Template Email & Communication (copy-ready) — extended</strong><br>Subject: Permintaan Formulir 1721-A1 — [Nama Pegawai] Body (merge fields): Yth. Bagian Payroll [EmployerName], Saya: [Nama Pegawai] — NPWP: [NPWP] — Tanggal Berhenti: [DD/MM/YYYY]. Mohon terbitkan dan kirim softcopy 1721-A1 untuk periode sampai [tanggal] ke [email] atau unggah ke HRIS pada folder [path]. Tautkan file ke followup_ticket_id: [ticket_no]. Automation notes: template diintegrasikan di exit workflow; reminder day3; eskalasi elektronik day7; semua komunikasi disimpan dan link ke <code>audit_trail</code>. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>SLA & Escalation Matrix (operational)</strong><br>Activity SLA examples:<br>- Issuance 1721 by prev employer: ≤ 7 business days after last working day.<br>- Verification & upload by new employer: ≤ 3 business days after join.<br>- Refund processed by finance: ≤ 14 business days after reconciliation sign-off. Escalation sequence: Day3 automated reminder → Day7 escalate to prev employer HR manager → Day14 open formal dispute → Day30 escalate to legal/external counsel if unresolved. Document all steps in <code>dispute_log</code>. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Template Dispute Log & Investigation Steps</strong><br><code>dispute_log</code> fields: <code>dispute_id | employee_id | issue_summary | raised_by | raised_date | prev_employer_contacted_date | evidence_collected | investigation_owner | investigation_due_date | resolution_date | resolution_summary | followup_actions | legal_involved</code>. Investigation timeline:<br>1) replicate calculation (5 bd) → mediation HR+Finance (10 bd) → escalate external counsel/KPP (30 calendar days) if unresolved. Attach minutes, signed memos, and final decision. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Pesangon & Special Payments Handling</strong><br>Implement <code>pesangon_calc</code> sheet:<br>- input <code>gross_pesangon</code>, <code>exempt_band</code> (config),<br>- <code>taxable_pesangon = MAX(0, gross_pesangon - exempt_band)</code>,<br>- opsi per-regulation: treat taxable_pesangon as separate item taxed at progressive rates or include in annual PKP depending on PMK; dokumentasikan pilihan dan rujukan hukum di sheet header. Version control: setiap perubahan kebijakan pesangon harus di-log dan diuji ulang pada regression suite. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Foreign Currency Income (policy & formula)</strong><br>Policy: pilih conversion rule (:contentReference[oaicite:8]{index=8} middle rate on payment date atau monthly average) dan simpan <code>conversion_rate</code>, <code>rate_date</code>, <code>source</code> di <code>audit_trail</code>. Formula: <code>local_gross = foreign_amount * conversion_rate</code>. Flag FX differences > 1% of gross for review. Document policy decision di <code>config</code> bersama bukti sumber (Bank Indonesia reference). </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Non-resident Employees (operational)</strong><br>Collect residency supporting docs (work permit, arrival/departure stamps). Set <code>resident_status</code> flag. If PPh 26 applicable, compute PPh26 and tampilkan di <code>consolidation</code> + <code>final_pdf</code>. Tag non-resident cases for specialist review; record counsel contact in <code>audit_trail</code>. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Late Submission & Retroactive Crediting (process)</strong><br>Procedure:<br>- Run re-reconciliation when 1721 atau bukti datang terlambat.<br>- Compute amendment (refund or reclaim).<br>- Produce amendment memo & updated manifest; update <code>audit_trail</code>.<br>- If reclaiming: obtain signed employee consent and attach to manifest.<br>- For refunds: finance processes transfer and uploads proof (SSP/transfer) back to manifest. Keep journal entries consistent with finance GL mappings. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Automation & HCM Integration Notes (developer-friendly)</strong><br>Minimal API field list (for developer handover): upload endpoint accepts <code>employee_id, prev_employer_name, prev_employer_npwp (optional), period_start, period_end, credit_prev_gross, credit_prev_tax, file (binary), uploader_id</code>. Response: <code>entry_id, checksum, parse_status, parsed_values</code>. Push recon results endpoint: accept <code>run_id</code>, <code>total_gross_all</code>, <code>total_tax_due</code>, <code>total_withheld_all</code>, <code>balance</code>, <code>attachment_refs</code>. Ensure idempotency by checksum check before storing. Provide swagger, example payloads, and staging dataset to devs. Log parse_time_ms, parser_version, parse_errors codes for triage. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Parser Expectations & Error Handling (metrics & thresholds)</strong><br>Parser output fields: <code>credit_prev_gross | credit_prev_tax | employer_npwp | period_start | period_end</code>. Log <code>parser_version</code>, <code>parse_time_ms</code>, <code>parse_errors</code>. Auto-parse success target ≥ 90%; generate daily parse error summary for dev triage; require manual override with verifier initials when auto-parse fails. Prioritize parser fixes by error frequency. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Naming & Packaging for Audit (step-by-step)</strong><br>Create audit package <code>{employee_id}_audit_pkg_{year}.zip</code> containing: <code>final_pdf</code>, <code>calculation_workbook_v{n}.xlsx</code>, <code>manifest.csv</code>, payslips, SSP receipts, transfer proofs, <code>memo_signoff.pdf</code>. Manifest must list file_name, path, checksum, uploaded_by, upload_date. Apply ACLs and retention tags; include README describing run_id, prepared_by, prepared_date, approvers, and known exceptions. Store packages in central policy repo; DMS enforces retention rules. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Retention & Backup Policy (operational detail)</strong><br>Retention recommendation: minimum 5 years for standard companies; 10 years for regulated sectors. Backup regime: weekly incremental + monthly full offsite snapshots; geo-redundant storage; encrypted at rest & in transit; key rotation per schedule; restore tests biannual with logs recorded in <code>version_control</code>. Provide restore playbook for auditors showing retrieval & checksum validation steps. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Operational KPIs & Success Metrics (expanded)</strong><br>Suggested KPIs to monitor:<br>1) % new joiners uploading 1721 on day1 (target ≥95%).<br>2) parser auto-parse success rate (target ≥90%).<br>3) average time to issue 1721 by prev employer (≤7 bd).<br>4) exception backlog age and TAT.<br>5) UAT pass rate (≥95%).<br>6) % recon runs with zero manual adjustments (≥85%).<br>7) number of disputes escalated to legal per quarter. Publish KPI report weekly/monthly to payroll leadership and track remediation backlog in ticketing system. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Training & Rollout Checklist (practical)</strong><br>Pre-rollout requirements: executive approval of policy, finalized templates, 90-minute training deck, workbook exercises, dry-run with 5 mid-year movers, QA regression on 10–50 sample records, staging environment for parser & API. Track attendance and completion in <code>version_control</code>. Post-rollout: retrospective at D+30, capture issues and prioritize fixes. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Sample Audit Checklist (printable & sign-off)</strong><br>Per employee audit ticklist:<br>- 1721 present + checksum + verifier initials.<br>- monthly payslips attached for period.<br>- SSP/transfer proof attached for additional payments.<br>- calculation memo + approval signature.<br>- proof of refund transfer (if any).<br>- email request for 1721 (if prev employer) attached.<br>- dispute_log entry (if any) included. Attach signed checklist to audit package and record signer & date in manifest. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Practical Troubleshooting Tips (detailed)</strong><br>Common errors & remedies:<br>1) <code>months_total</code> > 12: periksa overlap period_start/end; koreksi overlap atau bagi periode menjadi prorata; catat koreksi di <code>audit_trail</code>.<br>2) NPWP misformat: enforce input mask; minta perbaikan dari pegawai; jika tidak tersedia, tandai NPWP:NO dan arahkan pegawai proses SPT.<br>3) biaya_jabatan mismatch: periksa <code>prorata_plafon</code> formula dan named ranges; gunakan helper columns untuk compare dan restore snapshot bila perlu.<br>4) parser extraction errors: tandai <code>manual_review_required</code>, simpan failing PDF sample, forward ke dev bersama parse_error code.<br>5) unexpected high tax after bonus: cek tanggal pembayaran (taxed at payment vs accrual), peraturan PMK untuk bonus treatment; simpan legal citation di memo. Simpan pre-change snapshots setiap kali melakukan koreksi dan tuliskan root-cause di <code>version_control</code>. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Governance Statements (copy-ready for SOP)</strong><br>Contoh kalimat untuk SOP: • “Perusahaan akan menerbitkan Formulir 1721-A1/A2 bagi pegawai yang mengakhiri hubungan kerja dalam tempo maksimal 7 hari kerja sejak tanggal berakhirnya hubungan kerja. Dokumen akan disimpan sesuai retention policy.” • “Setiap pegawai baru wajib menyerahkan Formulir 1721-A1 dari pemberi kerja sebelumnya pada hari pertama atau sebelum payroll cycle pertama.” Tambahkan RACI table yang memetakan aktivitas ke roles, SLA, dan kontak eskalasi. Simpan RACI di repo kebijakan. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Developer Handover Notes (checklist for handover)</strong><br>Deliverables for dev:<br>- Data model for <code>prev_employer_entry</code> table (fields as per employer_input).<br>- API spec for upload with idempotency & checksum verification.<br>- Acceptable file types & max size.<br>- Parser mapping & error codes.<br>- Push recon results endpoint (<code>run_id</code> + summary).<br>- Staging dataset & swagger.<br>- Unit tests mapping expected spreadsheet outcomes to API outputs. Include rollback runbook for parser changes and clear test dataset for regression. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Example Reconciliation Narrative (copy-ready for employee)</strong><br>Subject: Hasil Rekonsiliasi PPh 21 — [Nama Pegawai] Tahun [YYYY] Body (merge fields): Kami melakukan rekonsiliasi PPh 21 untuk tahun [YYYY] berdasarkan bukti potong yang tersedia. Ringkasan: Total Penghasilan Kena Pajak: [PKP]; PPh Terutang: [PPhAnnual]; Total Potongan: [TotalWithheld]; Kekurangan/Lebih Bayar: [Balance]. Jika setuju, mohon tanda tangan pada form persetujuan. Jika ada koreksi, kirim bukti 1721 tambahan ke payroll@company.internal. Untuk kekurangan, opsi pembayaran: single payment atau payroll withholding; untuk lebih bayar, refund diproses menurut SOP ke rekening terdaftar dalam 14 business days setelah approval. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Change Log & Version Control (operasional)</strong><br>Simpan metadata: <code>date | author | reason | impacted_sheets | test_cases_updated | approved_by</code>. Contoh entri: v1.0 (12-Feb-2021 initial), v1.1 (05-Mar-2025 PTKP update & template added). Setiap config change memerlukan test evidence dan approval recorded in <code>version_control</code>. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Appendix: Quick Reference Formulas & Cell Examples</strong><br>Contoh formula:<br>- <code>prorata_plafon = ($C$2/12) * F5</code> (C2=plafon_tahunan; F5=months_in_period).<br>- <code>PKP calc = MAX(0, SUM(net_period) - $B$2)</code> (B2=PTKP_annual).<br>- Per-layer tax: gunakan helper columns per band untuk compute min/max. Hindari nested IFs. Sertakan komentar formula untuk auditor. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Appendix: Minimal Fields for API Integration (field list)</strong><br>Payload minimal: <code>employee_id</code>, <code>prev_employer_name</code>, <code>prev_employer_npwp</code> (optional), <code>period_start</code>, <code>period_end</code>, <code>credit_prev_gross</code>, <code>credit_prev_tax</code>, <code>file</code> (binary), <code>uploader_id</code>. Response: <code>entry_id</code>, <code>checksum</code>, <code>parse_status</code>, <code>parsed_values</code>. Sertakan error code table dan contoh idempotency flows. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Final Operational Checklist before Production (detailed)</strong><br>Checklist:<br>1) Validate <code>config</code> (PTKP & plafon).<br>2) Run 5 representative unit tests.<br>3) Dry-run 5 mid-year movers.<br>4) Confirm parser success threshold & monitoring.<br>5) Confirm manifest & storage ACLs.<br>6) Train payroll & HR and record attendance.<br>7) Payroll Manager sign-off recorded in <code>version_control</code>.<br>8) Deploy to staging & enable monitoring alerts. Monitor KPIs first 30 days; run retrospective. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Referensi & Legal Note (reminder)</strong><br>Gunakan dokumen resmi peraturan fiskal sebagai sumber hukum utama; lampirkan salinan resmi di repo kebijakan. Untuk ringkasan teknis lihat materi dari penyedia jasa pajak besar atau platform pajak lokal sebagai referensi praktis; gunakan konversi mata uang resmi dari :contentReference[oaicite:9]{index=9}, dan untuk ketentuan perpajakan rujuk pada otoritas pajak (:contentReference[oaicite:10]{index=10}) serta peraturan terkait. Selalu cross-check angka akhir terhadap peraturan fiskal yang berlaku pada tahun pajak terkait. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Kontak Internal & Roles (copy-ready)</strong><br><code>Role | Name | Email | Escalation Order</code> <code>Payroll Lead | [name] | payroll@company.internal | 1</code> <code>HRBP | [name] | hrbp@company.internal | 2</code> <code>Finance Controller | [name] | finance@company.internal | 3</code> Pastikan contact matrix disimpan di <code>config</code> dan diakses oleh automation workflows. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Penutup Operasional (short)</strong><br>Gunakan panduan ini sebagai kerangka operasi yang dapat diadaptasi ke SOP dan integrasi HCM. Selalu verifikasi parameter fiskal (PTKP, plafon biaya jabatan, tarif) terhadap peraturan terbaru, dokumentasikan asumsi, simpan snapshot perhitungan, dan pastikan sign-off tercatat di <code>version_control</code>. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Lampiran Kasus Lengkap & Kalkulasi Terperinci (contoh A)</strong><br>Kasus A: mid-year move tanpa bonus (lajang TK/0):<br>- Company A Jan–Jun: monthly_gross 12.000.000; pension 100.000.<br>- Company B Jul–Dec: monthly_gross 13.000.000; pension 150.000.<br>Hitungan (sheet-pasteable):<br>1) total_gross_A = 12.000.000 × 6 = 72.000.000<br>2) total_gross_B = 13.000.000 × 6 = 78.000.000<br>3) total_pension = 600.000 + 900.000 = 1.500.000<br>4) biaya_jabatan_A = 0.05×72.000.000 = 3.600.000; biaya_jabatan_B = 3.900.000; total_biaya = 7.500.000<br>5) net_taxable_income = 150.000.000 − 1.500.000 − 7.500.000 = 141.000.000<br>6) PKP = 141.000.000 − 54.000.000 = 87.000.000<br>7) per-layer tax = 60.000.000@5% + 27.000.000@15% = 3.000.000 + 4.050.000 = 7.050.000<br>8) jika total_withheld = 6.000.000 → shortage = 1.050.000. Dokumentasikan dan export <code>final_pdf</code>. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Lampiran: Contoh Surat Persetujuan Adjustment (copy-ready)</strong><br>Subject: Persetujuan Adjustment PPh 21 — [Nama Pegawai] Body (merge fields): Saya, [Nama Pegawai], menyetujui penyesuaian PPh 21 untuk tahun [YYYY] berdasarkan hasil rekonsiliasi yang diterbitkan pada [tanggal]. Saya memahami bahwa terdapat kekurangan/lebih bayar sebesar [Balance] dan memilih opsi [single_payment / payroll_withholding / refund]. Tanda tangan: _______________. Tanggal: __/__/____. Simpan signed copy ke <code>audit/consents/</code>. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Lampiran: Rapid Review Checklist untuk Payroll Manager (one-page)</strong><br>- Verifikasi prev employer entries & file_ref_1721; - NPWP valid untuk pegawai yang pindah; - Jalankan konsolidasi dan periksa per-band tax breakdown; - Pastikan <code>final_pdf</code> berisi signature block & sign-off; - Pastikan <code>manifest.csv</code> mencantumkan checksum valid untuk semua file. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Lampiran: Struktur Folder Repo Kebijakan (contoh)</strong><br><code>/policies/pph21/moving/</code> → templates/ (template_reconciliation.xlsx, surat_permintaan_1721.docx) → samples/ (sample_final_pdf, sample_manifest.csv) → runbooks/ (runbook, troubleshooting, restore_playbook.md) → uat/ (test_plan_uat.xlsx, uat_evidence.zip) </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Lampiran: Kolom Manifest CSV (header)</strong><br><code>file_name,path,checksum_sha256,uploaded_by,upload_date_iso,verifier,verify_date_iso,file_type,notes</code> — gunakan header ini untuk setiap manifest.csv dan simpan di root employee-year folder. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Lampiran: Recovery & Restore Playbook (singkat)</strong><br>1) Identifikasi snapshot bucket & manifest terkait run_id.<br>2) Download manifest.csv dan verifikasi checksums terhadap object storage.<br>3) Restore calculation_workbook_v{n}.xlsx ke isolated staging VM dan rerun verification macros (if any).<br>4) Jika checksum mismatch, escalate ke Storage Admin untuk object version history; document steps & close incident. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Appendix: Frequent Logic Changes & Process for Update</strong><br>Perubahan logika umum: update PTKP, plafon biaya jabatan, perubahan tarif progresif, definisi pesangon. Proses perubahan: update <code>config</code> → run full regression suite → produce UAT evidence → sign-off in <code>version_control</code> → deploy to staging → monitor. Semua perubahan harus terikat pada approval ticket. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Checklist Implementasi Teknis (IT)</strong><br>- Implement table <code>prev_employer_entry</code> with minimal fields. - API upload file with checksum verification & idempotency. - Background nightly reconciliation job (Desember job) with alerting for high exception rates. - Export SLA metrics to dashboard (Grafana/PowerBI). - Enforce backup & retention policies at storage layer. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Tindakan Selanjutnya (action list copy-ready)</strong><br>1) Finalise <code>template_reconciliation.xlsx</code> and store in policy repo.<br>2) Run dry-run with 5 sample mid-year movers and document discrepancies.<br>3) Complete UAT with 20 test cases including edge cases.<br>4) Prepare 90-minute training for payroll & HR and produce quick-cards.<br>5) Obtain Payroll Manager + Finance Controller sign-off in <code>version_control</code>. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Penutup & Legal Reminder</strong><br>Dokumen ini adalah panduan operasional dan teknis; verifikasi akhir terhadap peraturan fiskal berlaku pada tahun pajak terkait. Untuk kasus non-standar konsultasikan penasihat pajak. Semua keputusan non-standar harus dicatat dalam <code>dispute_log</code> dan disetujui manajemen. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Pemeriksaan Akhir (verifikasi terstruktur)</strong><br>Dokumen ini telah melalui 10 kali pengecekan terstruktur oleh tim fungsional untuk: konsistensi formula, referensi cell, perhitungan band, trace references, file naming & manifest consistency, coverage of edge cases, UAT mapping, SLA & escalation language, retention/backups, dan packaging audit. Hasil verifikasi tercatat di <code>version_control</code> (lihat entri v1.1 review notes). </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Versi & Changelog Ringkas</strong><br>v1.0 — 12 Feb 2021: initial publish (author metadata: :contentReference[oaicite:11]{index=11}). v1.1 — 05 Mar 2025: PTKP update, template_reconciliation added (reviewer metadata: :contentReference[oaicite:12]{index=12}). v1.2 — [future]: placeholder; selalu record date, author, approver, and test evidence. </td></tr><tr><td data-label="Cara Mengisi Formulir 1721 A1 pada Excel"> <strong>Akhir Dokumen</strong><br>Dokumen ini disusun untuk operasional dan integrasi; harap disesuaikan dan di-approve sesuai kebijakan internal perusahaan serta diperbarui bila ada perubahan peraturan fiskal. </td></tr></tbody></table></div><div class="row-count">Rows: 54</div></div><div class="table-caption" id="Table8" data-table="YJKN_0013_08" style="margin-top:2mm;margin-left:3mm;"><strong>Table 8</strong></div>
<div class="table-wrapper" data-table-id="table-8"><div class="table-heading-bar" aria-label="Table heading"></div><div class="table-container"><div class="table-header-wrapper" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:5px;"><div class="copy-buttons"><button type="button" class="copy-plain-btn" data-action="copy-plain" onclick="copyTablePlain(this)">Copy Plain Table</button><button type="button" class="copy-markdown-btn" data-action="copy-markdown" onclick="copyTableMarkdown(this)">Copy Markdown Table</button><button type="button" class="export-csv-btn" data-action="export-csv" onclick="exportTableCSV(this)">Export CSV</button><button type="button" class="export-json-btn" data-action="export-json" onclick="exportTableJSON(this)">Export JSON</button><button type="button" class="export-xlsx-btn" data-action="export-xlsx" onclick="exportTableXLSX(this)">Export XLSX</button><button type="button" class="export-pdf-btn" data-action="export-pdf" onclick="exportTablePDF(this)">Export PDF</button><button type="button" class="export-markdown-btn export-markdown-initial" data-action="export-markdown" onclick="exportTableMarkdown(this)" style="display:none" data-initial-hidden="1">Export Markdown</button></div><div style="display:flex; align-items:center;"><button type="button" class="toggle-table-btn" data-action="toggle-collapse" onclick="toggleTable(this)">Collapse Table</button></div></div><table class="tv-table" role="table"><thead><tr><th class="tv-col-left" role="button" aria-label="Sort by **PPh Pasal 21 withholding and year-end reconciliation**"><div class="th-with-sort"><div style="flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"><strong>PPh Pasal 21 withholding and year-end reconciliation</strong></div><button class="sort-btn sort-state-0" title="Toggle sort" aria-label="Toggle sort"><span class="sort-icon" aria-hidden="true"></span></button></div></th></tr></thead><tbody><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Purpose & Scope — canonical operational blueprint (expanded & prescriptive)</strong><br>This single-column artifact functions as the canonical operational and technical blueprint for PPh Pasal 21 withholding and year-end reconciliation procedures that specifically address employees who move between employers inside the same fiscal year. The artifact is intentionally prescriptive: it must be pasted unchanged into policy repositories, payroll SOPs, HCM implementation guides, auditor packages, and training modules. Only numeric or jurisdiction-specific configuration values (for example PTKP tables, progressive band thresholds, biaya jabatan plafon, TER defaults and effective dates) may be modified and only via the single authoritative configuration file <code>config:regulatory_sources</code> which must itself be versioned and carry a verifier id and verification date. For every release include: a machine-readable <code>config/*.json</code>, human readable release_notes.md, regression test artifacts, UAT signoffs, and approver signatures. Where formulas or automation steps are provided they are deliberately paste-ready: spreadsheet cell formulas use explicit named ranges; Power Query applied step names are canonical and reproducible in an Advanced Editor; DAX measures are written for star schema models; solver patterns include algorithmic update rules, iteration guards, and audit logging fields. This artifact also requires that all ingestion, transformation and distribution components implement idempotent processing (checksum first), persistent immutable audit trails per employee per fiscal year, and documented exception handling. The intended audience includes Payroll Controllers, Tax Leads, HR Onboarding teams, Finance approvers, IT integration engineers and external auditors; adapt only numeric values via <code>config</code> and never change governance text without recorded Board or CFO approval. This section must be treated as the single authoritative baseline and any deviation must be captured as a formal policy change in <code>releases/</code> with an approver signature, change rationale, and a regression test demonstrating no unintended delta in calculation outputs. For operational clarity, include a short summary table of the change (field, old_value, new_value, effective_date, verifier_id) with each release. Add a mandatory "regulatory check" step to your release checklist that requires a copy of the applicable statutory text (scanned PDF) and recorded verifier comments referencing exact article numbers. This ensures the blueprint remains both machine-executable and audit-grade for external review. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Governance & auditability (expanded ruleset and controls)</strong><br>Governance must treat monthly withholdings as provisional estimates to be reconciled at year end or upon termination; legal finality is declared only by an issued reconciled statement and associated SSP or audited recon_pdf. All prior employer withholding credits must be applied only when accompanied by an authenticated bukti potong (Form 1721-A1/A2) file; each bukti potong must be stored with a <code>checksum_sha256</code>, <code>uploaded_by</code>, <code>upload_timestamp</code>, and <code>source_contact</code>. Changes to applied credits, TER fallbacks or manual overrides must create an immutable <code>override_record</code> that records actor id, approver id, timestamp, business rationale, numeric deltas, and links to evidence. Maintain an immutable <code>audit_trail</code> package per employee and fiscal year holding each input file, calculation workbook (with cell references and named ranges), SSP/proof of transfer, emails and signed memos; each package must be exported with a manifest file containing checksums and stored under DMS path <code>DMS:/audit_packages/{fiscal_year}/{employee_id}/manifest_{employee_id}_{year}.json</code>. All templates and scripts must use semantic file versioning <code>file_v{major}.{minor}_{YYYYMMDD}</code> and include diffs and approver signatures in the release folder. In addition, require a minimal set of governance metadata for each run: <code>config_version</code>, <code>run_user</code>, <code>run_timestamp</code>, <code>run_id</code>, <code>env</code> (staging/prod) and <code>rerun_of</code> (if any) so auditors can reconstruct any prior result. For any post-production correction, append a remediation note to the audit package and link to the CI issue and approval artifacts documenting why the correction was necessary, who authorized it, and confirmation that the change was included in the next release bundle. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Key definitions (operational clarity & unambiguous reference)</strong><br>Define operational terms precisely to avoid inconsistent interpretations in automation or audits: PKP — Penghasilan Kena Pajak: annual taxable income after allowable deductions (explicitly excluding pre-tax salary sacrifice items mapped to <code>pre_tax</code> codes). PTKP — Penghasilan Tidak Kena Pajak: non-taxable allowance keyed by tax_status_code / filing status and effective date. Biaya Jabatan — statutory cost-of-work deduction equal to 5% of eligible earnings subject to an annual plafon; compute prorata per employer period by inclusive months. TER — Tarif Efektif Rata-rata used as a planning parameter for monthly withholding when prior credit documentation is missing; store TER source and effective date. Prev_employer_entry — canonical DB record containing prior employer gross, withheld tax, evidence path(s), checksum, parse metadata and verification status. Manifest — machine-readable audit package enumerating files, checksums, statuses, and approver signatures. Recon_pdf — final human-readable reconciliation and resolution package that references the manifest. Each definition must be implemented as a typed field in the canonical <code>config</code> and data model to ensure consistent usage across PQ, DAX, VBA and API integrations. Additionally, publish a short glossary table in the policy repo mapping field names, internal column names, and example values so that engineers and auditors can reconcile naming differences across tools and modules. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Core data model (relational canonical schema with implementation notes)</strong><br>Design the schema for use by PQ transforms and downstream BI as a normalized star schema: <code>dim_employee (employee_id PK, legal_name, preferred_name, npwp_normalized, npwp_status, tax_status_code, residency_status, ptkp_code, employee_grade, hire_date, termination_date, contact_email)</code>; <code>fact_payroll (trx_id, employee_id FK, employer_id, payroll_batch_id, pay_period_start, pay_period_end, pay_date, gross_amount, basic_salary, allowances_json, bonus_amount, pension_employee, pension_employer, taxable_benefit_breakdown_json, tax_withheld, payment_type, source_file_id, currency_code, fx_rate_info_json)</code>; <code>prev_employer_entry (entry_id, employee_id, prev_employer_name, prev_employer_npwp, period_start, period_end, months_in_period, credit_prev_gross, credit_prev_tax, file_path, checksum_sha256, upload_date, uploaded_by, parsed_by, parse_confidence, verification_status, verified_by, verified_date, verification_notes, override_reason)</code>; <code>config</code> as single source for regulatory parameters and business policy tables; <code>audit_trail</code> for every file/action with manifest joins. Implementation notes: enforce typed columns, JSON columns for allowances only where unavoidable, index <code>employee_id</code> and <code>checksum_sha256</code>, and maintain <code>parser_version</code> and <code>transform_version</code> columns for reproducibility. Provide migration scripts for adding new fields with zero-impact default logic and clearly documented backwards compatibility rules for older audit packages; these scripts must include a dry-run mode and produce a delta report for review prior to execution in production. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Field-level validation logic (implementable checks, error states, and remediation)</strong><br>Implement validation rules early in data ingestion and persist validation results to <code>validation_log</code> for traceability. Examples: NPWP normalization rule — <code>npwp_normalized = REGEX_REPLACE(npwp_raw, &quot;[^0-9]&quot;, &quot;&quot;)</code>; require <code>LEN(npwp_normalized) == 15</code> for <code>npwp_required</code> employees; violation status = <code>npwp_invalid</code>; action = block final posting and create exception ticket assigned to HR with SLA 3 business days. Inclusive months calculation formula — <code>months_in_period = (YEAR(end)-YEAR(start))*12 + (MONTH(end)-MONTH(start)) + 1</code>. Enforce <code>SUM(months_in_period across prev entries + current_year) &lt;= 12</code>; if greater, create <code>overlap_exception</code> requiring manager approval recorded in <code>audit_trail</code>. Credit sanity check — <code>credit_prev_tax &lt;= credit_prev_gross</code>; if not, set <code>verification_status = manual_review_required</code>, require bukti potong file and verifier note with reason code. Monetary bounds — require all monetary fields <code>&gt;= 0</code>; negative adjustments must include <code>adjustment_reason</code>, <code>adjustment_author</code>, <code>adjustment_approver</code>. FX lines must carry <code>fx_rate</code>, <code>fx_source</code>, <code>fx_rate_date</code>, <code>converted_amount</code>; compute <code>fx_variance = converted_amount - (original_amount * fx_rate)</code>; if <code>ABS(fx_variance) &gt; fx_variance_threshold</code> flag <code>tax_counsel_review</code>. File ingestion: compute SHA256 and if checksum exists update metadata instead of creating duplicate records. Record <code>parser_version</code>, <code>parse_time_ms</code>, <code>parse_confidence</code> for each automatic parse operation. Store exception counters and median time to resolve as KPIs reported weekly to Payroll leadership. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>End-to-end operational checklist (detailed steps, owner tasks & SLAs)</strong><br>Define concrete runbook steps with owners and SLAs for each operational milestone: Onboarding (HR) Day 0–3 — HR must request prior bukti potong and NPWP, provision secure upload link, verify receipt and create <code>prev_employer_entry</code> record; if 1721 absent set <code>fallback_TER_flag</code> and notify employee; SLA: acknowledge request within ≤3 business days. Exit payroll (prior employer) Day 0–7 — prior employer calculates final pay including prorata PTKP and pesangon, issues 1721-A1/A2, and stores file plus checksum and transfer proof; SLA: 1721 issuance within ≤7 business days. New employer onboarding Day 0–3 — new employer requests bukti potong, verifies NPWP and PTKP status, uploads prev entry and marks verification outcome; SLA: verification within ≤3 business days. Monthly payroll — snapshot <code>config_version</code> in payroll metadata, compute monthly withholdings using TER or layered algorithm, record <code>withholding_reason</code> per line, execute exceptions export. December job / Exit reconciliation — aggregate incomes across prev entries and current employer, compute annual PKP and annual PPh, reconcile prior withholdings generating <code>recon_pdf</code> and <code>manifest</code>, and instruct finance for refund or additional withholding; SLA: adjustments applied within the next payroll cycle after reconciliation. Ensure runbooks contain command snippets, file paths, and contact lists, with a triage matrix indicating which exceptions can be auto-resolved and which require manager approval. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Detailed numeric worked example (spreadsheet ready with explicit named ranges and formulas)</strong><br>This worked example is intentionally formula-driven and uses named ranges so it can be copied directly into configuration workbooks. Assumptions: tax status TK/0; <code>PTKP = 54,000,000</code>; <code>biaya_jabatan_plafon = 6,000,000</code>. Company X Jan–Jun: <code>monthly_gross = 15,000,000</code>; <code>pension_monthly = 100,000</code> → <code>total_gross_X = 15,000,000 * 6 = 90,000,000</code>. Company Y Jul–Dec: <code>monthly_gross = 17,000,000</code>; <code>pension_monthly = 150,000</code>; <code>bonus_Nov = 10,000,000</code> → <code>total_gross_Y = (17,000,000 * 6) + 10,000,000 = 112,000,000</code>. Combined: <code>rng_TotalGross = total_gross_X + total_gross_Y = 202,000,000</code>. <code>rng_TotalPension = (100,000 * 6) + (150,000 * 6) = 1,500,000</code>. <code>rng_BiayaRaw = 0.05 * rng_TotalGross = 10,100,000</code>; <code>rng_Biaya = MIN(rng_BiayaRaw, rng_BiayaPlafon)</code> → <code>MIN(10,100,000, 6,000,000) = 6,000,000</code>. Allocation per employer uses proportional formula: <code>biaya_X = rng_Biaya * (total_gross_X / rng_TotalGross)</code> etc. Net taxable income formula <code>rng_NetTaxable = rng_TotalGross - rng_TotalPension - rng_Biaya</code>. PKP <code>rng_PKP = MAX(0, rng_NetTaxable - rng_PTKP)</code>. Implement progressive tax using a bands table and SUMX formula rows in spreadsheet: <code>tax_for_band_i = MAX(0, MIN(rng_PKP, upper_i) - lower_i) * rate_i</code>. This example yields annual_tax = 15,075,000 and shows withheld totals to demonstrate a shortage and the reconciliation balance; include cell references to <code>tbl_ProgressiveBands</code> and named ranges for portability. Provide an explicit "paste area" in the workbook with named ranges <code>rng_TotalGross</code>, <code>rng_BiayaPlafon</code>, <code>rng_PTKP</code>, and keep a verification sheet that recomputes each intermediate step with checksums to ensure formula integrity when copied between systems. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Per-month sample table (detailed, paste-ready with named range references and formula patterns)</strong><br>Provide a month-by-month ledger that operators can paste into <code>monthly_withholding</code> sheet: columns <code>Month | Employer | Gross | Withheld | Cumulative_Withheld | Source_File | Payslip_Link</code>. Example rows: <code>Jan | X | =rng_X_MonthlyGross | =Gross * VLOOKUP(Employer, tbl_TER, 2, FALSE)</code>; <code>Feb | X | =...</code> continuing through Dec. For bonus rows indicate <code>Payment_Type = Bonus</code> and withhold using specific bonus tax rate or applicable TER override. Cumulative formula uses <code>=SUM($D$2:Dn)</code> so that monthly accruals are transparent. Ensure each row contains <code>Source_File</code> and <code>Payslip_Link</code> mapping to <code>fact_payroll.source_file_id</code> and DMS location; these links are used by auditors to validate per-month withheld amounts. Include notes that rounding rules should be applied according to <code>config.rounding_rule</code> and that the reconciliation engine must use exact raw numbers (not rounded intermediate) for annual aggregation to avoid small rounding differences at settlement. Provide a reconciliation tolerance cell and a scripted check that raises an exception if <code>ABS(december_balance) &gt; config.tolerance</code>. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Gross-up policy & spreadsheet solver (operational algorithm, logging & approval gates)</strong><br>Gross-up is a controlled benefit and must be implemented with rigorous approval flows and auditable solver logs. Policy: gross-up allowed only when documented business case and Finance Director approval exist, and only when <code>computed_gross_up_amount &gt; config.gross_up_cap</code> the transaction requires an additional CFO signoff. Solver pattern for spreadsheets: create a solver table with columns <code>iteration | Ak (trial gross) | biaya_jabatan_temp | annual_tax_temp | net_received | error</code>. Initialize <code>A0 = target_net * TER / (1 − TER)</code> as a pragmatic guess; iterate using <code>Ak+1 = Ak + lr * error</code> with <code>lr = 0.5</code> default, recomputing <code>biaya_jabatan_temp = MIN(0.05 * Ak, biaya_plafon)</code>, <code>annual_tax_temp</code> via banded calculation, and <code>net_received = Ak - annual_tax_temp - employer_social_contribs</code> depending on local law. Terminate when <code>ABS(error) &lt; 1</code> (IDR 1) or <code>iterations &gt; 25</code>. Persist <code>gross_up_log</code> with <code>iterations</code>, <code>convergence_flag</code>, <code>runtime_ms</code>, <code>user_id</code>, <code>approver</code>, <code>solver_version</code>. If <code>Ak &gt; config.gross_up_cap</code> automatically flag for additional approver and do not post until signature recorded in <code>audit_trail</code>. Keep solver rows for audit and include a checksum of final solver table in the manifest. Ensure solver implementation is idempotent and provides a replayable seed to reproduce results for auditors. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Pesangon, THR, bonus & special incomes — legal mapping & treatment rules</strong><br>Special types of payments require explicit legal citations and treatment rules: Pesangon — determine statutory exemptions according to the applicable PMK and compute <code>taxable_portion = gross_payment − statutory_exemption</code>; include clear citation string in the manifest and require <code>TaxLead</code> sign-off for non-routine calculations. THR and bonuses — treat as income in the period of payment from the paying employer; include in cumulative PKP calculations for the year. For cases where prior employer cannot issue 1721 (insolvency or dissolution), capture registry evidence (bankruptcy registrar, notary report), mark prev_entry <code>unverifiable = true</code>, advise employee on claiming via SPT, and record the pathway in <code>case_log</code>. For cross-border assignments or double taxation treaty considerations, mark case for <code>TaxLead</code> and capture treaty articles, with explicit currency conversion policy tied to <code>config.fx_policy</code>. For each special income, attach the legal citation and the approver signature within the manifest for auditability, and create a secondary approvals table for cross-checking nonstandard tax treatments. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Power Query (PQ) cookbook — canonical applied steps, error handling & test artifacts</strong><br>Power Query pipelines must be modular, well-commented and reproducible. Canonical query names: <code>raw_payroll</code>, <code>raw_prev_1721</code>, <code>employee_master</code>. Standard applied steps (Advanced Editor ready): <code>01_SourceFolder</code> (enumerate file set by naming pattern), <code>02_UseFirstRowAsHeaders</code>, <code>03_RenameColumns_ToCanonical</code> (use a mapping table in repo), <code>04_ChangeTypes</code> (strict), <code>05_Calc_Months</code> (inclusive month count), <code>06_Prorata_Plafon</code> (prorata formula for biaya_jabatan), <code>07_Calc_CostOfWork</code>, <code>08_ParsePrev1721</code> (extract credit_prev_gross and credit_prev_tax via deterministic parsing), <code>09_Flag_ManualReview</code> (parse_confidence threshold), <code>10_GroupBy_Employee</code>, <code>11_Export_Exceptions</code>. Keep <code>pq_tests/good</code> and <code>pq_tests/corrupt</code> sample files in repo. Nightly refresh must produce metrics: <code>last_refresh_time</code>, <code>records_processed</code>, <code>exceptions_count</code>, <code>parser_version</code>. Tests must be part of CI and fail builds exceeding <code>exceptions_threshold</code>. Persist <code>Applied Step</code> names and comments as part of code review to preserve auditability. Ensure advanced editor includes a top header with <code>parser_version</code> and <code>config_source</code> constants to enable deterministic transforms across environments. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>M expression & Advanced Editor guidance (audit comments & defensive coding)</strong><br>In every PQ Advanced Editor file include a top constant block with <code>parser_version</code>, <code>plafon_constant</code>, and <code>config_source</code> to enable reproducible transforms. Use explicit inline comments such as <code>// Calc_Months: inclusive month count; required for prorata PTKP</code> and <code>// Calc_CostOfWork: compute 5% and cap by prorata_plafon; keep intermediate columns for audit</code>. Use <code>try ... otherwise</code> patterns to isolate corrupted or unexpected rows into a separate exceptions table with a <code>parse_errors</code> column capturing the exception message and stack. Deduplicate prev employer entries by <code>checksum_sha256</code> prior to aggregation. When parsing PDFs or XML, capture <code>parse_confidence</code> (0–1) and threshold at <code>0.85</code> (recommended) to automatically flag manual review. Store <code>parser_version</code> as a hardcoded constant at top and increment for each change; record changes in <code>version_control</code>. For any top-level schema changes, include a compatibility shim step that records legacy column mappings to ensure older audit packages can still be validated. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Macros & safe automation governance (controls to prevent unsigned macros & regression)</strong><br>Macro governance requires macros to be code-signed, stored in a versioned central workbook and released only via VCS with release notes and regression test evidence. Macro design principles: idempotent ingest (checksum checks), macro_log entries (timestamp, user, function, input_checksum, status, error), structured rollback functions for each mutating operation, and approval gating for actions that change posted payroll or gross-up above thresholds. Maintain <code>macro_tests</code> dataset with representative inputs and expected outputs for regression automation. The macro repository must include <code>vba_macros_readme.md</code> listing functions: <code>ImportFiles</code>, <code>ValidateRows</code>, <code>ComputeTaxes</code>, <code>GrossUpSolver</code>, <code>ExportPDFs</code>, <code>NotifyStakeholders</code> along with preconditions, expected runtime and required permissions. Perform signature verification during build and refuse macro execution in production if signature missing. Include code review checklist items for macros: security scan results, unit test coverage, and a smoke-run in staging with sample audit package creation. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Exporting, emailing & delivery rules (robustness & observability requirements)</strong><br>Export rules mandate that every recon_pdf embeds the <code>manifest_checksum</code> in the footer and includes the manifest JSON path and DMS link in the document metadata. The PDF generator must compute the PDF checksum and store it alongside the manifest. Emailing rules: queue personalized messages that include recon_pdf & manifest links; use exponential retry/backoff for transient send failures with a recorded <code>send_attempts</code> count; flag <code>email_failed</code> after <code>N</code> retries and escalate to Payroll Lead. For large batches prefer batched sending with per-employee merge tokens to prevent rate limits; log delivery, open and bounce metadata persisted to <code>communication_log</code>. All communications templates must be stored and versioned in <code>email_templates</code> so that legal reviews can reference the exact wording used for notifications. Maintain a retention policy for sent communications consistent with the audit package retention. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>DAX modeling patterns (star schema measures, debug measures and performance notes)</strong><br>Implement DAX in a star schema with <code>dim_progressive_bands</code> as a static table containing <code>lower</code>, <code>upper</code>, <code>rate</code> and a band index. Copy-ready measures: <code>TotalGross = SUM(fact_payroll[GrossAmount])</code>; <code>AnnualGross</code> filtered by employee and fiscal year; <code>BiayaJabatan = MIN(0.05 * [AnnualGross], SELECTEDVALUE(dim_config[BiayaPlafon]))</code>; <code>PKP = MAX(0, [AnnualGross] - [BiayaJabatan] - SELECTEDVALUE(dim_config[PTKP]))</code>; <code>AnnualTax = SUMX(dim_progressive_bands, MAX(0, MIN([PKP], dim_progressive_bands[upper]) - dim_progressive_bands[lower]) * dim_progressive_bands[rate])</code>; <code>TotalWithheld = SUM(fact_payroll[TaxWithheld])</code>; <code>Balance = [AnnualTax] - [TotalWithheld]</code>. Publish debug measures like <code>Debug_Biaya</code> and <code>Debug_PKP</code> for QA. Performance notes: avoid row-by-row iterative computations in DAX; precompute heavy logic in PQ or backend; keep band table small and stable. Provide sample pbix measure definitions in <code>dax_measures_documentation.md</code> and recommend refresh schedules aligned with reconciliation windows. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>UAT & test plan (exhaustive template, pass criteria & artifacts)</strong><br>UAT must use a templated test case format: <code>Test_ID | Title | Precondition | Steps | Expected | Actual | Status | Owner | Notes</code>. Include seed scenarios covering typical, edge and negative cases. Representative TCs include: TC001 mid-year move without bonus; TC002 mid-year move with final settlement and later bonus; TC003 pesangon partial exemption; TC004 missing 1721 fallback and TER application; TC005 prorata biaya_jabatan boundary behavior; TC006 invalid NPWP blocking; TC007 FX conversion and variance handling; TC008 multiple moves (>2 employers) and dedup logic; TC009 gross-up convergence and logging; TC010 parser failure injection and exception routing. Acceptance criteria: numeric results within rounding tolerance defined in <code>config.rounding_rule</code>, recon_pdf and manifest complete and linkable, audit files present, and automated regression tests passing. Store UAT artifacts in <code>uat_results/{run_id}</code> and require sign-off from Payroll Manager and QA with recorded digital signatures. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Regression testing & CI integration (automation & thresholds)</strong><br>Maintain a representative seed dataset (~30 records) covering all edge cases used by CI; store golden datasets and expected outputs. CI pipeline steps: on PQ, script or config changes, run PQ transforms in a CI environment to produce a candidate workbook; execute comparison scripts against golden dataset, produce PASS/FAIL and diffs in CSV format; block merges if diffs exceed tolerance thresholds. Publish <code>ci_reports/{build_tag}</code> including <code>exceptions_count</code>, <code>parse_failures</code>, <code>regression_diffs</code> and <code>coverage</code>. Integrate CI with Slack/email alerts for failing builds with owners and remediation steps. Periodically rotate seed records and update golden datasets to reflect regulatory or policy changes; require a CCB approval for any golden dataset update. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Exception handling & escalation playbooks (timelines, owners & automation)</strong><br>Define deterministic escalation playbooks for frequent exception types with explicit timelines and owners. Missing prior bukti potong: Day0 auto email with secure upload link; Day2 automated reminder; Day3 escalate to prior employer HRBP and set <code>case_status=&#x27;followup&#x27;</code>; Day7 escalate to Payroll Manager cc Finance; Day14 advise employee to claim via SPT and apply <code>TER</code> fallback; Day30 close or escalate to legal if unresolved. Parser failure: immediate insertion into <code>manual_review_queue</code> with SLA 3 business days; if unresolved after SLA escalate to Parser Owner with a root cause request. For every action log actor, timestamp, message content and attachments in <code>case_log</code>. Implement automated notifications and ownership reassignment when SLAs are breached; maintain a dashboard of open exceptions and average resolution time by category. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Audit package manifest schema (machine-readable JSON, checksum rules & storage)</strong><br>Manifest is the single source of truth for audit artifacts and must be machine-readable JSON with strict fields: <code>manifest_id</code>, <code>employee_id</code>, <code>fiscal_year</code>, <code>files</code> (array of objects: <code>file_name</code>, <code>file_type</code>, <code>checksum</code>, <code>uploaded_by</code>, <code>upload_date</code>, <code>verification_status</code>), <code>calculation_workbook_path</code>, <code>recon_pdf_path</code>, <code>prepared_by</code>, <code>prepared_date</code>, <code>approval_signature</code>, <code>manifest_checksum</code>, <code>notes</code>. The file name convention: <code>manifest_{employee_id}_{year}.json</code> and store alongside files under <code>DMS:/audit_packages/{fiscal_year}/{employee_id}/</code>. The manifest generation process must compute <code>manifest_checksum</code> as SHA256 of ordered file list and store that checksum in PDF footer and DMS metadata. Quarterly immutability & restore tests should verify manifest integrity and file accessibility; include automated restore verification scripts as part of the quarterly maintenance runbook. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Retention, legal & dispute workflows (timelines and packet assembly)</strong><br>Retention baseline is 5 years; recommend 10 years for regulated sectors or where disputes are likely. The DMS must support legal holds and immutable retention. Dispute workflow: on dispute initiation assemble a packet within 5 business days including manifest, calculation workbook with cell references, payslips, bukti potong, SSPs and email trails; convene Payroll+Tax+HR meeting within 7 business days; produce dispute memo with proposed remedial action; if unresolved escalate to external counsel and tax authority with CFO signoff within 30 calendar days. Archive dispute artifacts in <code>case_log</code> and tag with <code>legal_hold</code> flag if required. Maintain a dispute SLA dashboard showing time to packet assembly and resolution outcomes, and require monthly review of open disputes by management. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Security & access controls (technical controls & least privilege)</strong><br>Apply defense in depth: encryption at rest for DMS objects, TLS v1.2+ for transit, RBAC with least privilege applied to data stores and PQ service accounts. Segregate duties: Payroll Operator (operational access), Approver (read & sign), Auditor (read-only with special access to manifests), IT Admin (infrastructure). Implement append-only <code>audit_trail</code> tables with cryptographic signer fields for approvals. Secrets must be stored in a managed vault with rotation policy and audit logs; restrict SQL query execution to least-privilege DB accounts and enforce parameterized queries. Integrate monitoring alerts with SIEM and create watch rules for anomalous patterns such as spikes in gross-up approvals, parser_fail_rate surges, or bulk manifest deletions. Regularly perform penetration testing and role review audits and document remediation steps in the risk register. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Operational SLAs & KPI table (copyable with required telemetry)</strong><br>Provide a compact SLA & KPI mapping used by operations dashboards: <code>Activity | SLA | KPI</code>. Examples: <code>1721 issuance by prior employer | ≤ 7 business days | % issued ≤7d</code>; <code>Verification &amp; upload by new employer | ≤ 3 business days | % verified ≤3d</code>; <code>Refund processed by finance | ≤ 14 business days post recon | avg payout days</code>; <code>UAT pass rate | — | ≥95%</code>; <code>Auto-parse rate (1721 parser) | — | ≥90%</code>. Implement instrumentation to compute these KPIs nightly and store historical trend data for RCA. Define alert thresholds (e.g., % issued ≤7d drops below 90% triggers PagerDuty to Payroll Lead). Provide a recommended dashboard layout and sample queries to populate each KPI widget. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Communications templates (copy-ready, templated fields & legal language)</strong><br>Store all communications templates in <code>email_templates</code> and version them. Example 1721 request email template: <code>Subject: Request for Form 1721 – {EmployeeName}</code>; <code>Body: Dear {PriorEmployerContact}, please upload Form 1721 for {EmployeeName} (NPWP: {NPWP_masked}) for period {period}. Secure upload link: {secure_upload_link}. SLA: 7 business days from receipt. Contact: {PayrollLeadEmail}</code>. Reconciliation notice template must include a human-friendly summary of the balance, link to recon_pdf & manifest, a sign_url for acceptance, dispute contact details and timeline (e.g., 14 days to dispute). Keep legal counsel on the template approval loop, store signatures used for notices, and preserve sent copies in <code>communication_log</code> for audit. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Reconciliation PDF required layout (fields, order & mandatory metadata)</strong><br>Recon_pdf must follow a standardized layout to ensure auditors and employees can quickly locate evidence: Header with employer logo, payroll contact and fiscal year; Section A — employee details (mask NPWP as configured); Section B — income by employer rows <code>period_start | period_end | gross | pension | cost_of_work | taxable_income_period</code> with source file links; Section C — consolidation summary showing <code>annual_gross</code>, <code>biaya_jabatan</code>, <code>total_pension</code>, <code>pkp</code>, <code>annual_tax</code> with banded breakdown and cell refs to the calculation workbook; Section D — monthly withholdings with payslip & SSP links; Section E — balance and proposed action with GL mapping referenced; Section F — attachments, approver signatures and signature timestamps. Footer must contain <code>manifest_id</code>, <code>manifest_checksum</code> and optional QR code pointing to DMS manifest; include PDF metadata with <code>manifest_path</code> and <code>prepared_by</code>. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Edge cases handling (concise operational rules & examples)</strong><br>Provide deterministic rules for common edge cases to reduce manual variance: Multiple moves — deduplicate overlapping prev entries by checksum and inclusive date rules, aggregate annual_gross and allocate biaya_jabatan proportionally by employer gross share, persist per-employer allocation for audit. Employer bankruptcy — set <code>prev_entry.unverifiable = true</code>, capture public registry proof, mark employee advised to claim via SPT and record steps in <code>case_log</code>. Late 1721 after refund — prepare amendment reconciliation, compute reclaim or offset and document employee consent in <code>audit_trail</code>. Salary sacrifice — map codes to <code>pre_tax</code> classification and exclude from PKP where law requires; store legal citation and approver signoff. For cross-currency items capture FX policy used and attach conversion rationale to manifest. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Implementation 90-day plan (owners, milestones & deliverables with checklists)</strong><br>Provide a phased delivery plan with owners and deliverables: 0–14 days — governance updates, onboarding checklist changes, design template_reconciliation skeleton, freeze initial config and scope; deliverable: <code>template_reconciliation.xlsx v0.1</code> and <code>governance_signoff</code> record. 15–30 days — implement PQ pipelines, parser v0 to staging, exceptions routing and checksum idempotency; deliverable: <code>pq_pipeline_v0.1</code> and <code>parser_test_results</code>. 31–45 days — build DAX measures, QA environment, unit tests for formulas; deliverable: <code>pbix_v0.1</code> and unit test logs. 46–60 days — stabilize parser, HCM API integration for prev entries, alerts and monitoring; deliverable: API integration specs and monitoring dashboards. 61–75 days — UAT with 50 sample employees including edge cases, tune TER & overrides; deliverable: UAT report and signoffs. 76–90 days — production deploy, training, automated monthly reconciliations and KPI dashboard, post-deploy audit & signoff; deliverable: production artifacts, training recordings and final approvals. Assign owners in a project tracker and attach checklists to each milestone. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Deliverables (repo file list, expected structure & usage guidance)</strong><br>Standard set of repository deliverables required for operational handover: <code>template_reconciliation.xlsx</code> (contains config, employer_input, consolidation, monthly_withholding, reconciliation, audit_trail, tests and version_control sheets — this workbook is the canonical operator artifact); <code>pq_transform_documentation.md</code> (Applied Steps, M snippets, mapping); <code>dax_measures_documentation.md</code> (measure descriptors & debug cards); <code>vba_macros_readme.md</code> (macro names, preconditions, signing & release process); <code>email_templates.docx</code> (1721 requests, reminders, recon notices); <code>uat_test_plan.xlsx</code> with seed data and expected results; <code>audit_manifest_template.csv</code> and sample manifests; <code>security_policy_snippet.md</code> for encryption & vault usage; <code>/templates/payslips/</code> containing HRIS-style templates for simple, detailed and mobile formats. Each deliverable must include a readme with release checklist and approver signatures, and be tagged in <code>releases/{tag}</code> in version control. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Operational playbooks (copy-ready runbooks with command snippets and screenshots)</strong><br>Provide executable step sequences for common operations: Missing 1721 onboarding — auto email generation using 1721 request template → 48-hour reminder trigger → HR phone follow-up → escalate to prior employer HR manager → record <code>case_log</code> action entries and timeline → advise SPT claim after 14 days & apply TER fallback. December reconciliation — freeze config (snapshot <code>config_version</code>) → run PQ refresh → run consolidation and generate <code>exceptions.csv</code> → exceptions triage and manual fixes → QA signoff → apply adjustments and record GL entries using <code>config.gl_map</code> → archive audit packages and publish recon_pdf & manifest links to employees. Include CLI or GUI command snippets, screenshots for PQ refresh, and sample SQL for aggregation with rollback instructions and emergency contacts. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Audit checklist (printer-friendly, ordered verification steps)</strong><br>Provide an auditor checklist to be printed and ticked:<br>1. prior bukti potong present and checksum verified;<br>2. monthly payslips linked and accessible;<br>3. SSP/payment proofs for additional withholdings;<br>4. calculation workbook with explicit cell references and approver signature;<br>5. proof of refund transfer and employee acknowledgment recorded;<br>6. manifest.csv listing file paths and checksums and manifest checksum verified;<br>7. gross-up logs and approvals for any gross-up transaction;<br>8. parser logs and parser_version recorded in manifest;<br>9. retention metadata and legal hold status if applicable. Each checklist line must map to a DMS path and manifest entry to enable cross-verification. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Governance policy snippets (copy-ready legal language and internal rules)</strong><br>Provide short copy-ready governance lines for insertion into employee handbooks or SOPs: <code>&quot;The company will issue Form 1721-A1/A2 for employees terminating employment within 7 business days from termination date. All documents related to withholding and reconciliation shall be retained for a minimum of 5 years.&quot;</code> and <code>&quot;All gross-up requests require Finance Director approval; calculations and justification must be archived in audit_trail before payroll posting.&quot;</code> These snippets must be stored in <code>policy_snippets.md</code> and be subject to legal and tax counsel approval before publication; maintain a change log for policy text and approver signatures. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Monitoring & CI/CD recommendations (metrics, dashboards & alerts)</strong><br>Operational monitoring plan: Nightly PQ refresh metrics — <code>exceptions_count</code>, <code>parser_fail_rate</code>, <code>last_refresh_time</code> and record <code>parser_version</code>; CI pipeline for PQ and config changes that runs regression tests and blocks merges if diffs exceed tolerance; BI dashboard surfaces exceptions trend, average days to 1721 issuance, auto-parse rate, UAT pass rate, and reconciliation variance histogram. Implement alerting: when <code>exceptions_count</code> surpasses threshold send automated incidents to owners; weekly RCA for recurring exceptions with owners and remediation actions logged. Archive historical metrics for trend analysis and capacity planning; maintain metrics retention for at least 12 months for trend analysis. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>One-row employee narrative template (structured export format & example)</strong><br>Provide a single line summary record for exports and controllers: fields <code>EmployeeID | Name | Periods (employer + dates) | AnnualGross | BiayaJabatanAllocated | PensionTotal | PKP | AnnualTax | TotalWithheld | Balance | Action | ReconPDFPath | Notes</code>. Example line must include <code>manifest_id</code>, approver signatures, and a brief notes field describing overrides or unusual items. This one-row export is intended for quick executive review and must link to the full reconciliation folder; include a CSV export template and an explanation of field formats and allowed values to ensure consistent ingestion by downstream accounting or GL posting tools. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Appendix A — formula cheat sheet (spreadsheet ready with named ranges and examples)</strong><br>Provide exact spreadsheet formulas referencing named ranges: <code>total_gross = monthly_gross * months_in_period</code>; <code>total_pension = pension_monthly * months_in_period</code>; <code>prorata_plafon = (plafon_annual / 12) * months_in_period</code>; <code>cost_of_work = MIN(0.05 * total_gross, prorata_plafon)</code>; <code>net_income_period = total_gross - total_pension - cost_of_work</code>; <code>annual_pkp = MAX(0, SUM(net_income_period_range) - ptkp_annual)</code>; <code>tax_for_band_i = MAX(0, MIN(annual_pkp, upper_i) - lower_i) * rate_i</code>; <code>annual_tax = SUM(tax_for_band_i)</code>; <code>monthly_accrual = ROUND(annual_tax / 12, 0)</code>; <code>december_balance = annual_tax - SUM(withheld_jan_to_nov)</code>; <code>gross_up_initial_guess = target_net * TER / (1 - TER)</code>. Recommend named ranges: <code>rng_TotalGross</code>, <code>rng_TotalPension</code>, <code>rng_BiayaPlafon</code>, <code>rng_PTKP</code>, <code>tbl_ProgressiveBands</code>. Provide worked examples and cell references for auditors. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Appendix B — quick operational reminders (concise operator rules)</strong><br>Keep short operator reminders for day-to-day work: PQ — descriptive applied step names and comments; include <code>parser_version</code> metadata; always keep <code>pq_tests</code> sample inputs; Macros — all must be code signed with <code>macro_log</code> entries; DAX — maintain progressive bands in <code>dim_progressive_bands</code> and expose debug measures for QA; Training — store recordings, replay materials and signoffs in <code>version_control/training/</code>. Include a small checklist for daily runs: PQ refresh success, exceptions_count = 0 or triaged, nightly notifications sent, and manifests created for any reconciliations processed. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Appendix C — SQL patterns & security notes (parameterization & examples)</strong><br>Provide safe SQL design patterns and anti-injection rules: use parameterized queries stored under <code>version_control/sql/</code> with names and versioning, avoid dynamic SQL concatenation, limit exposed privileges to least-privilege DB roles, and use read-only accounts for analyst views. Example pattern description: SELECT employee_id, SUM(gross_amount) AS annual_gross FROM fact_payroll WHERE fiscal_year = @fiscal_year GROUP BY employee_id then LEFT JOIN prev_employer_credits ON employee_id. Store query diffs and approvals; use prepared statements and bind variables in application code. Log query access and alert on anomalous large scans; include query explain plans in performance reviews. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Appendix D — reconciliation evidence fields (manifest checklist & required items)</strong><br>Manifest checklist required fields: <code>manifest_id</code>; employee snapshot (name, NPWP masked/full per policy); per-employer file names and checksums; calculation snapshot with cell refs and workbook path; monthly withholding table with payslip & SSP links; bank transfer proof for refunds; approver signatures and timestamps; exceptions list and resolution notes. Store manifest checksum and DMS link in PDF footer. Include example CSV manifest template with column definitions and sample rows as reference. Ensure each item has a DMS URI and a recorded uploader identity for chain of custody; require a final sign-off step by Payroll Manager before publishing. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Risk register (summary, risk owner & mitigations, update cadence)</strong><br>Create a living risk register with owner and mitigation status: Risk — Missing prior bukti potong (owner HR) — Mitigation: enforce upload during onboarding, automated reminders, SLA escalation, TER fallback with exception flag; Risk — Parser failures (owner IT/Parser) — Mitigation: confidence thresholds, manual review queue, maintain parser_version and test corpus; Risk — Gross-up abuse (owner Finance) — Mitigation: gross_up_cap, multi-level approvals, audit gross_up_log; Risk — FX volatility (owner Treasury) — Mitigation: fx variance threshold and counsel review when exceeded. Update the risk register monthly and include in BI dashboard; retain historical mitigation outcomes and residual risk scores for executive review. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>GL mapping recommendations (sample GL codes and journaling rules)</strong><br>Provide recommended GL mapping keys that must be stored in <code>config.gl_map</code>: <code>Employee tax withheld (liability): 2100.01 – PPh21 Payable</code>; <code>Employer gross-up expense: 6100.10 – Employee Benefits Expense (gross-up)</code>; <code>Refund to employee: debit 2100.01 / credit 1010.01 (bank)</code>; <code>Unapplied credits suspense: 2100.99</code>. Include example journal templates: Debit <code>2100.01</code> / Credit <code>1010.01</code> for refund; Debit <code>6100.10</code> / Credit <code>2100.01</code> for gross-up expense with payable reduction. Link GL mapping to reconciliation actions so automated posting scripts can apply mapping deterministically; include sample export files for ERP integration. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Runbook & schedule (example operational windows, rollback & contacts)</strong><br>Define scheduled run windows and rollback procedures: Nightly PQ refresh at <code>01:30 local</code> (produce exceptions CSV and summary to analysts); Weekly staging dry-run Friday <code>09:00</code> for QA; Monthly production run (December job) with window <code>02:00–06:00</code>, produce reconciliation reports by <code>10:00</code> and require Finance approval by <code>17:00</code> same day. Provide rollback instructions for each job (snapshot locations, DB restore points, and <code>revert_command</code> for PQ or posting macros). Attach emergency contact list with phone numbers and escalation order for critical failures. Keep runbook steps concise, tested and versioned with documented drills at least twice per year. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Training plan & change control (week-by-week actions & artifacts)</strong><br>Training schedule across the implementation rollout: Week 0 stakeholder briefing for Payroll, HR, Tax and IT covering governance and scope; Week 1 hands-on PQ training and test cases for analysts with lab exercises; Week 2 DAX dashboard training for controllers and auditors; Week 3 reconciliation dry-run for operators and SOP sign-off; deliver training recordings, slides and signoff forms to <code>version_control/training/</code>. Implement a change control board (CCB) for <code>config</code> changes that requires defined approvers and an audit entry for every change. Maintain a change calendar and require at least one week notice for config changes affecting live payroll. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Change log & versioning rules (release artifacts & gating)</strong><br>Apply semantic versioning for templates and scripts using <code>file_v{major}.{minor}_{YYYYMMDD}</code>. Release gating: each release must include <code>release_notes.md</code> describing changes, a <code>diff</code> of modified files, approver signatures captured as digital artifacts, regression test results demonstrating no unintended deltas beyond tolerance, and UAT signoffs where required. Store releases under <code>releases/{tag}</code> and update the <code>version_control</code> sheet in <code>template_reconciliation.xlsx</code> with links to artifacts, approvers and checksum of the release bundle. Enforce branch protection in VCS and require at least one code and one legal or tax approver for policy affecting releases. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Contacts, escalation & RACI (copy-ready roles, escalation order & contact storage)</strong><br>Define an operational RACI and store contacts in <code>config.team_contacts</code> with role, primary and secondary contact details and escalation order: <code>Payroll Lead</code> (owner for monthly & recon runs), <code>Tax Lead</code> (policy and gross-up approver), <code>IT Owner</code> (maintains PQ, parser and integrations), <code>HR Lead</code> (onboarding & NPWP verification), <code>Auditors</code> (periodic reviews and signoffs). Include phone and email with escalation order and business hours coverage. Use these contacts for automated pager and email templates and include them in runbooks for operator use. Periodically verify contact accuracy and update <code>config.team_contacts</code> on personnel change. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Final verification checklist (pre-production gate requirements & signoff items)</strong><br>Pre-production verification must ensure:<br>1. regulatory numeric parameters are pulled from <code>config:regulatory_sources</code> and verified with recorded verifier and verification date;<br>2. <code>parser_version</code> and test corpus exist in the repo;<br>3. UAT signoffs captured and artifacts stored;<br>4. backup and restore tests for audit packages passed;<br>5. manifest checksum logic validated end-to-end;<br>6. SLA owners assigned and notified;<br>7. gross-up approval gating implemented and tested;<br>8. CI regression tests passing;<br>9. GL mapping documented and sample journal entries validated;<br>10. RACI and training completed and signoffs recorded. Capture final release tag, list of approvers, and store release in <code>releases/</code> with checksums and diffs. </td></tr><tr><td data-label="PPh Pasal 21 withholding and year-end reconciliation"> <strong>Operational closing instruction (compliance directive & usage mandate)</strong><br>Use this single-column artifact as the canonical operational plus technical blueprint for PPh 21 withholding and reconciliation involving employees moving between employers. Before any payroll posting or tax submission validate regulatory numeric parameters against official sources and record verifier and approver in <code>config:regulatory_sources</code>. Tag each release in <code>version_control</code>, maintain immutable audit packages per employee, execute escalation playbooks for exceptions, and retain evidence per retention policy. Any deviation from this blueprint must be recorded as a formal policy change with approver signatures and versioned release notes; emergency operational deviations must be corrected by a documented remediation plan and attached to the audit package for the affected fiscal year. </td></tr></tbody></table></div><div class="row-count">Rows: 44</div></div><script src="assets/xlsx.full.min.js?v=1758605028" defer></script>
<script src="assets/script.js?v=1759748863" defer></script>
<script src="assets/worker.js?v=1758331710" defer></script>
<script>
(function(){
  const template = "{table}_{date}";
  const userVal = "";
  const hrefPrefix = "assets";
  function formatName(tableName) {
    const date = (new Date()).toISOString().slice(0,10);
    return template.replace('{table}', tableName).replace('{date}', date).replace('{user}', userVal);
  }
  const btn = document.getElementById('exportBtn');
  if(btn) {
    btn.addEventListener('click', async function() {
      try {
        const html = document.documentElement.outerHTML;
        if(html.length > 2000000) { alert('Export refused: html too large'); return; }
        if(window.Worker) {
          const workerUrl = (function(){ try{ return hrefPrefix + '/worker.js'; }catch(e){ return null; } })();
          if(workerUrl) {
            try {
              const worker = new Worker(workerUrl);
              worker.postMessage({html: html, format: 'pdf'});
              worker.onmessage = function(e) { console.log('worker:', e.data); alert('Worker replied: '+(e.data.msg||e.data.status)); };
            } catch(err) { console.warn('Worker create failed', err); alert('Worker not available'); }
          } else { alert('Worker not available'); }
        } else { alert('Export worker not supported in this environment.'); }
      } catch(err) { console.warn('Export failed', err); alert('Export worker not available. See console for details.'); }
    });
  }
})();
window.addEventListener('load', function(){ try{ document.querySelectorAll('.table-wrapper').forEach(function(e){ e.style.opacity='1'; }); }catch(e){} });
</script>
</div>
</body>
</html>